<!--
@license https://github.com/t2ym/i18n-element/blob/master/LICENSE.md
Copyright (c) 2016, Tetsuya Mori <t2y3141592@gmail.com>. All rights reserved.
-->
<!-- i18n-element.html: Proof of Concept version -->
<link rel="import" href="../polymer/polymer-element.html">
<link rel="import" href="i18n-behavior.html">

<script>
// Globally expose base elements and mixins
window.BaseElements = window.BaseElements || {};
window.Mixins = window.Mixins || {};

// Localizable mixin
Mixins.I18nBehavior = (info) => Mixins.Localizable(Polymer.Class(info));

// Logger mixin
Mixins.Logger = (base) => class extends base {
  connectedCallback() {
    super.connectedCallback();
    console.log('<' + Object.getPrototypeOf(this).constructor.is + '>: ' +
      'id = ' + this.id + ', ' +
      'this.text = ' + JSON.stringify(this.text, null, 2));
    console.log('Preprocessed template = \n', Object.getPrototypeOf(this).constructor.template);
  }
};

// I18N Base Element
Object.defineProperty(BaseElements, 'I18nElement', {
  get: function () {
    return Mixins.I18nBehavior(Polymer.LegacyElement);
  }
});
</script>
