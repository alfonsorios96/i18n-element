{"version":3,"sources":["basic-test-imports.js"],"names":["_classCallCheck","instance","Constructor","TypeError","_possibleConstructorReturn","self","call","ReferenceError","_inherits","subClass","superClass","prototype","Object","create","constructor","value","enumerable","writable","configurable","setPrototypeOf","__proto__","updateProperty","element","properties","name","path","split","length","cursor","p","shift","notifyPath","Polymer","dom","document","querySelector","getProperty","target","trim","replace","previousSibling","nodeType","COMMENT_NODE","TEXT_NODE","data","match","nextSibling","getEffectiveChildNodes","Array","filter","item","deepMap","source","map","prop","_typeof","isArray","translate","lang","text","result","undefined","minifyText","setupFakeServer","e","isFakeServer","server","sinon","fakeServer","autoRespond","respondImmediately","respondWith","xhr","urlPath","fakeServerContents","hasOwnProperty","respond","Content-Type","teardownFakeServer","restore","setupFixture","params","fixtureModel","fixtureName","fixture","runningTest","querySelectorAll","title","currentPath","window","location","pathname","Error","textContent","suite","is","parentElement","classList","add","forEach","node","remove","Promise","resolve","reject","addEventListener","setupFixtureDomChange","ev","rootTarget","removeEventListener","setupFixtureLangDomChange","event","effectiveLang","render","ex","_children","f","t","templatizer","Templatizer","instanceProps","_ctor","templatize","fwdHostPropToInstance","host","_instance","forwardProperty","stamp","model","this","root","bind","setupFixtureLangUpdated","setTimeout","fire","JSON","stringify","restoreFixture","_intervalId","clearInterval","observeHtmlLang","getLocalDomRoot","suitesRunner","suites","el","expected","noProperties","rawValue","assign","defTimeout","timeout","setup","suiteSetup","then","fixtureSetup","console","log","error","test","localDOM","isSuppressingSuiteParams","templateDefaultLang","join","assert","isString","equal","isBoolean","actual","deepcopy","isObject","deepEqual","rawText","childPath","nodes","select","ok","i","a","lightDOM","teardown","suiteTeardown","_get","get","object","property","receiver","Function","desc","getOwnPropertyDescriptor","parent","getPrototypeOf","getter","_createClass","defineProperties","props","descriptor","defineProperty","key","protoProps","staticProps","Symbol","iterator","obj","/commented-simple-text-element/commented-simple-text-element.json","/commented-simple-text-element/locales/commented-simple-text-element.fr.json","/compound-binding-dom-bind.json","/compound-binding-element/compound-binding-element.json","/compound-binding-element/locales/compound-binding-element.fr.json","/edge-case-dom-bind.json","/edge-case/advanced-binding-element.json","/edge-case/complex-compound-binding-element.json","/edge-case/empty-element.json","/edge-case/locales/advanced-binding-element.fr.json","/edge-case/locales/complex-compound-binding-element.fr.json","/edge-case/locales/empty-element.fr.json","/fallback-text-element/fallback-text-element.json","/fallback-text-element/locales/fallback-text-element.fr-CA.json","/fallback-text-element/locales/fallback-text-element.fr.json","/locales/compound-binding-dom-bind.fr.json","/locales/simple-attribute-dom-bind.fr.json","/locales/simple-text-dom-bind.fr.json","/multiple-case/item-element.json","/multiple-case/locales/item-element.fr.json","/multiple-case/locales/multiple-element.fr.json","/multiple-case/multiple-element.json","/plural-gender-element/locales/plural-gender-element.fr.json","/plural-gender-element/plural-gender-element.json","/preference/preference-element.json","/simple-attribute-dom-bind.json","/simple-attribute-element/locales/simple-attribute-element.fr.json","/simple-attribute-element/locales/text-attribute-element.fr.json","/simple-attribute-element/simple-attribute-element.json","/simple-attribute-element/text-attribute-element.json","/simple-text-dom-bind.json","/simple-text-element/locales/simple-text-element.fr.json","/simple-text-element/locales/simple-text-element.ru.json","/simple-text-element/simple-text-element.json","/simple-text-id-element/locales/simple-text-id-element.fr.json","/simple-text-id-element/simple-text-id-element.json","/template-default-lang/locales/null-template-default-lang-element.ja.json","/template-default-lang/locales/null-template-default-lang-element.zh-Hans-CN.json","/template-default-lang/locales/template-default-lang-element.zh-Hans-CN.json","/template-default-lang/null-template-default-lang-element.json","/template-default-lang/template-default-lang-element.json","Number","isNaN","base","g","_name","suiteMap","null","s","baseName","extension","href","indexOf","syntax","_syntax","version","modules","lcModules","findModule","id","toLowerCase","DomModule","_HTMLElement","apply","arguments","register","warn","_styleOutsideTemplateCheck","selector","m","HTMLElement","customElements","define","Element","matchesSelector","matches","mozMatchesSelector","msMatchesSelector","oMatchesSelector","webkitMatchesSelector","Utils","mixin","extend","api","n","n$","getOwnPropertyNames","copyOwnProperty","pd","getRootNode","parentNode","cachingMixin","__mixinApplications","WeakMap","application","set","dedupingMixin","baseMap","__mixinMap","extended","Map","CaseMap","_caseMap","_rx","dashToCamel","camelToDash","dashToCamelCase","dash","toUpperCase","camelToDashCase","camel","createNodeEventHandler","context","eventName","methodName","_rootDataHost","handler","detail","EventListeners","_superClass","_addEventListenerToNode","resolveCss","cssText","ownerDocument","CSS_URL_RX","pre","url","post","resolveAttrs","URL_ATTRS","at","v","a$","l","localName","attributes","search","BINDING_RX","ABS_URL","resolver","getUrlResolver","resolveUrl","baseUri","tempDoc","implementation","createHTMLDocument","tempDocBase","createElement","head","appendChild","__urlResolver","*","form","ResolveUrl","parseTemplateAnnotations","template","content","_content","_notes","currentTemplate","parseNodeAnnotations","hasAttribute","list","stripWhiteSpace","Node","parseTextNodeAnnotation","parseElementAnnotations","parseBindings","parts","lastIndex","bindingRegex","exec","index","push","literal","slice","mode","negate","Boolean","customEvent","notifyEvent","colon","substring","compoundIndex","literalFromParts","note","bindings","kind","isCompound","events","insertionPointTag","_hasInsertionPoint","parseChildNodesAnnotations","parseNodeAttributeAnnotations","prepElement","firstChild","getAttribute","removeAttribute","replaceChild","setAttribute","parseTemplate","next","removeChild","childAnnotation","createDocumentFragment","emptyArray","templateContent","annotation","attrs","b","parseNodeAttributeAnnotation","origName","propertyName","IDENT","NUMBER","SQUOTE_STRING","DQUOTE_STRING","STRING","ARGUMENT","ARGUMENTS","ARGUMENT_LIST","BINDING","OPEN_BRACKET","CLOSE_BRACKET","NEGATE","EXPRESSION","RegExp","Annotations","_superClass2","_findTemplateAnnotatedNode","applyIdToMap","inst","applyEventListener","j","e$","_addMethodEventListenerToNode","applyTemplateContent","TemplateStamp","_Polymer$Annotations","_this4","$","HTMLTemplateElement","decorate","notes","_parseTemplateAnnotations","importNode","__noInsertionPoint","Path","dotIndex","isDeep","isAncestor","isDescendant","newBase","normalize","args","toString","info","part","last","saveAccessorValue","nativeProperties","__data","_setPendingProperty","__dataProto","proto","PropertyAccessors","_superClass3","_this5","_initializeProperties","__dataPending","__dataOld","__dataInvalid","readOnly","_setProperty","_invalidateProperties","old","_shouldPropChange","_this6","_flushProperties","oldProps","changedProps","_propertiesChanged","currentProps","caseMap","Attributes","_superClass4","_this7","__serializing","attribute","_valueToNodeAttribute","type","_deserializeAttribute","str","_serializeAttribute","Date","x","parse","String","ensureOwnMappedArray","effects","runEffects","fx","fn","runObserverEffect","runNotifyEffect","_dispatchNotifyingEvent","CustomEvent","runReflectEffect","_propertyToAttribute","attrName","runMultiObserverEffect","runMethodEffect","runComputedEffect","computedProp","methodInfo","_setPropertyFromComputation","bindTemplate","processAnnotations","binding","b$","shouldAddListener","addAnnotatedListener","addAnnotationEffect","signature","addAnnotationMethodEffect","_addPropertyEffect","TYPES","PROPAGATE","runAnnotationEffect","_nodes","_hasPropertyEffect","_setPropertyToNodeFromAnnotation","applyAnnotationValue","computeAnnotationValue","storage","__dataCompoundStorage","createMethodEffect","runAnnotationMethodEffect","val","_processed","k","parseMethod","rootProperty","pp","_hostProps","discoverTemplateHostProps","concat","p$","kk","tpp","Base","effect","_bindListeners","setupBindListeners","addNotifyListener","handleNotification","targetPath","_setPropertyFromNotification","sig","effectFn","dynamic","dynamicFn","arg","marshalArgs","expression","static","parseArgs","argList","rawArg","parseArg","fc","structured","wildcard","values","baseChanged","setupBindings","__dataHost","setupCompoundBinding","literals","notifySplices","array","splices","change","indexSplices","splicesPath","notifySplice","added","removed","addedCount","upper","ANY","COMPUTE","REFLECT","NOTIFY","OBSERVE","READ_ONLY","PropertyEffects","_Polymer$TemplateStam","_this8","_asyncEffects","__dataInitialized","__dataPendingClients","__dataFromAbove","__dataLinkedPaths","__propertyEffects","_createPropertyAccessor","hasEffect","isPath","fromAbove","ready","_setupBindings","to","from","_hasReadOnlyEffect","_setPathOrUnmanagedProperty","dispatchEvent","len","_len","items","_key","ret","hadLength","pop","start","deleteCount","Math","floor","_len2","_key2","splice","_len3","_key3","unshift","privateSetter","attr","runComputedEffects","PROPERTY_EFFECT_TYPES","inputProps","computedProps","utils","computeLinkedPaths","links","link","notifyProperties","runId","_runId","__dataInterim","__dataInterimOld","notified","notifyEffects","effectUid","runEffectsForProperty","setProperties","options","ran","fxs","lastRun","BatchedEffects","_Polymer$PropertyEffe","_this9","_flushClients","_enqueueClient","queueProperty","client","clients","StyleGather","MODULE_STYLES_SELECTOR","INCLUDE_ATTR","_importModule","moduleId","cssFromModules","moduleIds","warnIfNotFound","cssFromModule","_cssText","cssFromElement","include","__appliedElement","body","StyleUtil","isTargetedBuild","buildType","ShadyDOM","inUse","cssBuildTypeForModule","module","dm","getCssBuildType","ElementMixin","_Polymer$BatchedEffec","PolymerElement","_this10","telemetry","instanceCount","hostStack","registerHost","finalized","superProto","superCtor","finalize","config","_ownConfig","_finalizeConfig","cloneNode","_finalizeTemplate","_createPropertyFromConfig","observers","_createMethodObserver","style","insertBefore","ShadyCSS","prepareTemplate","_propagateEffects","_bindTemplate","_template","__ownConfig","__flattenedProperties","_flattenedProperties","_observedAttributes","_addPropertiesToAttributes","_finalized","_isPropertyPending","computed","_createReadOnlyProperty","_hasComputedEffect","_createComputedProperty","reflectToAttribute","_hasReflectEffect","_createReflectedProperty","notify","_hasNotifyEffect","_createNotifyingProperty","observer","_createObservedProperty","isEmpty","updateStyles","beginHosting","_stampTemplate","_attachDom","endHosting","attachShadow","shadowRoot","_attributeToProperty","applyStyle","stack","stackLen","registrations","_regLog","dumpRegistrations","userPolymer","klass","Class","Async","_currVal","_lastVal","_callbacks","_twiddleContent","_twiddle","createTextNode","run","callback","waitTime","cancel","handle","clearTimeout","idx","_atEndOfMicrotask","cb","flush","takeRecords","MutationObserver","observe","characterData","Debouncer","boundFlush","go","wait","h","finish","isActive","debounce","debouncer","setupTeardownMouseCanceller","en","MOUSE_EVENTS","mouseCanceller","ignoreMouse","IS_TOUCH_ONLY","POINTERSTATE","mouse","mouseIgnoreJob","unset","MOUSE_TIMEOUT","hasLeftMouseButton","buttons","MouseEvent","MOUSE_HAS_BUTTONS","MOUSE_WHICH_TO_BUTTONS","which","button","isSyntheticClick","gestures","findOriginalTarget","bcr","getBoundingClientRect","pageX","y","pageY","left","right","top","bottom","firstTouchAction","ta","composedPath","TOUCH_ACTION","trackDocument","stateObj","movefn","upfn","untrackDocument","wrap","HAS_NATIVE_TA","touchAction","GESTURE_KEY","HANDLED_OBJ","TAP_DISTANCE","TRACK_DISTANCE","TRACK_LENGTH","navigator","userAgent","mouseEvent","skip","preventDefault","stopPropagation","touch","scrollDecided","recognizers","deepTargetFind","elementFromPoint","handleNative","handled","currentTarget","gobj","gs","changedTouches","touches","identifier","handleTouchAction","r","flow","reset","clientX","clientY","prevent","dx","abs","dy","cancelable","addListener","evType","removeListener","recognizer","deps","dep","gd","_count","setTouchAction","recog","emits","findRecognizerByEvent","evName","Event","bubbles","composed","defaultPrevented","se","sourceEvent","end","mousedown","touchstart","touchend","state","started","moves","addMove","move","hasMovedEnough","ct","touchmove","secondlast","lastmove","ddx","ddy","hover","NaN","save","click","forward","Gestures","GestureEventListeners","_Polymer$EventListene","AsyncRender","_scheduled","_beforeRenderQueue","_afterRenderQueue","beforeRender","_schedule","afterRender","requestAnimationFrame","_flushQueue","flushBeforeRender","flushAfterRender","queue","RenderStatus","afterNextRender","newSplice","EDIT_LEAVE","EDIT_UPDATE","EDIT_ADD","EDIT_DELETE","ArraySplice","calcEditDistances","current","currentStart","currentEnd","oldStart","oldEnd","rowCount","columnCount","distances","equals","north","west","spliceOperationsFromEditDistances","edits","northWest","min","reverse","calcSplices","prefixCount","suffixCount","minLength","sharedPrefix","sharedSuffix","ops","oldIndex","searchLength","index1","index2","count","calculateSplices","previous","currentValue","previousValue","isSlot","getEffectiveNodes","assignedNodes","flatten","childNodes","reduce","forwardMethods","methods","_loop","method","forwardReadOnlyProperties","_loop2","forwardProperties","_loop3","effectiveNodesObserverPromise","EffectiveNodesObserver","_this12","effectiveNodes","scheduled","_boundSchedule","schedule","connect","_this13","listenSlots","children","shadyChildrenObserver","observeChildren","mutations","processMutations","nativeChildrenObserver","childList","connected","unlistenSlots","unobserveChildren","disconnect","_this14","processSlotMutations","mutation","addedNodes","removedNodes","newNodes","nodeList","DomApi","patch","observerHandle","contains","doc","ip$","assignedSlot","externalNode","deep","Document","c","c$","ELEMENT_NODE","EventApi","ctor","__domApi","Settings","useShadow","WebComponents","readyState","_warn","warning","LegacyElementMixin","_Polymer$GestureEvent","LegacyElement","_this15","created","_applyConfigListeners","listeners","_ensureConfigAttributes","hostAttributes","_ensureAttribute","_applyListeners","_ensureAttributes","isAttached","attached","detached","attributeChanged","_valueToAttribute","inherited","assetPath","baseURI","hbl","__boundListeners","bl","_removeEventListenerFromNode","direction","slctr","forceRender","queryDistributedElements","cn","tc","getDistributedNodes","getContentChildNodes","container","shouldObserve","getComputedStyleValue","jobName","_debouncers","tag","elt","onload","onerror","optAsync","rel","HTMLImports","whenReady","bool","transformText","webkitTransform","transform","z","arrayOrPath","arr","DocumentFragment","metaProps","beforeRegister","registered","behaviors","mixinBehaviors","MixinBehavior","flattenBehaviors","behavior","PolymerGenerated","_Base","_this16","__registered","_invokeFunction","_applyConfigMetaDataFrom","getNativeConstructor","DomBind","_Polymer$BatchedEffec2","_removeChildren","_insertChildren","PatchedHTMLTemplateElement","_newInstance","TemplateInstanceBase","_class","DataTemplate","_Polymer$BatchedEffec3","__templatizerClass","baseClass","_createTemplatizerClass","_prepHostProperties","__template","instCount","_this20","templateHost","_configureProperties","_templateInstance","__hideTemplateChildren__","_showHideChildren","hide","__polymerTextContent__","__polymerDisplay__","display","iprop","hprop","_this21","_prepInstanceProperties","upgradeTemplate","hostProps","_createHP2IEffector","hostProp","fwdInstancePropToHost","_createIP2HEffector","_createHP2HEffector","instProp","_debouncerQueue","as","indexAs","itemsIndexAs","sort","delay","renderedItemCount","initialCount","targetFramerate","_targetFrameTime","_instances","_pool","_limit","Infinity","_boundRenderChunk","_renderChunk","__isDetached","_detachInstance","_attachInstance","ensureTemplatized","__domRepeat","repeater","i$","_getRootDataHost","_sortChanged","dataHost","_sortFn","_needFullRefresh","_debounceRender","_filterChanged","_filterFn","_computeFrameTime","rate","ceil","_initializeChunking","_chunkCount","_lastChunkTime","performance","now","_tryRenderChunk","_requestRenderChunk","currChunkTime","ratio","round","_observeChanged","_observePaths","_itemsChanged","_forwardItemPath","_checkObservedPaths","paths","_render","enqueueDebouncer","_applyFullRefresh","_setRenderedItemCount","_this22","isntIdxToItemsIdx","itemsIdxToInstIdx","_itemsIdxToInstIdx","instIdx","limit","itemIdx","flushProperties","_insertInstance","_detachAndRemoveInstance","_stampInstance","beforeRow","beforeNode","hidden","dot","itemsIdx","itemForElement","modelForElement","indexForElement","if","restamp","_queueRender","DOCUMENT_FRAGMENT_NODE","_teardownInstance","async","_ensureInstance","_lastIf","__domIf","domif","lastChild","CustomStyle","processHook","_bindingRegex_patch","_bindingRegex_1_2_4","_bindingRegex_1_2_4_patched","_bindingRegex","XMLHttpRequest","response","status","statusText","completes","resolveCompletes","rejectCompletes","progress","aborted","errored","timedOut","succeeded","send","_setProgress","lengthComputable","loaded","total","_setErrored","_updateStatus","_setTimedOut","_setResponse","parseResponse","open","acceptType","json","html","xml","arraybuffer","handleAs","headers","newHeaders","keys","requestHeader","_error","setRequestHeader","jsonPrefix","responseType","_responseType","_jsonPrefix","withCredentials","_encodeBodyObject","preferResponseText","prefixLen","responseText","_","responseXML","message","abort","_setAborted","contentType","bodyObj","_wwwFormUrlEncode","pieces","_wwwFormUrlEncodePiece","encodeURIComponent","_setStatus","_setStatusText","sync","auto","verbose","lastRequest","loading","lastResponse","lastError","activeRequests","debounceDuration","_boundHandleResponse","_handleResponse","queryString","param","queryParts","requestUrl","bindingChar","requestHeaders","header","toRequestOptions","generateRequest","request","requestOptions","_handleError","_discardRequest","_setLastRequest","_setLoading","_setLastResponse","_setLastError","requestIndex","_requestOptionsChanged","_setupIntlPolyfill","intlLibraryUrl","Intl","intlLibraryLoadingStatus","IntlPolyfill","intlLibraryScript","intlLibraryLoaded","_setupIntlPolyfillLocale","locale","script","intlScript","supported","NumberFormat","supportedLocalesOf","localeMatcher","fallbackLanguages","_enumerateFallbackLanguages","enSupport","DEFAULT_LANG","anotherIntlLocaleLoadedBindThis","anotherIntlLocaleLoadErrorBindThis","fallbackSupport","intlLocaleLoadedBindThis","intlLocaleLoadErrorBindThis","libraryLoadedBindThis","extLangCode","scriptCode","countryCode","isExtLangCode","isScriptCode","isCountryCode","_setupIntlPolyfillCalled","_lang","raw","offset","rawNumber","number","formatted","_setupObservers","textNode","_textMutated","attributeFilter","nodeObserver","observeNodes","attributeName","_rawChanged","_langChanged","_optionsChanged","_onOptionsPropertyChanged","_offsetChanged","_formatNumber","format","_cp","ord","v0","plurals","amd","exports","af","ak","am","ar","t0","n100","asa","ast","az","i10","i100","i1000","be","n10","bem","bez","bg","bh","bm","bn","bo","br","n1000000","brx","bs","f10","f100","ca","ce","cgg","chr","ckb","cs","cy","da","de","dsb","dv","dz","ee","eo","es","et","eu","fa","ff","fi","fil","fo","fr","fur","fy","ga","gl","gsw","gu","guw","gv","ha","haw","he","hi","hr","hsb","hu","hy","ig","ii","in","it","iu","iw","ja","jbo","jgo","ji","jmc","jv","jw","ka","kab","kaj","kcg","kde","kea","kkj","kl","km","kn","ko","ks","ksb","ksh","ku","kw","ky","lag","lb","lg","lkt","ln","lo","lt","lv","mas","mg","mgo","mk","ml","mn","mo","mr","ms","mt","my","nah","naq","nb","nd","ne","nl","nn","nnh","no","nqo","nr","nso","ny","nyn","om","or","os","pa","pap","pl","prg","ps","pt","pt-PT","rm","ro","rof","ru","rwk","sah","saq","sdh","seh","ses","sg","sh","shi","si","sk","sl","sma","smi","smj","smn","sms","sn","so","sq","sr","ss","ssy","st","sv","sw","syr","te","teo","th","ti","tig","tk","tl","tn","tr","ts","tzm","ug","uk","ur","uz","ve","vi","vo","vun","wa","wae","wo","xh","xog","yi","yo","zh","zu","paramAttribute","paramFormat","observeParams","_setupParams","elements","needParamObservation","tagName","_templateMutated","templateElement","templateTextNode","listen","_paramFormatChanged","oldParamFormat","lastTemplateText","_paramAttributeChanged","oldParamAttribute","_getPluralCategory","category","_selectTemplateText","templateText","templateObject","other","paramPlaceholder","tmpNode","shadowDomV1","shadyDomV1","innerHTML","useRaw","autoSaveDisabled","errorMessage","_loaded","_boundHandleStorage","_handleStorage","_load","_trySaveValue","_doNotSave","_debounceReload","reload","externalChange","localStorage","getItem","removeItem","setItem","defaultLang","hasNative","currentScript","_currentScript","domModule","registerI18nPreference","persist","isReady","_observe","language","browserLanguage","_disconnect","_onLoadEmptyStorage","isInitialized","_onLoadStorage","_onPersistChange","_onStorageValueChange","_htmlLangMutationObserverCallback","_htmlLangMutationObserver","_htmlLangMutationObserverCallbackBindThis","sharedData","BehaviorsStore","_I18nAttrRepo","_created","customAttributes","_traverseTemplateTree","__ready__","standardTemplate","standard","isLocalizableAttribute","_getType","_matchAttribute","_compareSelectors","s1","s2","name1","name2","localeCompare","setLocalizableAttribute","prev","selectors","","registerLocalizableAttributes","textAttr","nodeName","o","u","__esModule","Buffer","isBuffer","getOwnPropertySymbols","getKeys","getSymbols","getTime","lastIndexOf","copy","copyValue","copyCollection","d","ShadowDOMPolyfill","isStandardPropertyConfigurable","langPropertyDescriptor","extraWhiteSpaceNode","bundles","bundleFetchingInstances","startUrl","localesPath","attributesRepository","userPreference","debuglog","I18nControllerBehavior","isI18nController","masterBundles","I18nBehavior","lang-updated","_getBundle","resolved","tryLang","fallbackLanguageList","_fetchStatus","lastLang","_handleLangAttributeChange","oldValue","oldLang","ajaxLang","_fetchLanguage","_updateEffectiveLang","targetLang","_fetchBundle","nextFallbackLanguage","fetchingInstance","_constructBundle","_forwardLangEventBindThis","_forwardLangEvent","_handleBundleFetchedBindThis","_handleBundleFetched","ajax","_handleResponseBindFetchingInstance","_handleErrorBindFetchingInstance","skipFetching","bundle","_deepMap","success","rawResponses","_observeHtmlLangChanged","_htmlLangObserver","_handleHtmlLangChange","baseLang","_constructDefaultBundle","_id","parentTemplate","localizableText","jsonData","_traverseAttributes","messageId","attrId","isLocalizable","dummy","parameterized","processed","parsed","_generateMessageId","_setBundleValue","setAttributeNode","span","templateTextParams","whiteSpaceElements","isWhiteSpace","isCompoundAnnotatedNode","child","parsedValue","parsedValue2","childElementCount","_isCompoundAnnotatedText","childStatus","templateNonCommentChildNodes","templateChild","hasText","hasCompoundAnnotatedText","hasTextChild","hasCompoundAnnotatedChildNode","hasGrandChildren","grandChild","_hasAnnotatedText","_compoundAnnotationToSpan","_child","templateNode","childTextNode","currentList","DOCUMENT_NODE","childNode","messageIdPath","substr","table","i18nFormat","_templateLocalizable","useNative","assetUrl","URL","currentImport","_propertyEffects","attributeOldValue","_onDomChangeBindThis","_onDomChange","__data__","Bind","_createAccessors","_properties","_I18nBehavior","i18nAttrRepos","domModules","repo","i18nBehaviorDomBind","i18nDomBind","domBind","domBindProto","_Polymer","_Base2","_this23","BaseElements","Mixins","Localizable","_Polymer$Utils$MixinB","_uncamelCase","_i18nPreprocess","_rawTemplate","__templateLocalizable","Logger","_base","_class2","UncamelCase","functionName","func","_Define","Define","classId","cousin","rawTemplate","word","I18nDomBind","_Mixins$Localizable","stamped","SimpleTextElement","_Mixins$Localizable2","_BaseElements$I18nEle","_SimpleTextElement","I18nElement","_langUpdated","CommentedSimpleTextElement","_Mixins$Localizable3","_BaseElements$I18nEle3","_CommentedSimpleTextElement","PluralGenderElement","_Mixins$Localizable4","renderedEffectiveLang","sender","recipients","_BaseElements$I18nEle5","_PluralGenderElement","_rendered","TextAttributeElement","_Mixins$Localizable5","customTextAttr1","customTextAttr2","customTextAttr3","outOfScopeAttr","i18nTarget","i18nTarget2","_BaseElements$I18nEle7","_TextAttributeElement","SimpleAttributeElement","_Mixins$Localizable6","setInterval","_checkChartStatus","isPieChartRendered","isColumnChartRendered","pieChartInnerHtml","chartdiv","columnChartInnerHtml","_BaseElements$I18nEle9","_SimpleAttributeElement","pie-chart.google-chart-render","column-chart.google-chart-render","_pieChartRendered","_columnChartRendered","FallbackTextElement","_Mixins$Localizable7","_BaseElements$I18nEle11","_FallbackTextElement","CompoundBindingElement","_Mixins$Localizable8","param1","param2","_BaseElements$I18nEle13","_CompoundBindingElement","SimpleTextIdElement","_Mixins$Localizable9","_BaseElements$I18nEle15","_SimpleTextIdElement","onDomChangeForBind","done","_onDomChangeAfterLangUpdated","lang0","lang1","lang2","lang3","lang4","lang5","lang6","text_simple","h1_3","text_4","span_5","span_6","label-1","label-2","div_9:span","div_9:span_1","div_9:div_2:div","div_10:text","div_10:span_1","div_10:text_2","div_10:span_3","div_10:div_4:div","div_10:text_5","toplevel-div:span","toplevel-div:span_1","third-level-div","second-level-div:div_1","div_12:ul:li","div_12:ul:li_1","div_12:ul:li_2","line-items:li","line-items:li_1","line-items:li_2","p_13","paragraph","text_15","localDOM_simple","previousTextSibling.data","nextTextSibling.data","childNodes.0.data","PolymerDom.children.0.textContent","PolymerDom.children.1.tagName","PolymerDom.children.1.textContent","PolymerDom.children.1.attributes.slot.value","PolymerDom.children.2.tagName","PolymerDom.children.2.textContent","PolymerDom.children.2.attributes.slot.value","text_simple_text_id","second-level-div","line-items","localDOM_simple_text_id","PolymerDom.children.3.tagName","PolymerDom.children.3.textContent","PolymerDom.children.3.attributes.slot.value","sender1","gender","recipients1","recipients2","recipients3","recipients4","text_plural_gender","compound-format-text","0","1","male","female","one","localDOM_plural_gender_1","root.PolymerDom.textContent","PolymerDom.children.1.PolymerDom.childNodes.0.data.raw","PolymerDom.children.2.PolymerDom.childNodes.0.data.raw","PolymerDom.children.3.PolymerDom.childNodes.0.data.raw","PolymerDom.children.4.PolymerDom.childNodes.0.data.raw","PolymerDom.children.5.PolymerDom.childNodes.0.data","localDOM_plural_gender_2","localDOM_plural_gender_3","localDOM_plural_gender_4","text_simple_attribute","standard-input","placeholder","outer-div:input_2","paper-input-element","label","error-message","outer-div:paper-input_4","pie-chart","cols","rows","column-chart","custom-attr","custom-text-attr1","custom-text-attr2","custom-text-attr3","selective-attr","custom-text-attr4","custom-text-attr5","i18n-target","i18n-target2","selective-attr2","selective-attr3","i18n-target6","selective-attr4","json-data-id","attr1","i18n-target-attr","template_2:json-data_1","ordinary-div","model_simple_attribute","localDOM_simple_attribute","placeholder.text","label.text","errorMessage.text","options.title.text","cols.0.label.text","cols.1.label.text","rows.0.0.text","rows.1.0.text","rows.2.0.text","rows.3.0.text","rows.4.0.text","rows.5.0.text","data.0.0.text","data.0.1.text","data.0.2.text","customTextAttr1.text","customTextAttr2.text","customTextAttr3.text","i18nTarget.raw","i18nTarget2.raw","localDOM_simple_attribute_fr","text_fallback","localDOM_fallback","text_compound","localDOM_compound","PolymerDom.children.1.textContent.raw","PolymerDom.children.2.textContent.raw","PolymerDom.children.1.attributes.slot.value.raw","PolymerDom.children.3.textContent.raw","PolymerDom.children.3.attributes.slot.value.raw","html.lang"],"mappings":"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C,uBACE,sDACA,aACA,cAEFC,mBACE,8DACA,aACA,cAEFC,0BACE,yEACA,aACA,cAEFC,gBACE,oDACA,aACA,cAEFC,kBACE,oDACA,aACA,cAEFC,kBACE,oDACA,aACA,cAEFC,iBACE,iDACA,aACA,cAEFC,mBACE,iDACA,aACA,cAEFC,mBACE,iDACA,aACA,cAEFC,MACE,4CACA,aACA,cAEFC,WACE,0DACA,KACA,aACA,aACA,iBAEFC,SACE,yDACA,aACA,eAGAkG,oBACAjyD,OAAQ,cACRosD,qCACE,wEACA,gDACA,4DACA,oDACA,sDACA,gDACA,kDACA,oDACA,sDACA,8DACA,uEACA,oDACA,gEACA,sDACA,8DACA,sEACA,oDACA,sDACA,8DACA,yEACA,oDACA,oDACA,oDACA,iDACA,iDACA,iDACA,4CACA,0DACA,0DAEF8F,yCACE,yBACA,yBACA,yBACA,yBACA,yBACA,yBACA,yBACA,yBACA,yBACA,yBACA,yBACA,yBACA,yBACA,yBACA,yBACA,yBACA,yBACA,yBACA,yBACA,yBACA,yBACA,yBACA,yBACA,yBACA,yBACA,yBACA,0BAEFC,yCACE,yBACA,yBACA,yBACA,yBACA,yBACA,yBACA,yBACA,yBACA,yBACA,yBACA,yBACA,yBACA,yBACA,yBACA,yBACA,yBACA,yBACA,yBACA,yBACA,yBACA,yBACA,yBACA,yBACA,yBACA,yBACA,yBACA,yBACA,yBACA,4BAGFnyD,OAAQ,+BACRqsD,gCAAiC,IACjCC,oCAAqC,KACrC8F,kDAAmD,IACnDrF,gCAAiC,OACjCsF,wCAAyC,yBACzCC,kDAAmD,MAEnDtyD,OAAQ,gCACRkyD,wCAAyC,2BAIzCj0D,QACF4G,EAAE,sBAAuB,MACvBvK,QAAS,sCACTF,aAAcrB,OACduF,OAAQvF,OACRH,KAAMixD,MACN3tD,cAAe2tD,MACf1qD,oBAAqB0qD,MACrB/rD,iBAAiB,EACjBjF,KAAMsxD,YACNjtD,SACA+B,SAAU+sD,gBACV5rD,SAAUrH,SAEZ8L,EAAE,gCAAiC,uBACjCvK,QAAS,kDAEXuK,EAAE,gCAAiC,uBACjCvG,QAAU1F,KAAMgxD,OAChBhxD,KAAMgxD,MACN1tD,cAAe0tD,QAEjB/kD,EAAE,0CAA2C,iCAC3CvG,QAAU1F,KAAMgxD,OAChBhxD,KAAMgxD,MACN1tD,cAAe0tD,QAEjB/kD,EAAEilD,MAAQ,uBAAwB,uBAChCxrD,QAAU1F,KAAMkxD,OAChBlxD,KAAMkxD,MACN5tD,cAAe4tD,QAEjBjlD,EAAEilD,MAAQ,iCAAkC,iCAC1CxrD,QAAU1F,KAAMkxD,OAChBlxD,KAAMkxD,MACN5tD,cAAe4tD,QAEjBjlD,EAAE,wBAAyB,uBACzBvK,QAAS,8BACTF,cAAgB0D,iBAAiB,EAAOlF,KAAMgxD,OAC9CtrD,QAAU1F,KAAMgxD,OAChBhxD,KAAMgxD,MACN1tD,cAAe0tD,MACf9rD,iBAAiB,IAEnB+G,EAAE,cAAe,yBACfvG,QAAU1F,KAAMixD,OAChBjxD,KAAMixD,MACN3tD,cAAe2tD,QAEjBhlD,EAAEilD,MAAQ,eAAgB,eACxBxrD,QAAU1F,KAAMkxD,OAChBlxD,KAAMkxD,MACN5tD,cAAe4tD,QAEjBjlD,EAAEqlD,MAAQ,eAAgB,eACxB5rD,QAAU1F,KAAMsxD,OAChBtxD,KAAMsxD,MACNhuD,cAAeguD,QAEjBrlD,EAAE,wBAAyB,eACzBvK,QAAS,0CAEXuK,EAAE,kCAAmC,yBACnCvG,QAAU1F,KAAMgxD,OAChBhxD,KAAMgxD,MACN1tD,cAAe0tD,QAEjB/kD,EAAEilD,MAAQ,yBAA0B,yBAClC1vD,cAAgB0D,iBAAiB,EAAOlF,KAAMgxD,OAC9CtrD,QAAU1F,KAAMkxD,OAChBlxD,KAAMkxD,MACN5tD,cAAe4tD,QAEjBjlD,EAAEilD,MAAQ,gCAAiC,yBACzC1vD,cAAgB0D,iBAAiB,EAAOlF,KAAMkxD,OAC9CxrD,OAAQvF,OACRH,KAAMkxD,MACN5tD,cAAe4tD,QAEjBjlD,EAAE,iBAAkB,eAClBvK,QAAS,iCACTzB,KAAM8zD,oBACN1tD,SAAU6tD,0BAEZjoD,EAAEilD,MAAQ,kBAAmB,kBAC3BxrD,QAAU1F,KAAMkxD,OAChBlxD,KAAMkxD,MACN5tD,cAAe4tD,QAEjBjlD,EAAE,gBAAiB,uBACjBvK,QAAS,gCACTF,cACE0D,iBAAiB,EACjBlF,KAAMgxD,OAERtrD,QACE1F,KAAMixD,MACNhD,OAAQqG,QACRpG,WAAYsG,aAEdtvD,iBAAiB,EACjB7B,MAAO,kBACPpD,KAAM20D,mBACNvuD,SAAU8uD,2BAEZlpD,EAAE,kBAAmB,iBACnBvG,QACE1F,KAAMixD,MACNhD,OAAQqG,QACRpG,WAAYuG,aAEdpuD,SAAUqvD,2BAEZzpD,EAAE,kBAAmB,iBACnBvG,QACE1F,KAAMixD,MACNhD,OAAQqG,QACRpG,WAAYwG,aAEdruD,SAAUsvD,2BAEZ1pD,EAAE,kBAAmB,iBACnBvG,QACE1F,KAAMixD,MACNhD,OAAQqG,QACRpG,WAAYyG,aAEdtuD,SAAUuvD,2BAEZ3pD,EAAEilD,MAAQ,iBAAkB,iBAC1BxrD,QACE1F,KAAMkxD,MACNjD,OAAQqG,QACRpG,WAAYsG,aAEdx0D,KAAMkxD,MACN5tD,cAAe4tD,QAEjBjlD,EAAEilD,MAAQ,mBAAoB,mBAC5BxrD,QACE1F,KAAMkxD,MACNjD,OAAQqG,QACRpG,WAAYuG,aAEdz0D,KAAMkxD,MACN5tD,cAAe4tD,MACf7qD,SAAUqvD,2BAEZzpD,EAAEilD,MAAQ,mBAAoB,mBAC5BxrD,QACE1F,KAAMkxD,MACNjD,OAAQqG,QACRpG,WAAYwG,aAEd10D,KAAMkxD,MACN5tD,cAAe4tD,MACf7qD,SAAUsvD,2BAEZ1pD,EAAEilD,MAAQ,mBAAoB,mBAC5BxrD,QACE1F,KAAMkxD,MACNjD,OAAQqG,QACRpG,WAAYyG,aAEd30D,KAAMkxD,MACN5tD,cAAe4tD,MACf7qD,SAAUuvD,2BAEZ3pD,EAAE,mBAAoB,uBACpBvK,QAAS,mCACTF,cACE0D,iBAAiB,EACjBlF,KAAMgxD,OAERtrD,QAAU1F,KAAMixD,OAChB/rD,iBAAiB,EACjBjF,KAAM41D,sBACNvxD,MAAOqzD,uBACPtxD,SAAUuxD,4BAEZ3rD,EAAEilD,MAAQ,oBAAqB,oBAC7BxrD,QAAU1F,KAAMkxD,OAChBlxD,KAAMkxD,MACN5tD,cAAe4tD,MACf7qD,SAAU4yD,+BAEZhtD,EAAEmlD,MAAQ,yCAA2CF,MAAO,uBAC1DtrD,QAAS,IACTF,QAAU1F,KAAMoxD,OAChBpxD,KAAMkxD,MACN5tD,cAAe4tD,QAEjBjlD,EAAEmlD,MAAQ,iCAAmCF,MAAO;AAClDtrD,QAAS,IACTF,QAAU1F,KAAMoxD,OAChBpxD,KAAMkxD,MACN5tD,cAAe4tD,QAEjBjlD,EAAEolD,MAAQ,wCAAyC,eACjDzrD,QAAS,IACTF,QAAU1F,KAAMqxD,OAChBrxD,KAAMgxD,MACN1tD,cAAe0tD,QAEjB/kD,EAAEklD,MAAQ,wCAAyC,eACjDvrD,QAAS,IACTF,QAAU1F,KAAMmxD,OAChBnxD,KAAMgxD,MACN1tD,cAAe0tD,QAEjB/kD,EAAEmlD,MAAQ,iBAAkB,eAC1BxrD,QAAS,IACTlE,QAAS,gCACTgE,QAAU1F,KAAMoxD,OAChBpxD,KAAMoxD,MACN9tD,cAAe8tD,MACfnqD,SAAS,EACThH,KAAMi5D,cACN7yD,SAAU8yD,oBAEZltD,EAAE,mBAAoB,eACpBvK,QAAS,mCACTF,cACE0D,iBAAiB,EACjBlF,KAAMgxD,MACNX,OAAQA,OACRC,OAAQA,QAEVrwD,KAAMm5D,cACN/yD,SAAUgzD,oBAEZptD,EAAEilD,MAAQ,oBAAqB,oBAC7B1vD,cACE0D,iBAAiB,EACjBlF,KAAMgxD,MACNX,OAAQA,OACRC,OAAQA,QAEV5qD,QAAU1F,KAAMkxD,OAChBlxD,KAAMkxD,MACN5tD,cAAe4tD,QAEjBjlD,EAAE,4BAA6B,oBAC7BvK,QAAS,4BACTF,cACE0D,iBAAiB,EACjBlF,KAAMgxD,OAERtrD,QAAU1F,KAAMixD,OAChB5tD,MAAO,kBACPpD,KAAM41D,sBACNvxD,MAAOqzD,uBACPtxD,SAAUuxD,4BAEZ3rD,EAAEilD,MAAQ,6BAA8B,6BACtC1vD,cACE0D,iBAAiB,EACjBlF,KAAMgxD,OAERtrD,QAAU1F,KAAMkxD,OAChBlxD,KAAMkxD,MACN5tD,cAAe4tD,MACf7qD,SAAU4yD,+BAEZhtD,EAAE,4BAA6B,oBAC7BvK,QAAS,8BAEXuK,EAAEilD,MAAQ,6BAA8B,6BACtCxrD,QAAU1F,KAAMkxD,OAChBlxD,KAAMkxD,MACN5tD,cAAe4tD,QAEjBjlD,EAAEilD,MAAQ,gDAAiD,eACzDxvD,QAAS,uBACTF,cACEm4D,YAAatI,OAEf3rD,QAAUi0D,YAAazI,OACvBlxD,KAAMkxD,MACN5tD,cAAe4tD,MACfjxD,KAAMsxD,YACNjtD,MAAOnE,OACPkG,SAAU+sD,gBACVluD,iBAAiB,IAEnB+G,EAAE,uBAAwB,eACxBvK,QAAS,uBACTF,cACE0D,iBAAiB,EACjBlF,KAAMgxD,OAER/wD,KAAMsxD,YACNlrD,SAAU+sD,kBAEZnnD,EAAEilD,MAAQ,wBAAyB,wBACjCxrD,QAAU1F,KAAMkxD,OAChBlxD,KAAMkxD,MACN5tD,cAAe4tD,QAEjBjlD,EAAE,iCAAkC,wBAClCzK,cACE0D,iBAAiB,EACjBlF,KAAMgxD,MACN2I,YAAa3I,OAEftrD,QAAUi0D,YAAa1I,OACvB/rD,iBAAiB,IAEnB+G,EAAEilD,MAAQ,kCAAmC,kCAC3CxrD,QAAUi0D,YAAazI,OACvBlxD,KAAMkxD,MACN5tD,cAAe4tD,QAEjBjlD,EAAE,sCAAuC,yBACvCzK,cACE0D,iBAAiB,GAEnBQ,QAAUi0D,YAAa1I,OACvBjxD,KAAMixD,MACN3tD,cAAe2tD,MACf/rD,iBAAiB,IAIrBE,cAAaC","file":"../basic-test-imports.js","sourcesContent":["\"use strict\";\nvar fakeServerContents =\n{\n  \"/commented-simple-text-element/commented-simple-text-element.json\": \"{\\n  \\\"meta\\\": {},\\n  \\\"model\\\": {},\\n  \\\"text\\\": \\\" outermost text at the beginning \\\",\\n  \\\"h1_3\\\": \\\"outermost header 1\\\",\\n  \\\"text_4\\\": \\\" outermost text in the middle \\\",\\n  \\\"span_5\\\": \\\"simple text without id\\\",\\n  \\\"span_6\\\": \\\"simple text without id 2\\\",\\n  \\\"label-1\\\": \\\"simple text with id\\\",\\n  \\\"label-2\\\": \\\"simple text with id 2\\\",\\n  \\\"div_9:span\\\": \\\"simple text within div\\\",\\n  \\\"div_9:span_1\\\": \\\"simple text within div 2\\\",\\n  \\\"div_9:div_2:div\\\": \\\"great grandchild text within div\\\",\\n  \\\"div_10:text\\\": \\\" simple text as the first element in div \\\",\\n  \\\"div_10:span_1\\\": \\\"simple text within div\\\",\\n  \\\"div_10:text_2\\\": \\\" simple text in the middle of div \\\",\\n  \\\"div_10:span_3\\\": \\\"simple text within div 2\\\",\\n  \\\"div_10:div_4:div\\\": \\\"great grandchild text within div\\\",\\n  \\\"div_10:text_5\\\": \\\" simple text at the last element in div \\\",\\n  \\\"toplevel-div:span\\\": \\\"simple text within div\\\",\\n  \\\"toplevel-div:span_1\\\": \\\"simple text within div 2\\\",\\n  \\\"third-level-div\\\": \\\"great grandchild text within div\\\",\\n  \\\"second-level-div:div_1\\\": \\\"great grandchild text within div without id\\\",\\n  \\\"div_12:ul:li\\\": \\\"line item without id 1\\\",\\n  \\\"div_12:ul:li_1\\\": \\\"line item without id 2\\\",\\n  \\\"div_12:ul:li_2\\\": \\\"line item without id 3\\\",\\n  \\\"line-items:li\\\": \\\"line item with id 1\\\",\\n  \\\"line-items:li_1\\\": \\\"line item with id 2\\\",\\n  \\\"line-items:li_2\\\": \\\"line item with id 3\\\",\\n  \\\"p_13\\\": [\\n    \\\"A paragraph with {1} is converted to {2}.\\\",\\n    \\\"parameters\\\",\\n    \\\"<i18n-format>\\\"\\n  ],\\n  \\\"paragraph\\\": [\\n    \\\"A paragraph with {1} is converted to {2}.\\\",\\n    \\\"id\\\",\\n    \\\"<i18n-format>\\\"\\n  ],\\n  \\\"text_15\\\": \\\" outermost text at the end \\\"\\n}\",\n  \"/commented-simple-text-element/locales/commented-simple-text-element.fr.json\": \"{\\n  \\\"model\\\": {},\\n  \\\"text\\\": \\\" fr outermost text at the beginning \\\",\\n  \\\"h1_3\\\": \\\"fr outermost header 1\\\",\\n  \\\"text_4\\\": \\\" fr outermost text in the middle \\\",\\n  \\\"span_5\\\": \\\"fr simple text without id\\\",\\n  \\\"span_6\\\": \\\"fr simple text without id 2\\\",\\n  \\\"label-1\\\": \\\"fr simple text with id\\\",\\n  \\\"label-2\\\": \\\"fr simple text with id 2\\\",\\n  \\\"div_9:span\\\": \\\"fr simple text within div\\\",\\n  \\\"div_9:span_1\\\": \\\"fr simple text within div 2\\\",\\n  \\\"div_9:div_2:div\\\": \\\"fr great grandchild text within div\\\",\\n  \\\"div_10:text\\\": \\\" fr simple text as the first element in div \\\",\\n  \\\"div_10:span_1\\\": \\\"fr simple text within div\\\",\\n  \\\"div_10:text_2\\\": \\\" fr simple text in the middle of div \\\",\\n  \\\"div_10:span_3\\\": \\\"fr simple text within div 2\\\",\\n  \\\"div_10:div_4:div\\\": \\\"fr great grandchild text within div\\\",\\n  \\\"div_10:text_5\\\": \\\" fr simple text at the last element in div \\\",\\n  \\\"toplevel-div:span\\\": \\\"fr simple text within div\\\",\\n  \\\"toplevel-div:span_1\\\": \\\"fr simple text within div 2\\\",\\n  \\\"third-level-div\\\": \\\"fr great grandchild text within div\\\",\\n  \\\"second-level-div:div_1\\\": \\\"fr great grandchild text within div without id\\\",\\n  \\\"div_12:ul:li\\\": \\\"fr line item without id 1\\\",\\n  \\\"div_12:ul:li_1\\\": \\\"fr line item without id 2\\\",\\n  \\\"div_12:ul:li_2\\\": \\\"fr line item without id 3\\\",\\n  \\\"line-items:li\\\": \\\"fr line item with id 1\\\",\\n  \\\"line-items:li_1\\\": \\\"fr line item with id 2\\\",\\n  \\\"line-items:li_2\\\": \\\"fr line item with id 3\\\",\\n  \\\"p_13\\\": [\\n    \\\"fr A paragraph with {1} is converted to {2}.\\\",\\n    \\\"fr parameters\\\",\\n    \\\"fr <i18n-format>\\\"\\n  ],\\n  \\\"paragraph\\\": [\\n    \\\"fr A paragraph with {1} is converted to {2}.\\\",\\n    \\\"fr id\\\",\\n    \\\"fr <i18n-format>\\\"\\n  ],\\n  \\\"text_15\\\": \\\" fr outermost text at the end \\\"\\n}\\n\",\n  \"/compound-binding-dom-bind.json\": \"{\\n  \\\"meta\\\": {},\\n  \\\"model\\\": {},\\n  \\\"text\\\": [\\n    \\\" outermost text at the beginning with compound {1} and {2} variables \\\",\\n    \\\"{{param1}}\\\",\\n    \\\"{{param2}}\\\"\\n  ],\\n  \\\"h1_3\\\": [\\n    \\\"outermost header 1 with {1} and {2} variables\\\",\\n    \\\"{{param1}}\\\",\\n    \\\"{{param2}}\\\"\\n  ],\\n  \\\"text_4\\\": [\\n    \\\" outermost text in the middle with {1} and {2} variables \\\",\\n    \\\"{{param1}}\\\",\\n    \\\"{{param2}}\\\"\\n  ],\\n  \\\"span_5\\\": [\\n    \\\"simple text without id with {1} and {2} variables\\\",\\n    \\\"{{param1}}\\\",\\n    \\\"{{param2}}\\\"\\n  ],\\n  \\\"span_6\\\": [\\n    \\\"simple text without id 2 with {1} and {2} variables\\\",\\n    \\\"{{param1}}\\\",\\n    \\\"{{param2}}\\\"\\n  ],\\n  \\\"label-1\\\": [\\n    \\\"simple text with id and {1} and {2} variables\\\",\\n    \\\"{{param1}}\\\",\\n    \\\"{{param2}}\\\"\\n  ],\\n  \\\"label-2\\\": [\\n    \\\"simple text with id and {1} and {2} variables 2\\\",\\n    \\\"{{param1}}\\\",\\n    \\\"{{param2}}\\\"\\n  ],\\n  \\\"div_9:span\\\": [\\n    \\\"simple text within div with {1} and {2} variables\\\",\\n    \\\"{{param1}}\\\",\\n    \\\"{{param2}}\\\"\\n  ],\\n  \\\"div_9:span_1\\\": [\\n    \\\"simple text within div with {1} and {2} variables 2\\\",\\n    \\\"{{param1}}\\\",\\n    \\\"{{param2}}\\\"\\n  ],\\n  \\\"div_9:div_2:div\\\": [\\n    \\\"great grandchild text within div with {1} and {2} variables\\\",\\n    \\\"{{param1}}\\\",\\n    \\\"{{param2}}\\\"\\n  ],\\n  \\\"div_10:text\\\": [\\n    \\\" simple text as the first element in div with {1} and {2} variables \\\",\\n    \\\"{{param1}}\\\",\\n    \\\"{{param2}}\\\"\\n  ],\\n  \\\"div_10:span_1\\\": [\\n    \\\"simple text within div with {1} and {2} variables\\\",\\n    \\\"{{param1}}\\\",\\n    \\\"{{param2}}\\\"\\n  ],\\n  \\\"div_10:text_2\\\": [\\n    \\\" simple text in the middle of div with {1} and {2} variables \\\",\\n    \\\"{{param1}}\\\",\\n    \\\"{{param2}}\\\"\\n  ],\\n  \\\"div_10:span_3\\\": [\\n    \\\"simple text within div with {1} and {2} variables 2\\\",\\n    \\\"{{param1}}\\\",\\n    \\\"{{param2}}\\\"\\n  ],\\n  \\\"div_10:div_4:div\\\": [\\n    \\\"great grandchild text within div with {1} and {2} variables\\\",\\n    \\\"{{param1}}\\\",\\n    \\\"{{param2}}\\\"\\n  ],\\n  \\\"div_10:text_5\\\": [\\n    \\\" simple text at the last element in div with {1} and {2} variables \\\",\\n    \\\"{{param1}}\\\",\\n    \\\"{{param2}}\\\"\\n  ],\\n  \\\"toplevel-div:span\\\": [\\n    \\\"simple text within div with {1} and {2} variables\\\",\\n    \\\"{{param1}}\\\",\\n    \\\"{{param2}}\\\"\\n  ],\\n  \\\"toplevel-div:span_1\\\": [\\n    \\\"simple text within div 2 with {1} and {2} variables\\\",\\n    \\\"{{param1}}\\\",\\n    \\\"{{param2}}\\\"\\n  ],\\n  \\\"third-level-div\\\": [\\n    \\\"great grandchild text within div with {1} and {2} variables\\\",\\n    \\\"{{param1}}\\\",\\n    \\\"{{param2}}\\\"\\n  ],\\n  \\\"second-level-div:div_1\\\": [\\n    \\\"great grandchild text within div without id with {1} and {2} variables\\\",\\n    \\\"{{param1}}\\\",\\n    \\\"{{param2}}\\\"\\n  ],\\n  \\\"div_12:ul:li\\\": [\\n    \\\"line item without id 1 with {1} and {2} variables\\\",\\n    \\\"{{param1}}\\\",\\n    \\\"{{param2}}\\\"\\n  ],\\n  \\\"div_12:ul:li_1\\\": [\\n    \\\"line item without id 2 with {1} and {2} variables\\\",\\n    \\\"{{param1}}\\\",\\n    \\\"{{param2}}\\\"\\n  ],\\n  \\\"div_12:ul:li_2\\\": [\\n    \\\"line item without id 3 with {1} and {2} variables\\\",\\n    \\\"{{param1}}\\\",\\n    \\\"{{param2}}\\\"\\n  ],\\n  \\\"line-items:li\\\": [\\n    \\\"line item with id 1 with {1} and {2} variables\\\",\\n    \\\"{{param1}}\\\",\\n    \\\"{{param2}}\\\"\\n  ],\\n  \\\"line-items:li_1\\\": [\\n    \\\"line item with id 2 with {1} and {2} variables\\\",\\n    \\\"{{param1}}\\\",\\n    \\\"{{param2}}\\\"\\n  ],\\n  \\\"line-items:li_2\\\": [\\n    \\\"line item with id 3 with {1} and {2} variables\\\",\\n    \\\"{{param1}}\\\",\\n    \\\"{{param2}}\\\"\\n  ],\\n  \\\"p_13\\\": [\\n    \\\"A paragraph with {1} is converted to {2}.\\\",\\n    \\\"{{param1}}\\\",\\n    \\\"{{param2}}\\\"\\n  ],\\n  \\\"paragraph\\\": [\\n    \\\"A paragraph with {1}, {2}, and {3} is converted to {4}.\\\",\\n    \\\"id\\\",\\n    \\\"{{param1}}\\\",\\n    \\\"{{param2}}\\\",\\n    \\\"<i18n-format>\\\"\\n  ],\\n  \\\"text_15\\\": [\\n    \\\" outermost text at the end with {1} and {2} variables \\\",\\n    \\\"{{param1}}\\\",\\n    \\\"{{param2}}\\\"\\n  ]\\n}\",\n  \"/compound-binding-element/compound-binding-element.json\": \"{\\n  \\\"meta\\\": {},\\n  \\\"model\\\": {},\\n  \\\"text\\\": [\\n    \\\" outermost text at the beginning with compound {1} and {2} variables \\\",\\n    \\\"{{param1}}\\\",\\n    \\\"{{param2}}\\\"\\n  ],\\n  \\\"h1_3\\\": [\\n    \\\"outermost header 1 with {1} and {2} variables\\\",\\n    \\\"{{param1}}\\\",\\n    \\\"{{param2}}\\\"\\n  ],\\n  \\\"text_4\\\": [\\n    \\\" outermost text in the middle with {1} and {2} variables \\\",\\n    \\\"{{param1}}\\\",\\n    \\\"{{param2}}\\\"\\n  ],\\n  \\\"span_5\\\": [\\n    \\\"simple text without id with {1} and {2} variables\\\",\\n    \\\"{{param1}}\\\",\\n    \\\"{{param2}}\\\"\\n  ],\\n  \\\"span_6\\\": [\\n    \\\"simple text without id 2 with {1} and {2} variables\\\",\\n    \\\"{{param1}}\\\",\\n    \\\"{{param2}}\\\"\\n  ],\\n  \\\"label-1\\\": [\\n    \\\"simple text with id and {1} and {2} variables\\\",\\n    \\\"{{param1}}\\\",\\n    \\\"{{param2}}\\\"\\n  ],\\n  \\\"label-2\\\": [\\n    \\\"simple text with id and {1} and {2} variables 2\\\",\\n    \\\"{{param1}}\\\",\\n    \\\"{{param2}}\\\"\\n  ],\\n  \\\"div_9:span\\\": [\\n    \\\"simple text within div with {1} and {2} variables\\\",\\n    \\\"{{param1}}\\\",\\n    \\\"{{param2}}\\\"\\n  ],\\n  \\\"div_9:span_1\\\": [\\n    \\\"simple text within div with {1} and {2} variables 2\\\",\\n    \\\"{{param1}}\\\",\\n    \\\"{{param2}}\\\"\\n  ],\\n  \\\"div_9:div_2:div\\\": [\\n    \\\"great grandchild text within div with {1} and {2} variables\\\",\\n    \\\"{{param1}}\\\",\\n    \\\"{{param2}}\\\"\\n  ],\\n  \\\"div_10:text\\\": [\\n    \\\" simple text as the first element in div with {1} and {2} variables \\\",\\n    \\\"{{param1}}\\\",\\n    \\\"{{param2}}\\\"\\n  ],\\n  \\\"div_10:span_1\\\": [\\n    \\\"simple text within div with {1} and {2} variables\\\",\\n    \\\"{{param1}}\\\",\\n    \\\"{{param2}}\\\"\\n  ],\\n  \\\"div_10:text_2\\\": [\\n    \\\" simple text in the middle of div with {1} and {2} variables \\\",\\n    \\\"{{param1}}\\\",\\n    \\\"{{param2}}\\\"\\n  ],\\n  \\\"div_10:span_3\\\": [\\n    \\\"simple text within div with {1} and {2} variables 2\\\",\\n    \\\"{{param1}}\\\",\\n    \\\"{{param2}}\\\"\\n  ],\\n  \\\"div_10:div_4:div\\\": [\\n    \\\"great grandchild text within div with {1} and {2} variables\\\",\\n    \\\"{{param1}}\\\",\\n    \\\"{{param2}}\\\"\\n  ],\\n  \\\"div_10:text_5\\\": [\\n    \\\" simple text at the last element in div with {1} and {2} variables \\\",\\n    \\\"{{param1}}\\\",\\n    \\\"{{param2}}\\\"\\n  ],\\n  \\\"toplevel-div:span\\\": [\\n    \\\"simple text within div with {1} and {2} variables\\\",\\n    \\\"{{param1}}\\\",\\n    \\\"{{param2}}\\\"\\n  ],\\n  \\\"toplevel-div:span_1\\\": [\\n    \\\"simple text within div 2 with {1} and {2} variables\\\",\\n    \\\"{{param1}}\\\",\\n    \\\"{{param2}}\\\"\\n  ],\\n  \\\"third-level-div\\\": [\\n    \\\"great grandchild text within div with {1} and {2} variables\\\",\\n    \\\"{{param1}}\\\",\\n    \\\"{{param2}}\\\"\\n  ],\\n  \\\"second-level-div:div_1\\\": [\\n    \\\"great grandchild text within div without id with {1} and {2} variables\\\",\\n    \\\"{{param1}}\\\",\\n    \\\"{{param2}}\\\"\\n  ],\\n  \\\"div_12:ul:li\\\": [\\n    \\\"line item without id 1 with {1} and {2} variables\\\",\\n    \\\"{{param1}}\\\",\\n    \\\"{{param2}}\\\"\\n  ],\\n  \\\"div_12:ul:li_1\\\": [\\n    \\\"line item without id 2 with {1} and {2} variables\\\",\\n    \\\"{{param1}}\\\",\\n    \\\"{{param2}}\\\"\\n  ],\\n  \\\"div_12:ul:li_2\\\": [\\n    \\\"line item without id 3 with {1} and {2} variables\\\",\\n    \\\"{{param1}}\\\",\\n    \\\"{{param2}}\\\"\\n  ],\\n  \\\"line-items:li\\\": [\\n    \\\"line item with id 1 with {1} and {2} variables\\\",\\n    \\\"{{param1}}\\\",\\n    \\\"{{param2}}\\\"\\n  ],\\n  \\\"line-items:li_1\\\": [\\n    \\\"line item with id 2 with {1} and {2} variables\\\",\\n    \\\"{{param1}}\\\",\\n    \\\"{{param2}}\\\"\\n  ],\\n  \\\"line-items:li_2\\\": [\\n    \\\"line item with id 3 with {1} and {2} variables\\\",\\n    \\\"{{param1}}\\\",\\n    \\\"{{param2}}\\\"\\n  ],\\n  \\\"p_13\\\": [\\n    \\\"A paragraph with {1} is converted to {2}.\\\",\\n    \\\"{{param1}}\\\",\\n    \\\"{{param2}}\\\"\\n  ],\\n  \\\"paragraph\\\": [\\n    \\\"A paragraph with {1}, {2}, and {3} is converted to {4}.\\\",\\n    \\\"id\\\",\\n    \\\"{{param1}}\\\",\\n    \\\"{{param2}}\\\",\\n    \\\"<i18n-format>\\\"\\n  ],\\n  \\\"text_15\\\": [\\n    \\\" outermost text at the end with {1} and {2} variables \\\",\\n    \\\"{{param1}}\\\",\\n    \\\"{{param2}}\\\"\\n  ]\\n}\",\n  \"/compound-binding-element/locales/compound-binding-element.fr.json\": \"{\\n  \\\"model\\\": {},\\n  \\\"text\\\": [\\n    \\\" fr outermost text at the beginning with compound {1} and {2} variables \\\",\\n    \\\"{{param1}}\\\",\\n    \\\"{{param2}}\\\"\\n  ],\\n  \\\"h1_3\\\": [\\n    \\\"fr outermost header 1 with {1} and {2} variables\\\",\\n    \\\"{{param1}}\\\",\\n    \\\"{{param2}}\\\"\\n  ],\\n  \\\"text_4\\\": [\\n    \\\" fr outermost text in the middle with {1} and {2} variables \\\",\\n    \\\"{{param1}}\\\",\\n    \\\"{{param2}}\\\"\\n  ],\\n  \\\"span_5\\\": [\\n    \\\"fr simple text without id with {1} and {2} variables\\\",\\n    \\\"{{param1}}\\\",\\n    \\\"{{param2}}\\\"\\n  ],\\n  \\\"span_6\\\": [\\n    \\\"fr simple text without id 2 with {1} and {2} variables\\\",\\n    \\\"{{param1}}\\\",\\n    \\\"{{param2}}\\\"\\n  ],\\n  \\\"label-1\\\": [\\n    \\\"fr simple text with id and {1} and {2} variables\\\",\\n    \\\"{{param1}}\\\",\\n    \\\"{{param2}}\\\"\\n  ],\\n  \\\"label-2\\\": [\\n    \\\"fr simple text with id and {1} and {2} variables 2\\\",\\n    \\\"{{param1}}\\\",\\n    \\\"{{param2}}\\\"\\n  ],\\n  \\\"div_9:span\\\": [\\n    \\\"fr simple text within div with {1} and {2} variables\\\",\\n    \\\"{{param1}}\\\",\\n    \\\"{{param2}}\\\"\\n  ],\\n  \\\"div_9:span_1\\\": [\\n    \\\"fr simple text within div with {1} and {2} variables 2\\\",\\n    \\\"{{param1}}\\\",\\n    \\\"{{param2}}\\\"\\n  ],\\n  \\\"div_9:div_2:div\\\": [\\n    \\\"fr great grandchild text within div with {1} and {2} variables\\\",\\n    \\\"{{param1}}\\\",\\n    \\\"{{param2}}\\\"\\n  ],\\n  \\\"div_10:text\\\": [\\n    \\\" fr simple text as the first element in div with {1} and {2} variables \\\",\\n    \\\"{{param1}}\\\",\\n    \\\"{{param2}}\\\"\\n  ],\\n  \\\"div_10:span_1\\\": [\\n    \\\"fr simple text within div with {1} and {2} variables\\\",\\n    \\\"{{param1}}\\\",\\n    \\\"{{param2}}\\\"\\n  ],\\n  \\\"div_10:text_2\\\": [\\n    \\\" fr simple text in the middle of div with {1} and {2} variables \\\",\\n    \\\"{{param1}}\\\",\\n    \\\"{{param2}}\\\"\\n  ],\\n  \\\"div_10:span_3\\\": [\\n    \\\"fr simple text within div with {1} and {2} variables 2\\\",\\n    \\\"{{param1}}\\\",\\n    \\\"{{param2}}\\\"\\n  ],\\n  \\\"div_10:div_4:div\\\": [\\n    \\\"fr great grandchild text within div with {1} and {2} variables\\\",\\n    \\\"{{param1}}\\\",\\n    \\\"{{param2}}\\\"\\n  ],\\n  \\\"div_10:text_5\\\": [\\n    \\\" fr simple text at the last element in div with {1} and {2} variables \\\",\\n    \\\"{{param1}}\\\",\\n    \\\"{{param2}}\\\"\\n  ],\\n  \\\"toplevel-div:span\\\": [\\n    \\\"fr simple text within div with {1} and {2} variables\\\",\\n    \\\"{{param1}}\\\",\\n    \\\"{{param2}}\\\"\\n  ],\\n  \\\"toplevel-div:span_1\\\": [\\n    \\\"fr simple text within div 2 with {1} and {2} variables\\\",\\n    \\\"{{param1}}\\\",\\n    \\\"{{param2}}\\\"\\n  ],\\n  \\\"third-level-div\\\": [\\n    \\\"fr great grandchild text within div with {1} and {2} variables\\\",\\n    \\\"{{param1}}\\\",\\n    \\\"{{param2}}\\\"\\n  ],\\n  \\\"second-level-div:div_1\\\": [\\n    \\\"fr great grandchild text within div without id with {1} and {2} variables\\\",\\n    \\\"{{param1}}\\\",\\n    \\\"{{param2}}\\\"\\n  ],\\n  \\\"div_12:ul:li\\\": [\\n    \\\"fr line item without id 1 with {1} and {2} variables\\\",\\n    \\\"{{param1}}\\\",\\n    \\\"{{param2}}\\\"\\n  ],\\n  \\\"div_12:ul:li_1\\\": [\\n    \\\"fr line item without id 2 with {1} and {2} variables\\\",\\n    \\\"{{param1}}\\\",\\n    \\\"{{param2}}\\\"\\n  ],\\n  \\\"div_12:ul:li_2\\\": [\\n    \\\"fr line item without id 3 with {1} and {2} variables\\\",\\n    \\\"{{param1}}\\\",\\n    \\\"{{param2}}\\\"\\n  ],\\n  \\\"line-items:li\\\": [\\n    \\\"fr line item with id 1 with {1} and {2} variables\\\",\\n    \\\"{{param1}}\\\",\\n    \\\"{{param2}}\\\"\\n  ],\\n  \\\"line-items:li_1\\\": [\\n    \\\"fr line item with id 2 with {1} and {2} variables\\\",\\n    \\\"{{param1}}\\\",\\n    \\\"{{param2}}\\\"\\n  ],\\n  \\\"line-items:li_2\\\": [\\n    \\\"fr line item with id 3 with {1} and {2} variables\\\",\\n    \\\"{{param1}}\\\",\\n    \\\"{{param2}}\\\"\\n  ],\\n  \\\"p_13\\\": [\\n    \\\"fr A paragraph with {1} is converted to {2}.\\\",\\n    \\\"{{param1}}\\\",\\n    \\\"{{param2}}\\\"\\n  ],\\n  \\\"paragraph\\\": [\\n    \\\"fr A paragraph with {1}, {2}, and {3} is converted to {4}.\\\",\\n    \\\"fr id\\\",\\n    \\\"{{param1}}\\\",\\n    \\\"{{param2}}\\\",\\n    \\\"fr <i18n-format>\\\"\\n  ],\\n  \\\"text_15\\\": [\\n    \\\" fr outermost text at the end with {1} and {2} variables \\\",\\n    \\\"{{param1}}\\\",\\n    \\\"{{param2}}\\\"\\n  ]\\n}\\n\",\n  \"/edge-case-dom-bind.json\": \"{\\n  \\\"meta\\\": {},\\n  \\\"model\\\": {},\\n  \\\"text\\\": [\\n    \\\" name = {1} \\\",\\n    \\\"{{text.name}}\\\"\\n  ],\\n  \\\"i18n-number_1\\\": \\\"1\\\",\\n  \\\"i18n-format_2\\\": [\\n    \\\"{{text.format}}\\\",\\n    \\\"1\\\"\\n  ],\\n  \\\"i18n-format_3\\\": [\\n    \\\"format\\\",\\n    \\\"\\\"\\n  ],\\n  \\\"p_8\\\": [\\n    \\\"hello {1}{2} {3} world\\\",\\n    \\\"<br>\\\",\\n    \\\"<span>\\\",\\n    \\\"<span>\\\"\\n  ],\\n  \\\"p_9\\\": [\\n    \\\"hello{1}world\\\",\\n    \\\"<br>\\\"\\n  ],\\n  \\\"text_10\\\": \\\" hello \\\",\\n  \\\"text_14\\\": \\\" world \\\"\\n}\",\n  \"/edge-case/advanced-binding-element.json\": \"{\\n  \\\"meta\\\": {},\\n  \\\"model\\\": {\\n    \\\"aria-attributes\\\": {\\n      \\\"title\\\": \\\"tooltip text\\\",\\n      \\\"aria-label\\\": \\\"aria label text\\\",\\n      \\\"aria-valuetext\\\": \\\"aria value text\\\"\\n    }\\n  },\\n  \\\"annotated-format\\\": [\\n    \\\"{{tr(status,text.statusMessageFormats)}}\\\",\\n    \\\"{{parameter}}\\\",\\n    \\\"string parameter\\\"\\n  ],\\n  \\\"span_5\\\": [\\n    \\\"{1} {2}\\\",\\n    \\\"{{text.defaultValue}}\\\",\\n    \\\"{{text.defaultValue}}\\\"\\n  ],\\n  \\\"statusMessages\\\": {\\n    \\\"ok\\\": \\\"healthy status\\\",\\n    \\\"busy\\\": \\\"busy status\\\",\\n    \\\"error\\\": \\\"error status\\\",\\n    \\\"default\\\": \\\"unknown status\\\"\\n  },\\n  \\\"defaultValue\\\": \\\"default value\\\",\\n  \\\"statusMessageFormats\\\": {\\n    \\\"ok\\\": \\\"healthy status\\\",\\n    \\\"busy\\\": \\\"busy status with {2}\\\",\\n    \\\"error\\\": \\\"error status with {1} and {2}\\\",\\n    \\\"default\\\": \\\"unknown status\\\"\\n  },\\n  \\\"nodefault\\\": {\\n    \\\"ok\\\": \\\"ok status\\\"\\n  }\\n}\",\n  \"/edge-case/complex-compound-binding-element.json\": \"{\\n  \\\"meta\\\": {},\\n  \\\"model\\\": {},\\n  \\\"item-update2:text\\\": [\\n    \\\"updated: {1}, by: \\\",\\n    \\\"{{text.updated}}\\\"\\n  ],\\n  \\\"item-update2:text_2\\\": \\\" xxx \\\",\\n  \\\"item-update2:dom-if_3:template:span:b\\\": \\\"IF CONTENT\\\",\\n  \\\"item-update2:b_4\\\": \\\"abc\\\",\\n  \\\"item-update2:dom-if_5:template:text\\\": \\\"IF CONTENT 2\\\",\\n  \\\"item-update2:text_6\\\": \\\" hello \\\",\\n  \\\"item-update:text\\\": [\\n    \\\"updated: {1}, by: \\\",\\n    \\\"{{text.updated}}\\\"\\n  ],\\n  \\\"item-update:text_2\\\": \\\" xxx \\\",\\n  \\\"item-update:dom-if_3:template:b\\\": \\\"IF CONTENT\\\",\\n  \\\"item-update:b_4\\\": \\\"abc\\\",\\n  \\\"item-update:dom-if_5:template:text\\\": \\\"IF CONTENT 2\\\",\\n  \\\"item-update:text_6\\\": \\\" hello \\\",\\n  \\\"item-update3:text\\\": [\\n    \\\"updated: {1}, by: \\\",\\n    \\\"{{text.updated}}\\\"\\n  ],\\n  \\\"item-update3:text_2\\\": \\\" xxx \\\",\\n  \\\"item-update3:dom-if_3:template:b\\\": \\\"IF\\\",\\n  \\\"item-update3:dom-if_3:template:b_1\\\": \\\"CONTENT\\\",\\n  \\\"item-update3:b_4\\\": \\\"abc\\\",\\n  \\\"item-update3:dom-if_5:template:text\\\": \\\"IF CONTENT 2\\\",\\n  \\\"item-update3:text_6\\\": \\\" hello \\\",\\n  \\\"item-update4:text\\\": [\\n    \\\"updated: {1}, by: \\\",\\n    \\\"{{text.updated}}\\\"\\n  ],\\n  \\\"item-update4:dom-repeat_1:template:text\\\": [\\n    \\\" {1} = {2} \\\",\\n    \\\"{{item.name}}\\\",\\n    \\\"{{text.updated}}\\\"\\n  ],\\n  \\\"item-update4:text_2\\\": \\\" xxx \\\",\\n  \\\"item-update4:dom-if_3:template:b\\\": \\\"IF CONTENT\\\",\\n  \\\"item-update4:b_4\\\": \\\"abc\\\",\\n  \\\"item-update4:dom-if_5:template:text\\\": \\\"IF CONTENT 2\\\",\\n  \\\"item-update4:text_6\\\": \\\" hello \\\",\\n  \\\"paragraph:text\\\": \\\"A paragraph with \\\",\\n  \\\"paragraph:text_2\\\": \\\" is converted to \\\",\\n  \\\"paragraph:code_3\\\": \\\"<i18n-format>\\\",\\n  \\\"paragraph:text_4\\\": \\\". \\\",\\n  \\\"paragraph2:text\\\": \\\"A paragraph with deep \\\",\\n  \\\"paragraph2:text_2\\\": \\\" is \\\",\\n  \\\"paragraph2:b_3\\\": \\\"not\\\",\\n  \\\"paragraph2:text_4\\\": \\\" converted to \\\",\\n  \\\"paragraph2:code_5\\\": \\\"<i18n-format>\\\",\\n  \\\"paragraph2:text_6\\\": \\\". \\\",\\n  \\\"authors\\\": [\\n    {\\n      \\\"name\\\": \\\"Joe\\\"\\n    },\\n    {\\n      \\\"name\\\": \\\"Alice\\\"\\n    }\\n  ],\\n  \\\"updated\\\": \\\"Jan 1st, 2016\\\",\\n  \\\"parameters\\\": [\\n    \\\"parameter 1\\\",\\n    \\\"parameter 2\\\"\\n  ]\\n}\",\n  \"/edge-case/empty-element.json\": \"{}\",\n  \"/edge-case/locales/advanced-binding-element.fr.json\": \"{\\n  \\\"meta\\\": {},\\n  \\\"model\\\": {\\n    \\\"aria-attributes\\\": {\\n      \\\"title\\\": \\\"fr tooltip text\\\",\\n      \\\"aria-label\\\": \\\"fr aria label text\\\",\\n      \\\"aria-valuetext\\\": \\\"fr aria value text\\\"\\n    }\\n  },\\n  \\\"annotated-format\\\": [\\n    \\\"{{tr(status,text.statusMessageFormats)}}\\\",\\n    \\\"{{parameter}}\\\",\\n    \\\"fr string parameter\\\"\\n  ],\\n  \\\"span_5\\\": [\\n    \\\"fr {1} {2}\\\",\\n    \\\"{{text.defaultValue}}\\\",\\n    \\\"{{text.defaultValue}}\\\"\\n  ],\\n  \\\"statusMessages\\\": {\\n    \\\"ok\\\": \\\"fr healthy status\\\",\\n    \\\"busy\\\": \\\"fr busy status\\\",\\n    \\\"error\\\": \\\"fr error status\\\",\\n    \\\"default\\\": \\\"fr unknown status\\\"\\n  },\\n  \\\"defaultValue\\\": \\\"fr default value\\\",\\n  \\\"statusMessageFormats\\\": {\\n    \\\"ok\\\": \\\"fr healthy status\\\",\\n    \\\"busy\\\": \\\"fr busy status with {2}\\\",\\n    \\\"error\\\": \\\"fr error status with {1} and {2}\\\",\\n    \\\"default\\\": \\\"fr unknown status\\\"\\n  },\\n  \\\"nodefault\\\": {\\n    \\\"ok\\\": \\\"fr ok status\\\"\\n  }\\n}\",\n  \"/edge-case/locales/complex-compound-binding-element.fr.json\": \"{\\n  \\\"meta\\\": {},\\n  \\\"model\\\": {},\\n  \\\"item-update2:text\\\": [\\n    \\\"fr updated: {1}, by: \\\",\\n    \\\"{{text.updated}}\\\"\\n  ],\\n  \\\"item-update2:text_2\\\": \\\" fr xxx \\\",\\n  \\\"item-update2:dom-if_3:template:span:b\\\": \\\"fr IF CONTENT\\\",\\n  \\\"item-update2:b_4\\\": \\\"fr abc\\\",\\n  \\\"item-update2:dom-if_5:template:text\\\": \\\"fr IF CONTENT 2\\\",\\n  \\\"item-update2:text_6\\\": \\\" fr hello \\\",\\n  \\\"item-update:text\\\": [\\n    \\\"fr updated: {1}, by: \\\",\\n    \\\"{{text.updated}}\\\"\\n  ],\\n  \\\"item-update:text_2\\\": \\\" fr xxx \\\",\\n  \\\"item-update:dom-if_3:template:b\\\": \\\"fr IF CONTENT\\\",\\n  \\\"item-update:b_4\\\": \\\"fr abc\\\",\\n  \\\"item-update:dom-if_5:template:text\\\": \\\"fr IF CONTENT 2\\\",\\n  \\\"item-update:text_6\\\": \\\" fr hello \\\",\\n  \\\"item-update3:text\\\": [\\n    \\\"fr updated: {1}, by: \\\",\\n    \\\"{{text.updated}}\\\"\\n  ],\\n  \\\"item-update3:text_2\\\": \\\" fr xxx \\\",\\n  \\\"item-update3:dom-if_3:template:b\\\": \\\"fr IF\\\",\\n  \\\"item-update3:dom-if_3:template:b_1\\\": \\\"fr CONTENT\\\",\\n  \\\"item-update3:b_4\\\": \\\"fr abc\\\",\\n  \\\"item-update3:dom-if_5:template:text\\\": \\\"fr IF CONTENT 2\\\",\\n  \\\"item-update3:text_6\\\": \\\" fr hello \\\",\\n  \\\"item-update4:text\\\": [\\n    \\\"fr updated: {1}, by: \\\",\\n    \\\"{{text.updated}}\\\"\\n  ],\\n  \\\"item-update4:dom-repeat_1:template:text\\\": [\\n    \\\" fr {1} = {2} \\\",\\n    \\\"{{item.name}}\\\",\\n    \\\"{{text.updated}}\\\"\\n  ],\\n  \\\"item-update4:text_2\\\": \\\" fr xxx \\\",\\n  \\\"item-update4:dom-if_3:template:b\\\": \\\"fr IF CONTENT\\\",\\n  \\\"item-update4:b_4\\\": \\\"fr abc\\\",\\n  \\\"item-update4:dom-if_5:template:text\\\": \\\"fr IF CONTENT 2\\\",\\n  \\\"item-update4:text_6\\\": \\\" fr hello \\\",\\n  \\\"paragraph:text\\\": \\\"fr A paragraph with \\\",\\n  \\\"paragraph:text_2\\\": \\\" fr is converted to \\\",\\n  \\\"paragraph:code_3\\\": \\\"fr <i18n-format>\\\",\\n  \\\"paragraph:text_4\\\": \\\"fr . \\\",\\n  \\\"paragraph2:text\\\": \\\"fr A paragraph with deep \\\",\\n  \\\"paragraph2:text_2\\\": \\\" fr is \\\",\\n  \\\"paragraph2:b_3\\\": \\\"fr not\\\",\\n  \\\"paragraph2:text_4\\\": \\\" fr converted to \\\",\\n  \\\"paragraph2:code_5\\\": \\\"fr <i18n-format>\\\",\\n  \\\"paragraph2:text_6\\\": \\\"fr . \\\",\\n  \\\"authors\\\": [\\n    {\\n      \\\"name\\\": \\\"fr Joe\\\"\\n    },\\n    {\\n      \\\"name\\\": \\\"fr Alice\\\"\\n    }\\n  ],\\n  \\\"updated\\\": \\\"fr Jan 1st, 2016\\\",\\n  \\\"parameters\\\": [\\n    \\\"fr parameter 1\\\",\\n    \\\"fr parameter 2\\\"\\n  ]\\n}\",\n  \"/edge-case/locales/empty-element.fr.json\": \"{}\",\n  \"/fallback-text-element/fallback-text-element.json\": \"{\\n  \\\"meta\\\": {},\\n  \\\"model\\\": {},\\n  \\\"text\\\": \\\" outermost text at the beginning \\\",\\n  \\\"h1_3\\\": \\\"outermost header 1\\\",\\n  \\\"text_4\\\": \\\" outermost text in the middle \\\",\\n  \\\"span_5\\\": \\\"simple text without id\\\",\\n  \\\"span_6\\\": \\\"simple text without id 2\\\",\\n  \\\"label-1\\\": \\\"simple text with id\\\",\\n  \\\"label-2\\\": \\\"simple text with id 2\\\",\\n  \\\"div_9:span\\\": \\\"simple text within div\\\",\\n  \\\"div_9:span_1\\\": \\\"simple text within div 2\\\",\\n  \\\"div_9:div_2:div\\\": \\\"great grandchild text within div\\\",\\n  \\\"div_10:text\\\": \\\" simple text as the first element in div \\\",\\n  \\\"div_10:span_1\\\": \\\"simple text within div\\\",\\n  \\\"div_10:text_2\\\": \\\" simple text in the middle of div \\\",\\n  \\\"div_10:span_3\\\": \\\"simple text within div 2\\\",\\n  \\\"div_10:div_4:div\\\": \\\"great grandchild text within div\\\",\\n  \\\"div_10:text_5\\\": \\\" simple text at the last element in div \\\",\\n  \\\"toplevel-div:span\\\": \\\"simple text within div\\\",\\n  \\\"toplevel-div:span_1\\\": \\\"simple text within div 2\\\",\\n  \\\"third-level-div\\\": \\\"great grandchild text within div\\\",\\n  \\\"second-level-div:div_1\\\": \\\"great grandchild text within div without id\\\",\\n  \\\"div_12:ul:li\\\": \\\"line item without id 1\\\",\\n  \\\"div_12:ul:li_1\\\": \\\"line item without id 2\\\",\\n  \\\"div_12:ul:li_2\\\": \\\"line item without id 3\\\",\\n  \\\"line-items:li\\\": \\\"line item with id 1\\\",\\n  \\\"line-items:li_1\\\": \\\"line item with id 2\\\",\\n  \\\"line-items:li_2\\\": \\\"line item with id 3\\\",\\n  \\\"p_13\\\": [\\n    \\\"A paragraph with {1} is converted to {2}.\\\",\\n    \\\"parameters\\\",\\n    \\\"<i18n-format>\\\"\\n  ],\\n  \\\"paragraph\\\": [\\n    \\\"A paragraph with {1} is converted to {2}.\\\",\\n    \\\"id\\\",\\n    \\\"<i18n-format>\\\"\\n  ],\\n  \\\"text_15\\\": \\\" outermost text at the end \\\"\\n}\",\n  \"/fallback-text-element/locales/fallback-text-element.fr-CA.json\": \"{\\n  \\\"model\\\": {},\\n  \\\"text\\\": \\\"fr-CA  outermost text at the beginning \\\",\\n  \\\"h1_3\\\": \\\"fr-CA outermost header 1\\\",\\n  \\\"text_4\\\": \\\"fr-CA  outermost text in the middle \\\",\\n  \\\"span_5\\\": \\\"fr-CA simple text without id\\\",\\n  \\\"span_6\\\": \\\"fr-CA simple text without id 2\\\",\\n  \\\"label-1\\\": \\\"fr-CA simple text with id\\\",\\n  \\\"label-2\\\": \\\"fr-CA simple text with id 2\\\",\\n  \\\"div_10:span_1\\\": \\\"fr-CA simple text within div\\\",\\n  \\\"toplevel-div:span\\\": \\\"fr-CA simple text within div\\\",\\n  \\\"toplevel-div:span_1\\\": \\\"fr-CA simple text within div 2\\\",\\n  \\\"third-level-div\\\": \\\"fr-CA great grandchild text within div\\\",\\n  \\\"second-level-div:div_1\\\": \\\"fr-CA great grandchild text within div without id\\\",\\n  \\\"p_13\\\": [\\n    \\\"fr-CA A paragraph with {1} is converted to {2}.\\\",\\n    \\\"fr-CA parameters\\\",\\n    \\\"fr-CA <i18n-format>\\\"\\n  ],\\n  \\\"paragraph\\\": [\\n    \\\"fr-CA A paragraph with {1} is converted to {2}.\\\",\\n    \\\"fr-CA id\\\",\\n    \\\"fr-CA <i18n-format>\\\"\\n  ],\\n  \\\"text_15\\\": \\\"fr-CA  outermost text at the end \\\"\\n}\\n\",\n  \"/fallback-text-element/locales/fallback-text-element.fr.json\": \"{\\n  \\\"model\\\": {},\\n  \\\"text\\\": \\\"fr  outermost text at the beginning \\\",\\n  \\\"h1_3\\\": \\\"fr outermost header 1\\\",\\n  \\\"text_4\\\": \\\"fr  outermost text in the middle \\\",\\n  \\\"span_5\\\": \\\"fr simple text without id\\\",\\n  \\\"span_6\\\": \\\"fr simple text without id 2\\\",\\n  \\\"label-1\\\": \\\"fr simple text with id\\\",\\n  \\\"label-2\\\": \\\"fr simple text with id 2\\\",\\n  \\\"toplevel-div:span\\\": \\\"fr simple text within div\\\",\\n  \\\"toplevel-div:span_1\\\": \\\"fr simple text within div 2\\\",\\n  \\\"third-level-div\\\": \\\"fr great grandchild text within div\\\",\\n  \\\"second-level-div:div_1\\\": \\\"fr great grandchild text within div without id\\\",\\n  \\\"div_12:ul:li\\\": \\\"fr line item without id 1\\\",\\n  \\\"div_12:ul:li_1\\\": \\\"fr line item without id 2\\\",\\n  \\\"div_12:ul:li_2\\\": \\\"fr line item without id 3\\\",\\n  \\\"line-items:li\\\": \\\"fr line item with id 1\\\",\\n  \\\"line-items:li_1\\\": \\\"fr line item with id 2\\\",\\n  \\\"line-items:li_2\\\": \\\"fr line item with id 3\\\",\\n  \\\"p_13\\\": [\\n    \\\"fr A paragraph with {1} is converted to {2}.\\\",\\n    \\\"fr parameters\\\",\\n    \\\"fr <i18n-format>\\\"\\n  ],\\n  \\\"paragraph\\\": [\\n    \\\"fr A paragraph with {1} is converted to {2}.\\\",\\n    \\\"fr id\\\",\\n    \\\"fr <i18n-format>\\\"\\n  ],\\n  \\\"text_15\\\": \\\"fr  outermost text at the end \\\"\\n}\\n\",\n  \"/locales/compound-binding-dom-bind.fr.json\": \"{\\n  \\\"model\\\": {},\\n  \\\"text\\\": [\\n    \\\" fr outermost text at the beginning with compound {1} and {2} variables \\\",\\n    \\\"{{param1}}\\\",\\n    \\\"{{param2}}\\\"\\n  ],\\n  \\\"h1_3\\\": [\\n    \\\"fr outermost header 1 with {1} and {2} variables\\\",\\n    \\\"{{param1}}\\\",\\n    \\\"{{param2}}\\\"\\n  ],\\n  \\\"text_4\\\": [\\n    \\\" fr outermost text in the middle with {1} and {2} variables \\\",\\n    \\\"{{param1}}\\\",\\n    \\\"{{param2}}\\\"\\n  ],\\n  \\\"span_5\\\": [\\n    \\\"fr simple text without id with {1} and {2} variables\\\",\\n    \\\"{{param1}}\\\",\\n    \\\"{{param2}}\\\"\\n  ],\\n  \\\"span_6\\\": [\\n    \\\"fr simple text without id 2 with {1} and {2} variables\\\",\\n    \\\"{{param1}}\\\",\\n    \\\"{{param2}}\\\"\\n  ],\\n  \\\"label-1\\\": [\\n    \\\"fr simple text with id and {1} and {2} variables\\\",\\n    \\\"{{param1}}\\\",\\n    \\\"{{param2}}\\\"\\n  ],\\n  \\\"label-2\\\": [\\n    \\\"fr simple text with id and {1} and {2} variables 2\\\",\\n    \\\"{{param1}}\\\",\\n    \\\"{{param2}}\\\"\\n  ],\\n  \\\"div_9:span\\\": [\\n    \\\"fr simple text within div with {1} and {2} variables\\\",\\n    \\\"{{param1}}\\\",\\n    \\\"{{param2}}\\\"\\n  ],\\n  \\\"div_9:span_1\\\": [\\n    \\\"fr simple text within div with {1} and {2} variables 2\\\",\\n    \\\"{{param1}}\\\",\\n    \\\"{{param2}}\\\"\\n  ],\\n  \\\"div_9:div_2:div\\\": [\\n    \\\"fr great grandchild text within div with {1} and {2} variables\\\",\\n    \\\"{{param1}}\\\",\\n    \\\"{{param2}}\\\"\\n  ],\\n  \\\"div_10:text\\\": [\\n    \\\" fr simple text as the first element in div with {1} and {2} variables \\\",\\n    \\\"{{param1}}\\\",\\n    \\\"{{param2}}\\\"\\n  ],\\n  \\\"div_10:span_1\\\": [\\n    \\\"fr simple text within div with {1} and {2} variables\\\",\\n    \\\"{{param1}}\\\",\\n    \\\"{{param2}}\\\"\\n  ],\\n  \\\"div_10:text_2\\\": [\\n    \\\" fr simple text in the middle of div with {1} and {2} variables \\\",\\n    \\\"{{param1}}\\\",\\n    \\\"{{param2}}\\\"\\n  ],\\n  \\\"div_10:span_3\\\": [\\n    \\\"fr simple text within div with {1} and {2} variables 2\\\",\\n    \\\"{{param1}}\\\",\\n    \\\"{{param2}}\\\"\\n  ],\\n  \\\"div_10:div_4:div\\\": [\\n    \\\"fr great grandchild text within div with {1} and {2} variables\\\",\\n    \\\"{{param1}}\\\",\\n    \\\"{{param2}}\\\"\\n  ],\\n  \\\"div_10:text_5\\\": [\\n    \\\" fr simple text at the last element in div with {1} and {2} variables \\\",\\n    \\\"{{param1}}\\\",\\n    \\\"{{param2}}\\\"\\n  ],\\n  \\\"toplevel-div:span\\\": [\\n    \\\"fr simple text within div with {1} and {2} variables\\\",\\n    \\\"{{param1}}\\\",\\n    \\\"{{param2}}\\\"\\n  ],\\n  \\\"toplevel-div:span_1\\\": [\\n    \\\"fr simple text within div 2 with {1} and {2} variables\\\",\\n    \\\"{{param1}}\\\",\\n    \\\"{{param2}}\\\"\\n  ],\\n  \\\"third-level-div\\\": [\\n    \\\"fr great grandchild text within div with {1} and {2} variables\\\",\\n    \\\"{{param1}}\\\",\\n    \\\"{{param2}}\\\"\\n  ],\\n  \\\"second-level-div:div_1\\\": [\\n    \\\"fr great grandchild text within div without id with {1} and {2} variables\\\",\\n    \\\"{{param1}}\\\",\\n    \\\"{{param2}}\\\"\\n  ],\\n  \\\"div_12:ul:li\\\": [\\n    \\\"fr line item without id 1 with {1} and {2} variables\\\",\\n    \\\"{{param1}}\\\",\\n    \\\"{{param2}}\\\"\\n  ],\\n  \\\"div_12:ul:li_1\\\": [\\n    \\\"fr line item without id 2 with {1} and {2} variables\\\",\\n    \\\"{{param1}}\\\",\\n    \\\"{{param2}}\\\"\\n  ],\\n  \\\"div_12:ul:li_2\\\": [\\n    \\\"fr line item without id 3 with {1} and {2} variables\\\",\\n    \\\"{{param1}}\\\",\\n    \\\"{{param2}}\\\"\\n  ],\\n  \\\"line-items:li\\\": [\\n    \\\"fr line item with id 1 with {1} and {2} variables\\\",\\n    \\\"{{param1}}\\\",\\n    \\\"{{param2}}\\\"\\n  ],\\n  \\\"line-items:li_1\\\": [\\n    \\\"fr line item with id 2 with {1} and {2} variables\\\",\\n    \\\"{{param1}}\\\",\\n    \\\"{{param2}}\\\"\\n  ],\\n  \\\"line-items:li_2\\\": [\\n    \\\"fr line item with id 3 with {1} and {2} variables\\\",\\n    \\\"{{param1}}\\\",\\n    \\\"{{param2}}\\\"\\n  ],\\n  \\\"p_13\\\": [\\n    \\\"fr A paragraph with {1} is converted to {2}.\\\",\\n    \\\"{{param1}}\\\",\\n    \\\"{{param2}}\\\"\\n  ],\\n  \\\"paragraph\\\": [\\n    \\\"fr A paragraph with {1}, {2}, and {3} is converted to {4}.\\\",\\n    \\\"fr id\\\",\\n    \\\"{{param1}}\\\",\\n    \\\"{{param2}}\\\",\\n    \\\"fr <i18n-format>\\\"\\n  ],\\n  \\\"text_15\\\": [\\n    \\\" fr outermost text at the end with {1} and {2} variables \\\",\\n    \\\"{{param1}}\\\",\\n    \\\"{{param2}}\\\"\\n  ]\\n}\\n\",\n  \"/locales/simple-attribute-dom-bind.fr.json\": \"{\\n  \\\"model\\\": {\\n    \\\"standard-input\\\": {\\n      \\\"placeholder\\\": \\\"fr standard HTML5 attribute\\\"\\n    },\\n    \\\"outer-div:input_2\\\": {\\n      \\\"placeholder\\\": \\\"fr standard HTML5 attribute without id\\\"\\n    },\\n    \\\"paper-input-element\\\": {\\n      \\\"label\\\": \\\"fr paper-input label\\\",\\n      \\\"error-message\\\": \\\"fr paper-input error message\\\",\\n      \\\"placeholder\\\": \\\"fr paper-input placeholder\\\"\\n    },\\n    \\\"outer-div:paper-input_4\\\": {\\n      \\\"label\\\": \\\"fr paper-input label without id\\\",\\n      \\\"error-message\\\": \\\"fr paper-input error message without id\\\",\\n      \\\"placeholder\\\": \\\"fr paper-input placeholder without id\\\"\\n    },\\n    \\\"pie-chart\\\": {\\n      \\\"options\\\": {\\n        \\\"title\\\": \\\"fr Distribution of days in 2001H1\\\"\\n      },\\n      \\\"cols\\\": [\\n        {\\n          \\\"label\\\": \\\"fr Month\\\",\\n          \\\"type\\\": \\\"string\\\"\\n        },\\n        {\\n          \\\"label\\\": \\\"fr Days\\\",\\n          \\\"type\\\": \\\"number\\\"\\n        }\\n      ],\\n      \\\"rows\\\": [\\n        [\\n          \\\"fr Jan\\\",\\n          31\\n        ],\\n        [\\n          \\\"fr Feb\\\",\\n          28\\n        ],\\n        [\\n          \\\"fr Mar\\\",\\n          31\\n        ],\\n        [\\n          \\\"fr Apr\\\",\\n          30\\n        ],\\n        [\\n          \\\"fr May\\\",\\n          31\\n        ],\\n        [\\n          \\\"fr Jun\\\",\\n          30\\n        ]\\n      ]\\n    },\\n    \\\"column-chart\\\": {\\n      \\\"options\\\": {\\n        \\\"title\\\": \\\"fr Inventory\\\"\\n      },\\n      \\\"data\\\": [\\n        [\\n          \\\"fr Year\\\",\\n          \\\"fr Things\\\",\\n          \\\"fr Stuff\\\"\\n        ],\\n        [\\n          \\\"2004\\\",\\n          1000,\\n          400\\n        ],\\n        [\\n          \\\"2005\\\",\\n          1170,\\n          460\\n        ],\\n        [\\n          \\\"2006\\\",\\n          660,\\n          1120\\n        ],\\n        [\\n          \\\"2007\\\",\\n          1030,\\n          540\\n        ]\\n      ]\\n    },\\n    \\\"custom-attr\\\": {\\n      \\\"custom-text-attr1\\\": \\\"fr custom text attribute 1\\\",\\n      \\\"custom-text-attr2\\\": \\\"fr custom text attribute 2\\\",\\n      \\\"custom-text-attr3\\\": \\\"fr custom text attribute 3\\\"\\n    },\\n    \\\"selective-attr\\\": {\\n      \\\"custom-text-attr4\\\": [\\n        \\\"fr {1} custom-text-attr4 attribute with param {2} and param {3} {4}\\\",\\n        \\\"{{text.ordinary-div}}\\\",\\n        \\\"{{text.ordinary-div}}\\\",\\n        \\\"[[text.ordinary-div]]\\\",\\n        \\\"{{text.ordinary-div}}\\\"\\n      ],\\n      \\\"custom-text-attr5\\\": [\\n        \\\"[[text.ordinary-div]]\\\",\\n        \\\" fr custom-text-attr5 attribute with param \\\",\\n        \\\"{{or('',text.ordinary-div)}}\\\",\\n        \\\" fr and param \\\",\\n        \\\"[[text.ordinary-div]]\\\"\\n      ],\\n      \\\"i18n-target\\\": [\\n        \\\"fr i18n-target attribute with param {1} and param {2}\\\",\\n        \\\"{{text.ordinary-div}}\\\",\\n        \\\"[[text.ordinary-div]]\\\"\\n      ],\\n      \\\"i18n-target2\\\": [\\n        \\\"fr i18n-target2 attribute with param \\\",\\n        \\\"{{or('',text.ordinary-div)}}\\\",\\n        \\\" fr and param \\\",\\n        \\\"[[text.ordinary-div]]\\\"\\n      ]\\n    },\\n    \\\"selective-attr2\\\": {\\n      \\\"i18n-target\\\": \\\"fr i18n-target attribute 2\\\"\\n    },\\n    \\\"selective-attr3\\\": {\\n      \\\"i18n-target6\\\": \\\"fr i18n-target6 attribute 2\\\"\\n    },\\n    \\\"selective-attr4\\\": {\\n      \\\"i18n-target6\\\": \\\"fr i18n-target6 attribute 3\\\"\\n    },\\n    \\\"json-data-id\\\": {\\n      \\\"attr1\\\": \\\"fr this attr1 is extracted\\\",\\n      \\\"i18n-target-attr\\\": \\\"fr this attribute is also extracted\\\"\\n    },\\n    \\\"template_2:json-data_1\\\": {\\n      \\\"attr1\\\": \\\"fr this attr1 without id is extracted\\\",\\n      \\\"i18n-target-attr\\\": \\\"fr this attribute without id is also extracted\\\"\\n    }\\n  },\\n  \\\"ordinary-div\\\": \\\"fr text 1\\\"\\n}\\n\",\n  \"/locales/simple-text-dom-bind.fr.json\": \"{\\n  \\\"model\\\": {},\\n  \\\"text\\\": \\\" fr outermost text at the beginning \\\",\\n  \\\"h1_3\\\": \\\"fr outermost header 1\\\",\\n  \\\"text_4\\\": \\\" fr outermost text in the middle \\\",\\n  \\\"span_5\\\": \\\"fr simple text without id\\\",\\n  \\\"span_6\\\": \\\"fr simple text without id 2\\\",\\n  \\\"label-1\\\": \\\"fr simple text with id\\\",\\n  \\\"label-2\\\": \\\"fr simple text with id 2\\\",\\n  \\\"div_9:span\\\": \\\"fr simple text within div\\\",\\n  \\\"div_9:span_1\\\": \\\"fr simple text within div 2\\\",\\n  \\\"div_9:div_2:div\\\": \\\"fr great grandchild text within div\\\",\\n  \\\"div_10:text\\\": \\\" fr simple text as the first element in div \\\",\\n  \\\"div_10:span_1\\\": \\\"fr simple text within div\\\",\\n  \\\"div_10:text_2\\\": \\\" fr simple text in the middle of div \\\",\\n  \\\"div_10:span_3\\\": \\\"fr simple text within div 2\\\",\\n  \\\"div_10:div_4:div\\\": \\\"fr great grandchild text within div\\\",\\n  \\\"div_10:text_5\\\": \\\" fr simple text at the last element in div \\\",\\n  \\\"toplevel-div:span\\\": \\\"fr simple text within div\\\",\\n  \\\"toplevel-div:span_1\\\": \\\"fr simple text within div 2\\\",\\n  \\\"third-level-div\\\": \\\"fr great grandchild text within div\\\",\\n  \\\"second-level-div:div_1\\\": \\\"fr great grandchild text within div without id\\\",\\n  \\\"div_12:ul:li\\\": \\\"fr line item without id 1\\\",\\n  \\\"div_12:ul:li_1\\\": \\\"fr line item without id 2\\\",\\n  \\\"div_12:ul:li_2\\\": \\\"fr line item without id 3\\\",\\n  \\\"line-items:li\\\": \\\"fr line item with id 1\\\",\\n  \\\"line-items:li_1\\\": \\\"fr line item with id 2\\\",\\n  \\\"line-items:li_2\\\": \\\"fr line item with id 3\\\",\\n  \\\"p_13\\\": [\\n    \\\"fr A paragraph with {1} is converted to {2}.\\\",\\n    \\\"fr parameters\\\",\\n    \\\"fr <i18n-format>\\\"\\n  ],\\n  \\\"paragraph\\\": [\\n    \\\"fr A paragraph with {1} is converted to {2}.\\\",\\n    \\\"fr id\\\",\\n    \\\"fr <i18n-format>\\\"\\n  ],\\n  \\\"text_15\\\": \\\" fr outermost text at the end \\\"\\n}\\n\",\n  \"/multiple-case/item-element.json\": \"{\\n  \\\"meta\\\": {},\\n  \\\"model\\\": {},\\n  \\\"label\\\": \\\"A\\\"\\n}\",\n  \"/multiple-case/locales/item-element.fr.json\": \"{\\n  \\\"meta\\\": {},\\n  \\\"model\\\": {},\\n  \\\"label\\\": \\\"fr A\\\"\\n}\",\n  \"/multiple-case/locales/multiple-element.fr.json\": \"{\\n  \\\"meta\\\": {},\\n  \\\"model\\\": {}\\n}\",\n  \"/multiple-case/multiple-element.json\": \"{\\n  \\\"meta\\\": {},\\n  \\\"model\\\": {}\\n}\",\n  \"/plural-gender-element/locales/plural-gender-element.fr.json\": \"{\\n  \\\"model\\\": {},\\n  \\\"compound-format-text\\\": [\\n    {\\n      \\\"0\\\": \\\"fr You ({3}) gave no gifts.\\\",\\n      \\\"1\\\": {\\n        \\\"male\\\": \\\"fr You ({3}) gave him ({4}) {5}.\\\",\\n        \\\"female\\\": \\\"fr You ({3}) gave her ({4}) {5}.\\\",\\n        \\\"other\\\": \\\"fr You ({3}) gave them ({4}) {5}.\\\"\\n      },\\n      \\\"one\\\": {\\n        \\\"male\\\": \\\"fr You ({3}) gave him ({4}) and one other person {5}.\\\",\\n        \\\"female\\\": \\\"fr You ({3}) gave her ({4}) and one other person {5}.\\\",\\n        \\\"other\\\": \\\"fr You ({3}) gave them ({4}) and one other person {5}.\\\"\\n      },\\n      \\\"other\\\": \\\"fr You ({3}) gave them ({4}) and {1} other people gifts.\\\"\\n    },\\n    \\\"{{recipients.length - 1}}\\\",\\n    \\\"{{recipients.0.gender}}\\\",\\n    \\\"{{sender.name}}\\\",\\n    \\\"{{recipients.0.name}}\\\",\\n    \\\"fr a gift\\\"\\n  ]\\n}\\n\",\n  \"/plural-gender-element/plural-gender-element.json\": \"{\\n  \\\"meta\\\": {},\\n  \\\"model\\\": {},\\n  \\\"compound-format-text\\\": [\\n    {\\n      \\\"0\\\": \\\"You ({3}) gave no gifts.\\\",\\n      \\\"1\\\": {\\n        \\\"male\\\": \\\"You ({3}) gave him ({4}) {5}.\\\",\\n        \\\"female\\\": \\\"You ({3}) gave her ({4}) {5}.\\\",\\n        \\\"other\\\": \\\"You ({3}) gave them ({4}) {5}.\\\"\\n      },\\n      \\\"one\\\": {\\n        \\\"male\\\": \\\"You ({3}) gave him ({4}) and one other person {5}.\\\",\\n        \\\"female\\\": \\\"You ({3}) gave her ({4}) and one other person {5}.\\\",\\n        \\\"other\\\": \\\"You ({3}) gave them ({4}) and one other person {5}.\\\"\\n      },\\n      \\\"other\\\": \\\"You ({3}) gave them ({4}) and {1} other people gifts.\\\"\\n    },\\n    \\\"{{recipients.length - 1}}\\\",\\n    \\\"{{recipients.0.gender}}\\\",\\n    \\\"{{sender.name}}\\\",\\n    \\\"{{recipients.0.name}}\\\",\\n    \\\"a gift\\\"\\n  ]\\n}\",\n  \"/preference/preference-element.json\": \"{\\n  \\\"meta\\\": {},\\n  \\\"model\\\": {}\\n}\",\n  \"/simple-attribute-dom-bind.json\": \"{\\n  \\\"meta\\\": {},\\n  \\\"model\\\": {\\n    \\\"standard-input\\\": {\\n      \\\"placeholder\\\": \\\"standard HTML5 attribute\\\"\\n    },\\n    \\\"outer-div:input_2\\\": {\\n      \\\"placeholder\\\": \\\"standard HTML5 attribute without id\\\"\\n    },\\n    \\\"paper-input-element\\\": {\\n      \\\"label\\\": \\\"paper-input label\\\",\\n      \\\"error-message\\\": \\\"paper-input error message\\\",\\n      \\\"placeholder\\\": \\\"paper-input placeholder\\\"\\n    },\\n    \\\"outer-div:paper-input_4\\\": {\\n      \\\"label\\\": \\\"paper-input label without id\\\",\\n      \\\"error-message\\\": \\\"paper-input error message without id\\\",\\n      \\\"placeholder\\\": \\\"paper-input placeholder without id\\\"\\n    },\\n    \\\"pie-chart\\\": {\\n      \\\"options\\\": {\\n        \\\"title\\\": \\\"Distribution of days in 2001H1\\\"\\n      },\\n      \\\"cols\\\": [\\n        {\\n          \\\"label\\\": \\\"Month\\\",\\n          \\\"type\\\": \\\"string\\\"\\n        },\\n        {\\n          \\\"label\\\": \\\"Days\\\",\\n          \\\"type\\\": \\\"number\\\"\\n        }\\n      ],\\n      \\\"rows\\\": [\\n        [\\n          \\\"Jan\\\",\\n          31\\n        ],\\n        [\\n          \\\"Feb\\\",\\n          28\\n        ],\\n        [\\n          \\\"Mar\\\",\\n          31\\n        ],\\n        [\\n          \\\"Apr\\\",\\n          30\\n        ],\\n        [\\n          \\\"May\\\",\\n          31\\n        ],\\n        [\\n          \\\"Jun\\\",\\n          30\\n        ]\\n      ]\\n    },\\n    \\\"column-chart\\\": {\\n      \\\"options\\\": {\\n        \\\"title\\\": \\\"Inventory\\\"\\n      },\\n      \\\"data\\\": [\\n        [\\n          \\\"Year\\\",\\n          \\\"Things\\\",\\n          \\\"Stuff\\\"\\n        ],\\n        [\\n          \\\"2004\\\",\\n          1000,\\n          400\\n        ],\\n        [\\n          \\\"2005\\\",\\n          1170,\\n          460\\n        ],\\n        [\\n          \\\"2006\\\",\\n          660,\\n          1120\\n        ],\\n        [\\n          \\\"2007\\\",\\n          1030,\\n          540\\n        ]\\n      ]\\n    },\\n    \\\"custom-attr\\\": {\\n      \\\"custom-text-attr1\\\": \\\"custom text attribute 1\\\",\\n      \\\"custom-text-attr2\\\": \\\"custom text attribute 2\\\",\\n      \\\"custom-text-attr3\\\": \\\"custom text attribute 3\\\"\\n    },\\n    \\\"selective-attr\\\": {\\n      \\\"custom-text-attr4\\\": [\\n        \\\"{1} custom-text-attr4 attribute with param {2} and param {3} {4}\\\",\\n        \\\"{{text.ordinary-div}}\\\",\\n        \\\"{{text.ordinary-div}}\\\",\\n        \\\"[[text.ordinary-div]]\\\",\\n        \\\"{{text.ordinary-div}}\\\"\\n      ],\\n      \\\"custom-text-attr5\\\": [\\n        \\\"[[text.ordinary-div]]\\\",\\n        \\\" custom-text-attr5 attribute with param \\\",\\n        \\\"{{or('',text.ordinary-div)}}\\\",\\n        \\\" and param \\\",\\n        \\\"[[text.ordinary-div]]\\\"\\n      ],\\n      \\\"i18n-target\\\": [\\n        \\\"i18n-target attribute with param {1} and param {2}\\\",\\n        \\\"{{text.ordinary-div}}\\\",\\n        \\\"[[text.ordinary-div]]\\\"\\n      ],\\n      \\\"i18n-target2\\\": [\\n        \\\"i18n-target2 attribute with param \\\",\\n        \\\"{{or('',text.ordinary-div)}}\\\",\\n        \\\" and param \\\",\\n        \\\"[[text.ordinary-div]]\\\"\\n      ]\\n    },\\n    \\\"selective-attr2\\\": {\\n      \\\"i18n-target\\\": \\\"i18n-target attribute 2\\\"\\n    },\\n    \\\"selective-attr3\\\": {\\n      \\\"i18n-target6\\\": \\\"i18n-target6 attribute 2\\\"\\n    },\\n    \\\"selective-attr4\\\": {\\n      \\\"i18n-target6\\\": \\\"i18n-target6 attribute 3\\\"\\n    },\\n    \\\"json-data-id\\\": {\\n      \\\"attr1\\\": \\\"this attr1 is extracted\\\",\\n      \\\"i18n-target-attr\\\": \\\"this attribute is also extracted\\\"\\n    },\\n    \\\"template_2:json-data_1\\\": {\\n      \\\"attr1\\\": \\\"this attr1 without id is extracted\\\",\\n      \\\"i18n-target-attr\\\": \\\"this attribute without id is also extracted\\\"\\n    }\\n  },\\n  \\\"ordinary-div\\\": \\\"text 1\\\"\\n}\",\n  \"/simple-attribute-element/locales/simple-attribute-element.fr.json\": \"{\\n  \\\"model\\\": {\\n    \\\"standard-input\\\": {\\n      \\\"placeholder\\\": \\\"fr standard HTML5 attribute\\\"\\n    },\\n    \\\"outer-div:input_2\\\": {\\n      \\\"placeholder\\\": \\\"fr standard HTML5 attribute without id\\\"\\n    },\\n    \\\"paper-input-element\\\": {\\n      \\\"label\\\": \\\"fr paper-input label\\\",\\n      \\\"error-message\\\": \\\"fr paper-input error message\\\",\\n      \\\"placeholder\\\": \\\"fr paper-input placeholder\\\"\\n    },\\n    \\\"outer-div:paper-input_4\\\": {\\n      \\\"label\\\": \\\"fr paper-input label without id\\\",\\n      \\\"error-message\\\": \\\"fr paper-input error message without id\\\",\\n      \\\"placeholder\\\": \\\"fr paper-input placeholder without id\\\"\\n    },\\n    \\\"pie-chart\\\": {\\n      \\\"options\\\": {\\n        \\\"title\\\": \\\"fr Distribution of days in 2001H1\\\"\\n      },\\n      \\\"cols\\\": [\\n        {\\n          \\\"label\\\": \\\"fr Month\\\",\\n          \\\"type\\\": \\\"string\\\"\\n        },\\n        {\\n          \\\"label\\\": \\\"fr Days\\\",\\n          \\\"type\\\": \\\"number\\\"\\n        }\\n      ],\\n      \\\"rows\\\": [\\n        [\\n          \\\"fr Jan\\\",\\n          31\\n        ],\\n        [\\n          \\\"fr Feb\\\",\\n          28\\n        ],\\n        [\\n          \\\"fr Mar\\\",\\n          31\\n        ],\\n        [\\n          \\\"fr Apr\\\",\\n          30\\n        ],\\n        [\\n          \\\"fr May\\\",\\n          31\\n        ],\\n        [\\n          \\\"fr Jun\\\",\\n          30\\n        ]\\n      ]\\n    },\\n    \\\"column-chart\\\": {\\n      \\\"options\\\": {\\n        \\\"title\\\": \\\"fr Inventory\\\"\\n      },\\n      \\\"data\\\": [\\n        [\\n          \\\"fr Year\\\",\\n          \\\"fr Things\\\",\\n          \\\"fr Stuff\\\"\\n        ],\\n        [\\n          \\\"2004\\\",\\n          1000,\\n          400\\n        ],\\n        [\\n          \\\"2005\\\",\\n          1170,\\n          460\\n        ],\\n        [\\n          \\\"2006\\\",\\n          660,\\n          1120\\n        ],\\n        [\\n          \\\"2007\\\",\\n          1030,\\n          540\\n        ]\\n      ]\\n    },\\n    \\\"custom-attr\\\": {\\n      \\\"custom-text-attr1\\\": \\\"fr custom text attribute 1\\\",\\n      \\\"custom-text-attr2\\\": \\\"fr custom text attribute 2\\\",\\n      \\\"custom-text-attr3\\\": \\\"fr custom text attribute 3\\\"\\n    },\\n    \\\"selective-attr\\\": {\\n      \\\"custom-text-attr4\\\": [\\n        \\\"fr {1} custom-text-attr4 attribute with param {2} and param {3} {4}\\\",\\n        \\\"{{text.ordinary-div}}\\\",\\n        \\\"{{text.ordinary-div}}\\\",\\n        \\\"[[text.ordinary-div]]\\\",\\n        \\\"{{text.ordinary-div}}\\\"\\n      ],\\n      \\\"custom-text-attr5\\\": [\\n        \\\"[[text.ordinary-div]]\\\",\\n        \\\" fr custom-text-attr5 attribute with param \\\",\\n        \\\"{{or('',text.ordinary-div)}}\\\",\\n        \\\" fr and param \\\",\\n        \\\"[[text.ordinary-div]]\\\"\\n      ],\\n      \\\"i18n-target\\\": [\\n        \\\"fr i18n-target attribute with param {1} and param {2}\\\",\\n        \\\"{{text.ordinary-div}}\\\",\\n        \\\"[[text.ordinary-div]]\\\"\\n      ],\\n      \\\"i18n-target2\\\": [\\n        \\\"fr i18n-target2 attribute with param \\\",\\n        \\\"{{or('',text.ordinary-div)}}\\\",\\n        \\\" fr and param \\\",\\n        \\\"[[text.ordinary-div]]\\\"\\n      ]\\n    },\\n    \\\"selective-attr2\\\": {\\n      \\\"i18n-target\\\": \\\"fr i18n-target attribute 2\\\"\\n    },\\n    \\\"selective-attr3\\\": {\\n      \\\"i18n-target6\\\": \\\"fr i18n-target6 attribute 2\\\"\\n    },\\n    \\\"selective-attr4\\\": {\\n      \\\"i18n-target6\\\": \\\"fr i18n-target6 attribute 3\\\"\\n    },\\n    \\\"json-data-id\\\": {\\n      \\\"attr1\\\": \\\"fr this attr1 is extracted\\\",\\n      \\\"i18n-target-attr\\\": \\\"fr this attribute is also extracted\\\"\\n    },\\n    \\\"template_2:json-data_1\\\": {\\n      \\\"attr1\\\": \\\"fr this attr1 without id is extracted\\\",\\n      \\\"i18n-target-attr\\\": \\\"fr this attribute without id is also extracted\\\"\\n    }\\n  },\\n  \\\"ordinary-div\\\": \\\"fr text 1\\\"\\n}\\n\",\n  \"/simple-attribute-element/locales/text-attribute-element.fr.json\": \"{\\n  \\\"meta\\\": {},\\n  \\\"model\\\": {},\\n  \\\"span_4\\\": \\\"fr text\\\"\\n}\\n\",\n  \"/simple-attribute-element/simple-attribute-element.json\": \"{\\n  \\\"meta\\\": {},\\n  \\\"model\\\": {\\n    \\\"standard-input\\\": {\\n      \\\"placeholder\\\": \\\"standard HTML5 attribute\\\"\\n    },\\n    \\\"outer-div:input_2\\\": {\\n      \\\"placeholder\\\": \\\"standard HTML5 attribute without id\\\"\\n    },\\n    \\\"paper-input-element\\\": {\\n      \\\"label\\\": \\\"paper-input label\\\",\\n      \\\"error-message\\\": \\\"paper-input error message\\\",\\n      \\\"placeholder\\\": \\\"paper-input placeholder\\\"\\n    },\\n    \\\"outer-div:paper-input_4\\\": {\\n      \\\"label\\\": \\\"paper-input label without id\\\",\\n      \\\"error-message\\\": \\\"paper-input error message without id\\\",\\n      \\\"placeholder\\\": \\\"paper-input placeholder without id\\\"\\n    },\\n    \\\"pie-chart\\\": {\\n      \\\"options\\\": {\\n        \\\"title\\\": \\\"Distribution of days in 2001H1\\\"\\n      },\\n      \\\"cols\\\": [\\n        {\\n          \\\"label\\\": \\\"Month\\\",\\n          \\\"type\\\": \\\"string\\\"\\n        },\\n        {\\n          \\\"label\\\": \\\"Days\\\",\\n          \\\"type\\\": \\\"number\\\"\\n        }\\n      ],\\n      \\\"rows\\\": [\\n        [\\n          \\\"Jan\\\",\\n          31\\n        ],\\n        [\\n          \\\"Feb\\\",\\n          28\\n        ],\\n        [\\n          \\\"Mar\\\",\\n          31\\n        ],\\n        [\\n          \\\"Apr\\\",\\n          30\\n        ],\\n        [\\n          \\\"May\\\",\\n          31\\n        ],\\n        [\\n          \\\"Jun\\\",\\n          30\\n        ]\\n      ]\\n    },\\n    \\\"column-chart\\\": {\\n      \\\"options\\\": {\\n        \\\"title\\\": \\\"Inventory\\\"\\n      },\\n      \\\"data\\\": [\\n        [\\n          \\\"Year\\\",\\n          \\\"Things\\\",\\n          \\\"Stuff\\\"\\n        ],\\n        [\\n          \\\"2004\\\",\\n          1000,\\n          400\\n        ],\\n        [\\n          \\\"2005\\\",\\n          1170,\\n          460\\n        ],\\n        [\\n          \\\"2006\\\",\\n          660,\\n          1120\\n        ],\\n        [\\n          \\\"2007\\\",\\n          1030,\\n          540\\n        ]\\n      ]\\n    },\\n    \\\"custom-attr\\\": {\\n      \\\"custom-text-attr1\\\": \\\"custom text attribute 1\\\",\\n      \\\"custom-text-attr2\\\": \\\"custom text attribute 2\\\",\\n      \\\"custom-text-attr3\\\": \\\"custom text attribute 3\\\"\\n    },\\n    \\\"selective-attr\\\": {\\n      \\\"custom-text-attr4\\\": [\\n        \\\"{1} custom-text-attr4 attribute with param {2} and param {3} {4}\\\",\\n        \\\"{{text.ordinary-div}}\\\",\\n        \\\"{{text.ordinary-div}}\\\",\\n        \\\"[[text.ordinary-div]]\\\",\\n        \\\"{{text.ordinary-div}}\\\"\\n      ],\\n      \\\"custom-text-attr5\\\": [\\n        \\\"[[text.ordinary-div]]\\\",\\n        \\\" custom-text-attr5 attribute with param \\\",\\n        \\\"{{or('',text.ordinary-div)}}\\\",\\n        \\\" and param \\\",\\n        \\\"[[text.ordinary-div]]\\\"\\n      ],\\n      \\\"i18n-target\\\": [\\n        \\\"i18n-target attribute with param {1} and param {2}\\\",\\n        \\\"{{text.ordinary-div}}\\\",\\n        \\\"[[text.ordinary-div]]\\\"\\n      ],\\n      \\\"i18n-target2\\\": [\\n        \\\"i18n-target2 attribute with param \\\",\\n        \\\"{{or('',text.ordinary-div)}}\\\",\\n        \\\" and param \\\",\\n        \\\"[[text.ordinary-div]]\\\"\\n      ]\\n    },\\n    \\\"selective-attr2\\\": {\\n      \\\"i18n-target\\\": \\\"i18n-target attribute 2\\\"\\n    },\\n    \\\"selective-attr3\\\": {\\n      \\\"i18n-target6\\\": \\\"i18n-target6 attribute 2\\\"\\n    },\\n    \\\"selective-attr4\\\": {\\n      \\\"i18n-target6\\\": \\\"i18n-target6 attribute 3\\\"\\n    },\\n    \\\"json-data-id\\\": {\\n      \\\"attr1\\\": \\\"this attr1 is extracted\\\",\\n      \\\"i18n-target-attr\\\": \\\"this attribute is also extracted\\\"\\n    },\\n    \\\"template_2:json-data_1\\\": {\\n      \\\"attr1\\\": \\\"this attr1 without id is extracted\\\",\\n      \\\"i18n-target-attr\\\": \\\"this attribute without id is also extracted\\\"\\n    }\\n  },\\n  \\\"ordinary-div\\\": \\\"text 1\\\"\\n}\",\n  \"/simple-attribute-element/text-attribute-element.json\": \"{\\n  \\\"meta\\\": {},\\n  \\\"model\\\": {},\\n  \\\"span_4\\\": \\\"text\\\"\\n}\",\n  \"/simple-text-dom-bind.json\": \"{\\n  \\\"meta\\\": {},\\n  \\\"model\\\": {},\\n  \\\"text\\\": \\\" outermost text at the beginning \\\",\\n  \\\"h1_3\\\": \\\"outermost header 1\\\",\\n  \\\"text_4\\\": \\\" outermost text in the middle \\\",\\n  \\\"span_5\\\": \\\"simple text without id\\\",\\n  \\\"span_6\\\": \\\"simple text without id 2\\\",\\n  \\\"label-1\\\": \\\"simple text with id\\\",\\n  \\\"label-2\\\": \\\"simple text with id 2\\\",\\n  \\\"div_9:span\\\": \\\"simple text within div\\\",\\n  \\\"div_9:span_1\\\": \\\"simple text within div 2\\\",\\n  \\\"div_9:div_2:div\\\": \\\"great grandchild text within div\\\",\\n  \\\"div_10:text\\\": \\\" simple text as the first element in div \\\",\\n  \\\"div_10:span_1\\\": \\\"simple text within div\\\",\\n  \\\"div_10:text_2\\\": \\\" simple text in the middle of div \\\",\\n  \\\"div_10:span_3\\\": \\\"simple text within div 2\\\",\\n  \\\"div_10:div_4:div\\\": \\\"great grandchild text within div\\\",\\n  \\\"div_10:text_5\\\": \\\" simple text at the last element in div \\\",\\n  \\\"toplevel-div:span\\\": \\\"simple text within div\\\",\\n  \\\"toplevel-div:span_1\\\": \\\"simple text within div 2\\\",\\n  \\\"third-level-div\\\": \\\"great grandchild text within div\\\",\\n  \\\"second-level-div:div_1\\\": \\\"great grandchild text within div without id\\\",\\n  \\\"div_12:ul:li\\\": \\\"line item without id 1\\\",\\n  \\\"div_12:ul:li_1\\\": \\\"line item without id 2\\\",\\n  \\\"div_12:ul:li_2\\\": \\\"line item without id 3\\\",\\n  \\\"line-items:li\\\": \\\"line item with id 1\\\",\\n  \\\"line-items:li_1\\\": \\\"line item with id 2\\\",\\n  \\\"line-items:li_2\\\": \\\"line item with id 3\\\",\\n  \\\"p_13\\\": [\\n    \\\"A paragraph with {1} is converted to {2}.\\\",\\n    \\\"parameters\\\",\\n    \\\"<i18n-format>\\\"\\n  ],\\n  \\\"paragraph\\\": [\\n    \\\"A paragraph with {1} is converted to {2}.\\\",\\n    \\\"id\\\",\\n    \\\"<i18n-format>\\\"\\n  ],\\n  \\\"text_15\\\": \\\" outermost text at the end \\\"\\n}\",\n  \"/simple-text-element/locales/simple-text-element.fr.json\": \"{\\n  \\\"model\\\": {},\\n  \\\"text\\\": \\\" fr outermost text at the beginning \\\",\\n  \\\"h1_3\\\": \\\"fr outermost header 1\\\",\\n  \\\"text_4\\\": \\\" fr outermost text in the middle \\\",\\n  \\\"span_5\\\": \\\"fr simple text without id\\\",\\n  \\\"span_6\\\": \\\"fr simple text without id 2\\\",\\n  \\\"label-1\\\": \\\"fr simple text with id\\\",\\n  \\\"label-2\\\": \\\"fr simple text with id 2\\\",\\n  \\\"div_9:span\\\": \\\"fr simple text within div\\\",\\n  \\\"div_9:span_1\\\": \\\"fr simple text within div 2\\\",\\n  \\\"div_9:div_2:div\\\": \\\"fr great grandchild text within div\\\",\\n  \\\"div_10:text\\\": \\\" fr simple text as the first element in div \\\",\\n  \\\"div_10:span_1\\\": \\\"fr simple text within div\\\",\\n  \\\"div_10:text_2\\\": \\\" fr simple text in the middle of div \\\",\\n  \\\"div_10:span_3\\\": \\\"fr simple text within div 2\\\",\\n  \\\"div_10:div_4:div\\\": \\\"fr great grandchild text within div\\\",\\n  \\\"div_10:text_5\\\": \\\" fr simple text at the last element in div \\\",\\n  \\\"toplevel-div:span\\\": \\\"fr simple text within div\\\",\\n  \\\"toplevel-div:span_1\\\": \\\"fr simple text within div 2\\\",\\n  \\\"third-level-div\\\": \\\"fr great grandchild text within div\\\",\\n  \\\"second-level-div:div_1\\\": \\\"fr great grandchild text within div without id\\\",\\n  \\\"div_12:ul:li\\\": \\\"fr line item without id 1\\\",\\n  \\\"div_12:ul:li_1\\\": \\\"fr line item without id 2\\\",\\n  \\\"div_12:ul:li_2\\\": \\\"fr line item without id 3\\\",\\n  \\\"line-items:li\\\": \\\"fr line item with id 1\\\",\\n  \\\"line-items:li_1\\\": \\\"fr line item with id 2\\\",\\n  \\\"line-items:li_2\\\": \\\"fr line item with id 3\\\",\\n  \\\"p_13\\\": [\\n    \\\"fr A paragraph with {1} is converted to {2}.\\\",\\n    \\\"fr parameters\\\",\\n    \\\"fr <i18n-format>\\\"\\n  ],\\n  \\\"paragraph\\\": [\\n    \\\"fr A paragraph with {1} is converted to {2}.\\\",\\n    \\\"fr id\\\",\\n    \\\"fr <i18n-format>\\\"\\n  ],\\n  \\\"text_15\\\": \\\" fr outermost text at the end \\\"\\n}\\n\",\n  \"/simple-text-element/locales/simple-text-element.ru.json\": \"{\\n  \\\"model\\\": {},\\n  \\\"text\\\": \\\" ru outermost text at the beginning \\\",\\n  \\\"h1_3\\\": \\\"ru outermost header 1\\\",\\n  \\\"text_4\\\": \\\" ru outermost text in the middle \\\",\\n  \\\"span_5\\\": \\\"ru simple text without id\\\",\\n  \\\"span_6\\\": \\\"ru simple text without id 2\\\",\\n  \\\"label-1\\\": \\\"ru simple text with id\\\",\\n  \\\"label-2\\\": \\\"ru simple text with id 2\\\",\\n  \\\"div_9:span\\\": \\\"ru simple text within div\\\",\\n  \\\"div_9:span_1\\\": \\\"ru simple text within div 2\\\",\\n  \\\"div_9:div_2:div\\\": \\\"ru great grandchild text within div\\\",\\n  \\\"div_10:text\\\": \\\" ru simple text as the first element in div \\\",\\n  \\\"div_10:span_1\\\": \\\"ru simple text within div\\\",\\n  \\\"div_10:text_2\\\": \\\" ru simple text in the middle of div \\\",\\n  \\\"div_10:span_3\\\": \\\"ru simple text within div 2\\\",\\n  \\\"div_10:div_4:div\\\": \\\"ru great grandchild text within div\\\",\\n  \\\"div_10:text_5\\\": \\\" ru simple text at the last element in div \\\",\\n  \\\"toplevel-div:span\\\": \\\"ru simple text within div\\\",\\n  \\\"toplevel-div:span_1\\\": \\\"ru simple text within div 2\\\",\\n  \\\"third-level-div\\\": \\\"ru great grandchild text within div\\\",\\n  \\\"second-level-div:div_1\\\": \\\"ru great grandchild text within div without id\\\",\\n  \\\"div_12:ul:li\\\": \\\"ru line item without id 1\\\",\\n  \\\"div_12:ul:li_1\\\": \\\"ru line item without id 2\\\",\\n  \\\"div_12:ul:li_2\\\": \\\"ru line item without id 3\\\",\\n  \\\"line-items:li\\\": \\\"ru line item with id 1\\\",\\n  \\\"line-items:li_1\\\": \\\"ru line item with id 2\\\",\\n  \\\"line-items:li_2\\\": \\\"ru line item with id 3\\\",\\n  \\\"p_13\\\": [\\n    \\\"ru A paragraph with {1} is converted to {2}.\\\",\\n    \\\"ru parameters\\\",\\n    \\\"ru <i18n-format>\\\"\\n  ],\\n  \\\"paragraph\\\": [\\n    \\\"ru A paragraph with {1} is converted to {2}.\\\",\\n    \\\"ru id\\\",\\n    \\\"ru <i18n-format>\\\"\\n  ],\\n  \\\"text_15\\\": \\\" ru outermost text at the end \\\"\\n}\\n\",\n  \"/simple-text-element/simple-text-element.json\": \"{\\n  \\\"meta\\\": {},\\n  \\\"model\\\": {},\\n  \\\"text\\\": \\\" outermost text at the beginning \\\",\\n  \\\"h1_3\\\": \\\"outermost header 1\\\",\\n  \\\"text_4\\\": \\\" outermost text in the middle \\\",\\n  \\\"span_5\\\": \\\"simple text without id\\\",\\n  \\\"span_6\\\": \\\"simple text without id 2\\\",\\n  \\\"label-1\\\": \\\"simple text with id\\\",\\n  \\\"label-2\\\": \\\"simple text with id 2\\\",\\n  \\\"div_9:span\\\": \\\"simple text within div\\\",\\n  \\\"div_9:span_1\\\": \\\"simple text within div 2\\\",\\n  \\\"div_9:div_2:div\\\": \\\"great grandchild text within div\\\",\\n  \\\"div_10:text\\\": \\\" simple text as the first element in div \\\",\\n  \\\"div_10:span_1\\\": \\\"simple text within div\\\",\\n  \\\"div_10:text_2\\\": \\\" simple text in the middle of div \\\",\\n  \\\"div_10:span_3\\\": \\\"simple text within div 2\\\",\\n  \\\"div_10:div_4:div\\\": \\\"great grandchild text within div\\\",\\n  \\\"div_10:text_5\\\": \\\" simple text at the last element in div \\\",\\n  \\\"toplevel-div:span\\\": \\\"simple text within div\\\",\\n  \\\"toplevel-div:span_1\\\": \\\"simple text within div 2\\\",\\n  \\\"third-level-div\\\": \\\"great grandchild text within div\\\",\\n  \\\"second-level-div:div_1\\\": \\\"great grandchild text within div without id\\\",\\n  \\\"div_12:ul:li\\\": \\\"line item without id 1\\\",\\n  \\\"div_12:ul:li_1\\\": \\\"line item without id 2\\\",\\n  \\\"div_12:ul:li_2\\\": \\\"line item without id 3\\\",\\n  \\\"line-items:li\\\": \\\"line item with id 1\\\",\\n  \\\"line-items:li_1\\\": \\\"line item with id 2\\\",\\n  \\\"line-items:li_2\\\": \\\"line item with id 3\\\",\\n  \\\"p_13\\\": [\\n    \\\"A paragraph with {1} is converted to {2}.\\\",\\n    \\\"parameters\\\",\\n    \\\"<i18n-format>\\\"\\n  ],\\n  \\\"paragraph\\\": [\\n    \\\"A paragraph with {1} is converted to {2}.\\\",\\n    \\\"id\\\",\\n    \\\"<i18n-format>\\\"\\n  ],\\n  \\\"text_15\\\": \\\" outermost text at the end \\\"\\n}\",\n  \"/simple-text-id-element/locales/simple-text-id-element.fr.json\": \"{\\n  \\\"model\\\": {},\\n  \\\"text\\\": \\\" fr outermost text at the beginning \\\",\\n  \\\"h1_3\\\": \\\"fr outermost header 1\\\",\\n  \\\"text_4\\\": \\\" fr outermost text in the middle \\\",\\n  \\\"span_5\\\": \\\"fr simple text without id\\\",\\n  \\\"span_6\\\": \\\"fr simple text without id 2\\\",\\n  \\\"label-1\\\": \\\"fr simple text with id\\\",\\n  \\\"label-2\\\": \\\"fr simple text with id 2\\\",\\n  \\\"div_9:span\\\": \\\"fr simple text within div\\\",\\n  \\\"div_9:span_1\\\": \\\"fr simple text within div 2\\\",\\n  \\\"div_9:div_2:div\\\": \\\"fr great grandchild text within div\\\",\\n  \\\"div_10:text\\\": \\\" fr simple text as the first element in div \\\",\\n  \\\"div_10:span_1\\\": \\\"fr simple text within div\\\",\\n  \\\"div_10:text_2\\\": \\\" fr simple text in the middle of div \\\",\\n  \\\"div_10:span_3\\\": \\\"fr simple text within div 2\\\",\\n  \\\"div_10:div_4:div\\\": \\\"fr great grandchild text within div\\\",\\n  \\\"div_10:text_5\\\": \\\" fr simple text at the last element in div \\\",\\n  \\\"toplevel-div:span\\\": \\\"fr simple text within div\\\",\\n  \\\"toplevel-div:span_1\\\": \\\"fr simple text within div 2\\\",\\n  \\\"second-level-div\\\": [\\n    \\\" fr {1}\\\\n        {2} \\\",\\n    \\\"fr great grandchild text within div\\\",\\n    \\\"fr great grandchild text within div without id\\\"\\n  ],\\n  \\\"div_12:ul:li\\\": \\\"fr line item without id 1\\\",\\n  \\\"div_12:ul:li_1\\\": \\\"fr line item without id 2\\\",\\n  \\\"div_12:ul:li_2\\\": \\\"fr line item without id 3\\\",\\n  \\\"line-items\\\": [\\n    \\\" fr {1}\\\\n        {2}\\\\n        {3} \\\",\\n    \\\"fr line item with id 1\\\",\\n    \\\"fr line item with id 2\\\",\\n    \\\"fr line item with id 3\\\"\\n  ],\\n  \\\"p_13\\\": [\\n    \\\"fr A paragraph with {1} is converted to {2}.\\\",\\n    \\\"fr parameters\\\",\\n    \\\"fr <i18n-format>\\\"\\n  ],\\n  \\\"paragraph\\\": [\\n    \\\"fr A paragraph with {1} is converted to {2}.\\\",\\n    \\\"fr id\\\",\\n    \\\"fr <i18n-format>\\\"\\n  ],\\n  \\\"text_15\\\": \\\" fr outermost text at the end \\\"\\n}\\n\",\n  \"/simple-text-id-element/simple-text-id-element.json\": \"{\\n  \\\"meta\\\": {},\\n  \\\"model\\\": {},\\n  \\\"text\\\": \\\" outermost text at the beginning \\\",\\n  \\\"h1_3\\\": \\\"outermost header 1\\\",\\n  \\\"text_4\\\": \\\" outermost text in the middle \\\",\\n  \\\"span_5\\\": \\\"simple text without id\\\",\\n  \\\"span_6\\\": \\\"simple text without id 2\\\",\\n  \\\"label-1\\\": \\\"simple text with id\\\",\\n  \\\"label-2\\\": \\\"simple text with id 2\\\",\\n  \\\"div_9:span\\\": \\\"simple text within div\\\",\\n  \\\"div_9:span_1\\\": \\\"simple text within div 2\\\",\\n  \\\"div_9:div_2:div\\\": \\\"great grandchild text within div\\\",\\n  \\\"div_10:text\\\": \\\" simple text as the first element in div \\\",\\n  \\\"div_10:span_1\\\": \\\"simple text within div\\\",\\n  \\\"div_10:text_2\\\": \\\" simple text in the middle of div \\\",\\n  \\\"div_10:span_3\\\": \\\"simple text within div 2\\\",\\n  \\\"div_10:div_4:div\\\": \\\"great grandchild text within div\\\",\\n  \\\"div_10:text_5\\\": \\\" simple text at the last element in div \\\",\\n  \\\"toplevel-div:span\\\": \\\"simple text within div\\\",\\n  \\\"toplevel-div:span_1\\\": \\\"simple text within div 2\\\",\\n  \\\"second-level-div\\\": [\\n    \\\" {1}\\\\n        {2} \\\",\\n    \\\"great grandchild text within div\\\",\\n    \\\"great grandchild text within div without id\\\"\\n  ],\\n  \\\"div_12:ul:li\\\": \\\"line item without id 1\\\",\\n  \\\"div_12:ul:li_1\\\": \\\"line item without id 2\\\",\\n  \\\"div_12:ul:li_2\\\": \\\"line item without id 3\\\",\\n  \\\"line-items\\\": [\\n    \\\" {1}\\\\n        {2}\\\\n        {3} \\\",\\n    \\\"line item with id 1\\\",\\n    \\\"line item with id 2\\\",\\n    \\\"line item with id 3\\\"\\n  ],\\n  \\\"p_13\\\": [\\n    \\\"A paragraph with {1} is converted to {2}.\\\",\\n    \\\"parameters\\\",\\n    \\\"<i18n-format>\\\"\\n  ],\\n  \\\"paragraph\\\": [\\n    \\\"A paragraph with {1} is converted to {2}.\\\",\\n    \\\"id\\\",\\n    \\\"<i18n-format>\\\"\\n  ],\\n  \\\"text_15\\\": \\\" outermost text at the end \\\"\\n}\",\n  \"/template-default-lang/locales/null-template-default-lang-element.ja.json\": \"\",\n  \"/template-default-lang/locales/null-template-default-lang-element.zh-Hans-CN.json\": \"{\\n  \\\"meta\\\": {},\\n  \\\"model\\\": {},\\n  \\\"text\\\": \\\" zh-Hans-CN outermost text at the beginning \\\",\\n  \\\"h1_3\\\": \\\"zh-Hans-CN outermost header 1\\\",\\n  \\\"text_4\\\": \\\" zh-Hans-CN outermost text in the middle \\\",\\n  \\\"span_5\\\": \\\"zh-Hans-CN simple text without id\\\",\\n  \\\"span_6\\\": \\\"zh-Hans-CN simple text without id 2\\\",\\n  \\\"label-1\\\": \\\"zh-Hans-CN simple text with id\\\",\\n  \\\"label-2\\\": \\\"zh-Hans-CN simple text with id 2\\\",\\n  \\\"div_9:span\\\": \\\"zh-Hans-CN simple text within div\\\",\\n  \\\"div_9:span_1\\\": \\\"zh-Hans-CN simple text within div 2\\\",\\n  \\\"div_9:div_2:div\\\": \\\"zh-Hans-CN great grandchild text within div\\\",\\n  \\\"div_10:text\\\": \\\" zh-Hans-CN simple text as the first element in div \\\",\\n  \\\"div_10:span_1\\\": \\\"zh-Hans-CN simple text within div\\\",\\n  \\\"div_10:text_2\\\": \\\" zh-Hans-CN simple text in the middle of div \\\",\\n  \\\"div_10:span_3\\\": \\\"zh-Hans-CN simple text within div 2\\\",\\n  \\\"div_10:div_4:div\\\": \\\"zh-Hans-CN great grandchild text within div\\\",\\n  \\\"div_10:text_5\\\": \\\" zh-Hans-CN simple text at the last element in div \\\",\\n  \\\"toplevel-div:span\\\": \\\"zh-Hans-CN simple text within div\\\",\\n  \\\"toplevel-div:span_1\\\": \\\"zh-Hans-CN simple text within div 2\\\",\\n  \\\"third-level-div\\\": \\\"zh-Hans-CN great grandchild text within div\\\",\\n  \\\"second-level-div:div_1\\\": \\\"zh-Hans-CN great grandchild text within div without id\\\",\\n  \\\"div_12:ul:li\\\": \\\"zh-Hans-CN line item without id 1\\\",\\n  \\\"div_12:ul:li_1\\\": \\\"zh-Hans-CN line item without id 2\\\",\\n  \\\"div_12:ul:li_2\\\": \\\"zh-Hans-CN line item without id 3\\\",\\n  \\\"line-items:li\\\": \\\"zh-Hans-CN line item with id 1\\\",\\n  \\\"line-items:li_1\\\": \\\"zh-Hans-CN line item with id 2\\\",\\n  \\\"line-items:li_2\\\": \\\"zh-Hans-CN line item with id 3\\\",\\n  \\\"p_13\\\": [\\n    \\\"zh-Hans-CN A paragraph with {1} is converted to {2}.\\\",\\n    \\\"zh-Hans-CN parameters\\\",\\n    \\\"zh-Hans-CN <i18n-format>\\\"\\n  ],\\n  \\\"paragraph\\\": [\\n    \\\"zh-Hans-CN A paragraph with {1} is converted to {2}.\\\",\\n    \\\"zh-Hans-CN id\\\",\\n    \\\"zh-Hans-CN <i18n-format>\\\"\\n  ],\\n  \\\"text_15\\\": \\\" zh-Hans-CN outermost text at the end \\\"\\n}\",\n  \"/template-default-lang/locales/template-default-lang-element.zh-Hans-CN.json\": \"{\\n  \\\"meta\\\": {},\\n  \\\"model\\\": {},\\n  \\\"text\\\": \\\" zh-Hans-CN outermost text at the beginning \\\",\\n  \\\"h1_3\\\": \\\"zh-Hans-CN outermost header 1\\\",\\n  \\\"text_4\\\": \\\" zh-Hans-CN outermost text in the middle \\\",\\n  \\\"span_5\\\": \\\"zh-Hans-CN simple text without id\\\",\\n  \\\"span_6\\\": \\\"zh-Hans-CN simple text without id 2\\\",\\n  \\\"label-1\\\": \\\"zh-Hans-CN simple text with id\\\",\\n  \\\"label-2\\\": \\\"zh-Hans-CN simple text with id 2\\\",\\n  \\\"div_9:span\\\": \\\"zh-Hans-CN simple text within div\\\",\\n  \\\"div_9:span_1\\\": \\\"zh-Hans-CN simple text within div 2\\\",\\n  \\\"div_9:div_2:div\\\": \\\"zh-Hans-CN great grandchild text within div\\\",\\n  \\\"div_10:text\\\": \\\" zh-Hans-CN simple text as the first element in div \\\",\\n  \\\"div_10:span_1\\\": \\\"zh-Hans-CN simple text within div\\\",\\n  \\\"div_10:text_2\\\": \\\" zh-Hans-CN simple text in the middle of div \\\",\\n  \\\"div_10:span_3\\\": \\\"zh-Hans-CN simple text within div 2\\\",\\n  \\\"div_10:div_4:div\\\": \\\"zh-Hans-CN great grandchild text within div\\\",\\n  \\\"div_10:text_5\\\": \\\" zh-Hans-CN simple text at the last element in div \\\",\\n  \\\"toplevel-div:span\\\": \\\"zh-Hans-CN simple text within div\\\",\\n  \\\"toplevel-div:span_1\\\": \\\"zh-Hans-CN simple text within div 2\\\",\\n  \\\"third-level-div\\\": \\\"zh-Hans-CN great grandchild text within div\\\",\\n  \\\"second-level-div:div_1\\\": \\\"zh-Hans-CN great grandchild text within div without id\\\",\\n  \\\"div_12:ul:li\\\": \\\"zh-Hans-CN line item without id 1\\\",\\n  \\\"div_12:ul:li_1\\\": \\\"zh-Hans-CN line item without id 2\\\",\\n  \\\"div_12:ul:li_2\\\": \\\"zh-Hans-CN line item without id 3\\\",\\n  \\\"line-items:li\\\": \\\"zh-Hans-CN line item with id 1\\\",\\n  \\\"line-items:li_1\\\": \\\"zh-Hans-CN line item with id 2\\\",\\n  \\\"line-items:li_2\\\": \\\"zh-Hans-CN line item with id 3\\\",\\n  \\\"p_13\\\": [\\n    \\\"zh-Hans-CN A paragraph with {1} is converted to {2}.\\\",\\n    \\\"zh-Hans-CN parameters\\\",\\n    \\\"zh-Hans-CN <i18n-format>\\\"\\n  ],\\n  \\\"paragraph\\\": [\\n    \\\"zh-Hans-CN A paragraph with {1} is converted to {2}.\\\",\\n    \\\"zh-Hans-CN id\\\",\\n    \\\"zh-Hans-CN <i18n-format>\\\"\\n  ],\\n  \\\"text_15\\\": \\\" zh-Hans-CN outermost text at the end \\\"\\n}\",\n  \"/template-default-lang/null-template-default-lang-element.json\": \"{\\n  \\\"meta\\\": {},\\n  \\\"model\\\": {},\\n  \\\"text\\\": \\\" outermost text at the beginning \\\",\\n  \\\"h1_3\\\": \\\"outermost header 1\\\",\\n  \\\"text_4\\\": \\\" outermost text in the middle \\\",\\n  \\\"span_5\\\": \\\"simple text without id\\\",\\n  \\\"span_6\\\": \\\"simple text without id 2\\\",\\n  \\\"label-1\\\": \\\"simple text with id\\\",\\n  \\\"label-2\\\": \\\"simple text with id 2\\\",\\n  \\\"div_9:span\\\": \\\"simple text within div\\\",\\n  \\\"div_9:span_1\\\": \\\"simple text within div 2\\\",\\n  \\\"div_9:div_2:div\\\": \\\"great grandchild text within div\\\",\\n  \\\"div_10:text\\\": \\\" simple text as the first element in div \\\",\\n  \\\"div_10:span_1\\\": \\\"simple text within div\\\",\\n  \\\"div_10:text_2\\\": \\\" simple text in the middle of div \\\",\\n  \\\"div_10:span_3\\\": \\\"simple text within div 2\\\",\\n  \\\"div_10:div_4:div\\\": \\\"great grandchild text within div\\\",\\n  \\\"div_10:text_5\\\": \\\" simple text at the last element in div \\\",\\n  \\\"toplevel-div:span\\\": \\\"simple text within div\\\",\\n  \\\"toplevel-div:span_1\\\": \\\"simple text within div 2\\\",\\n  \\\"third-level-div\\\": \\\"great grandchild text within div\\\",\\n  \\\"second-level-div:div_1\\\": \\\"great grandchild text within div without id\\\",\\n  \\\"div_12:ul:li\\\": \\\"line item without id 1\\\",\\n  \\\"div_12:ul:li_1\\\": \\\"line item without id 2\\\",\\n  \\\"div_12:ul:li_2\\\": \\\"line item without id 3\\\",\\n  \\\"line-items:li\\\": \\\"line item with id 1\\\",\\n  \\\"line-items:li_1\\\": \\\"line item with id 2\\\",\\n  \\\"line-items:li_2\\\": \\\"line item with id 3\\\",\\n  \\\"p_13\\\": [\\n    \\\"A paragraph with {1} is converted to {2}.\\\",\\n    \\\"parameters\\\",\\n    \\\"<i18n-format>\\\"\\n  ],\\n  \\\"paragraph\\\": [\\n    \\\"A paragraph with {1} is converted to {2}.\\\",\\n    \\\"id\\\",\\n    \\\"<i18n-format>\\\"\\n  ],\\n  \\\"text_15\\\": \\\" outermost text at the end \\\"\\n}\",\n  \"/template-default-lang/template-default-lang-element.json\": \"{\\n  \\\"meta\\\": {},\\n  \\\"model\\\": {},\\n  \\\"text\\\": \\\" fr outermost text at the beginning \\\",\\n  \\\"h1_3\\\": \\\"fr outermost header 1\\\",\\n  \\\"text_4\\\": \\\" fr outermost text in the middle \\\",\\n  \\\"span_5\\\": \\\"fr simple text without id\\\",\\n  \\\"span_6\\\": \\\"fr simple text without id 2\\\",\\n  \\\"label-1\\\": \\\"fr simple text with id\\\",\\n  \\\"label-2\\\": \\\"fr simple text with id 2\\\",\\n  \\\"div_9:span\\\": \\\"fr simple text within div\\\",\\n  \\\"div_9:span_1\\\": \\\"fr simple text within div 2\\\",\\n  \\\"div_9:div_2:div\\\": \\\"fr great grandchild text within div\\\",\\n  \\\"div_10:text\\\": \\\" fr simple text as the first element in div \\\",\\n  \\\"div_10:span_1\\\": \\\"fr simple text within div\\\",\\n  \\\"div_10:text_2\\\": \\\" fr simple text in the middle of div \\\",\\n  \\\"div_10:span_3\\\": \\\"fr simple text within div 2\\\",\\n  \\\"div_10:div_4:div\\\": \\\"fr great grandchild text within div\\\",\\n  \\\"div_10:text_5\\\": \\\" fr simple text at the last element in div \\\",\\n  \\\"toplevel-div:span\\\": \\\"fr simple text within div\\\",\\n  \\\"toplevel-div:span_1\\\": \\\"fr simple text within div 2\\\",\\n  \\\"third-level-div\\\": \\\"fr great grandchild text within div\\\",\\n  \\\"second-level-div:div_1\\\": \\\"fr great grandchild text within div without id\\\",\\n  \\\"div_12:ul:li\\\": \\\"fr line item without id 1\\\",\\n  \\\"div_12:ul:li_1\\\": \\\"fr line item without id 2\\\",\\n  \\\"div_12:ul:li_2\\\": \\\"fr line item without id 3\\\",\\n  \\\"line-items:li\\\": \\\"fr line item with id 1\\\",\\n  \\\"line-items:li_1\\\": \\\"fr line item with id 2\\\",\\n  \\\"line-items:li_2\\\": \\\"fr line item with id 3\\\",\\n  \\\"p_13\\\": [\\n    \\\"fr A paragraph with {1} is converted to {2}.\\\",\\n    \\\"fr parameters\\\",\\n    \\\"fr <i18n-format>\\\"\\n  ],\\n  \\\"paragraph\\\": [\\n    \\\"fr A paragraph with {1} is converted to {2}.\\\",\\n    \\\"fr id\\\",\\n    \\\"fr <i18n-format>\\\"\\n  ],\\n  \\\"text_15\\\": \\\" fr outermost text at the end \\\"\\n}\"\n};\n/*!\n * @license https://github.com/t2ym/i18n-behavior/blob/master/LICENSE.md\n * Copyright (c) 2016, Tetsuya Mori <t2y3141592@gmail.com>. All rights reserved.\n */\n\nif (!Number.isNaN) {\n  // polyfill Number.isNaN for IE11\n  Number.isNaN = function (value) {\n    return typeof value === 'number' && isNaN(value);\n  };\n}\n\n// Inheritance of test parameters\nvar p = Object.setPrototypeOf || function (target, base) { \n  var obj = Object.create(base);\n  for (var p in target) {\n    obj[p] = target[p];\n  }\n  return obj;\n};\nvar g = Object.getPrototypeOf;\nvar _name = 'suite';\nvar suiteMap = { null: {} };\nvar s = function (name, baseName, extension) {\n  if (suiteMap[name]) {\n    throw new Error('duplicate suite name ' + name);\n  }\n  if (!suiteMap[baseName]) {\n    throw new Error('inexistent base suite name ' + baseName);\n  }\n  extension[_name] = name;\n  extension = p(extension, suiteMap[baseName]);\n  suiteMap[name] = extension;\n  return extension;\n};\n\n// Utility functions\n\nfunction updateProperty (element, properties) {\n  for (var name in properties) {\n    var path = name.split(/[.]/);\n    if (path.length === 1) {\n      element[name] = properties[name];\n    }\n    else {\n      var cursor = element;\n      var p = path.shift();\n      while (p) {\n        if (path.length < 1) {\n          cursor[p] = properties[name];\n          element.notifyPath(name, properties[name], true);\n          break;\n        }\n        else if (p === 'PolymerDom') {\n          cursor = Polymer.dom(cursor);\n        }\n        else if (p === 'html') {\n          cursor = document.querySelector('html');\n        }\n        else {\n          cursor = cursor[p];\n        }\n        p = path.shift();\n      }\n    }\n  }\n}\n\nfunction getProperty (target, name) {\n  var path = name.split(/[.]/);\n  if (path.length === 1) {\n    return target[name];\n  }\n  else {\n    var cursor = target;\n    var p = path.shift();\n    while (p) {\n      //console.log(p, cursor);\n      if (path.length < 1) {\n        if (p === 'raw' ||\n            p === 'text') {\n          return cursor;\n        }\n        else if (p === 'trim') {\n          return cursor.trim();\n        }\n        if (p === 'data') {\n          cursor = cursor[p];\n          cursor = cursor.replace(/^[\\s]{1,}/g, ' ').replace(/[\\s]{1,}$/g, ' ');\n          return cursor;\n        }\n        else {\n          return cursor[p];\n        }\n      }\n      else if (p === 'PolymerDom') {\n        cursor = Polymer.dom(cursor);\n      }\n      else if (p === 'previousTextSibling') {\n        do {\n          cursor = cursor.previousSibling;\n        } while (cursor.nodeType === cursor.COMMENT_NODE ||\n                 (cursor.nodeType === cursor.TEXT_NODE && cursor.data.match(/^[\\s]*$/)));\n      }\n      else if (p === 'nextTextSibling') {\n        do {\n          cursor = cursor.nextSibling;\n        } while (cursor.nodeType === cursor.COMMENT_NODE ||\n                 (cursor.nodeType === cursor.TEXT_NODE && cursor.data.match(/^[\\s]*$/)));\n      }\n      else if (p === 'effectiveChildNodes') {\n        cursor = cursor.getEffectiveChildNodes();\n      }\n      else if (p === 'nonWS') {\n        cursor = Array.prototype.filter.call(cursor, function (item) {\n          return (item.nodeType !== item.TEXT_NODE &&\n                  item.nodeType !== item.COMMENT_NODE) ||\n                 (item.nodeType === item.TEXT_NODE &&\n                  !item.data.match(/^[\\s]*$/));\n        });\n      }\n      else {\n        cursor = cursor[p];\n      }\n      p = path.shift();\n    }\n  }\n}\n\nfunction deepMap (target, source, map) {\n  var value;\n  for (var prop in source) {\n    value = source[prop];\n    switch (typeof value) {\n    case 'string':\n    case 'number':\n    case 'boolean':\n      if (typeof target === 'object') {\n        target[prop] = map(value, prop);\n      }\n      break;\n    case 'object':\n      if (typeof target === 'object') {\n        if (Array.isArray(value)) {\n          target[prop] = target[prop] || [];\n          deepMap(target[prop], value, map);\n        }\n        else {\n          target[prop] = target[prop] || {};\n          deepMap(target[prop], value, map);\n        }\n      }\n      break;\n    case 'function':\n    case 'symbol':\n    case 'undefined':\n      if (typeof target === 'object') {\n        target[prop] = value;\n      }\n      break;\n    default:\n      if (typeof target === 'object') {\n        target[prop] = value;\n      }\n      break;\n    }\n  }\n  return target;\n}\n\nfunction translate (lang, path, text) {\n  var result;\n  switch (lang) {\n  case '':\n  case 'en':\n  case null:\n  case undefined:\n    result = text;\n    break;\n  default:\n    if (!path || path.match(/(textContent|[.]data|[.]text|[.]trim)$/)) {\n      result = {};\n      deepMap(result, { text: text }, function (value, prop) {\n        if (typeof value === 'string' &&\n            !value.match(/^({{[^{}]*}}|\\[\\[[^\\[\\]]*\\]\\])$/) &&\n            !value.match(/^[0-9]{1,}$/) &&\n            prop !== 'type') {\n          if (path && path.match(/[.]trim$/)) {\n            return minifyText((lang + ' ' + value).trim());\n          }\n          else {\n            if (value.match(/^ /)) {\n              return minifyText(' ' + lang + ' ' + value);\n            }\n            else {\n              return minifyText(lang + ' ' + value);\n            }\n          }\n        }\n        return minifyText(value);\n      });\n      result = result.text;\n    }\n    else {\n      result = text;\n    }\n  }\n  //console.log('translate (' + lang + ', ' + path + ', ' + JSON.stringify(text, null, 2) + ') = ' + JSON.stringify(result, null, 2));\n  return result;\n}\n\nfunction minifyText (text) {\n  if (text && typeof text === 'string') {\n    text = text.replace(/[\\s]{1,}/g, ' ');\n  }\n  return text;\n}\n\nvar isFakeServer = typeof window === 'object' &&\n  typeof window.location.href === 'string' &&\n  window.location.href.indexOf('xhr=fake') > 0 &&\n  typeof window.fakeServerContents === 'object';\n\nvar isSuppressingSuiteParams = typeof window === 'object' &&\n  typeof window.location.href === 'string' &&\n  window.location.href.indexOf('suppress=true') > 0;\n\nvar syntax = 'mixin';\n(function () {\n  var href = typeof window === 'object' && typeof window.location.href === 'string'\n    ? window.location.href : ''\n  if (href) {\n    [ 'mixin', 'base-element', 'thin', 'legacy', 'modified-legacy' ].forEach(function (_syntax) {\n      if (href.indexOf('syntax=' + _syntax) > 0) {\n        syntax = _syntax;\n      }\n    });\n  }\n})();\n\nfunction setupFakeServer (e) {\n  if (isFakeServer) {\n    e.server = sinon.fakeServer.create();\n    e.server.autoRespond = true;\n    //e.server.autoRespondAfter = 100;\n    e.server.respondImmediately = true;\n    e.server.respondWith(/\\/test\\/[-\\w]+(\\/.*[.]json)$/, function (xhr, urlPath) {\n      if (fakeServerContents.hasOwnProperty(urlPath)) {\n        //console.log('fake-server: 200 ' + urlPath);\n        xhr.respond(200, { 'Content-Type': 'application/json' }, fakeServerContents[urlPath])\n      }\n      else {\n        //console.log('fake-server: 404 ' + urlPath);\n        xhr.respond(404, {}, '');\n      }\n    });\n  }\n}\n\nfunction teardownFakeServer (e) {\n  if (isFakeServer) {\n    e.server.restore();\n  }\n}\n\nfunction setupFixture (params, fixtureModel) {\n  var fixtureName = params.fixture;\n  var e = document.querySelector('#' + fixtureName);\n  var runningTest = document.querySelectorAll('.running-test');\n  var title = document.querySelector('#test-name');\n  var currentPath = window.location.pathname.split('/');\n  if (!e) {\n    throw new Error('Fixture element with id = ' + fixtureName + ' not found');\n  }\n  if (title) {\n    title.textContent =\n      (currentPath.length >= 2 ? currentPath[currentPath.length - 2] : '') +\n      (currentPath.length >= 1 ? '/' + currentPath[currentPath.length - 1].replace(/-test[.]html$/, '') + '/': '') +\n      params.suite;\n  }\n  //console.log('setupFixture: suite = ' + params.suite);\n  if (e.is === 'i18n-dom-bind') {\n    e.parentElement.classList.add('running-test');\n    Array.prototype.forEach.call(runningTest, function (node) {\n      if (node !== e.parentElement) {\n        node.classList.remove('running-test');\n      }\n    });\n    return new Promise(function (resolve, reject) {\n      e.addEventListener('dom-change', function setupFixtureDomChange (ev) {\n        if (Polymer.dom(ev).rootTarget === e) {\n          //console.log('setupFixture dom-change');\n          e.removeEventListener('dom-change', setupFixtureDomChange);\n          try {\n            if (fixtureModel &&\n                typeof fixtureModel.lang === 'string' &&\n                fixtureModel.lang !== 'en') {\n              //console.log('setupFixture: waiting for lang-updated');\n              e.addEventListener('lang-updated', function setupFixtureLangDomChange (event) {\n                //console.log('setupFixtureLangDomChange');\n                if (event.target === e &&\n                    e.effectiveLang === fixtureModel.lang) {\n                  //console.log('setupFixtureLangDomChange lang = ' + event.detail.lang + ' effectiveLang = ' + e.effectiveLang);\n                  e.removeEventListener('lang-updated', setupFixtureLangDomChange);\n                  e.render();\n                  resolve(e);\n                }\n              });\n              for (var p in fixtureModel) {\n                e[p] = fixtureModel[p];\n              }\n              e.params = params;\n            }\n            else {\n              for (var p in fixtureModel) {\n                e[p] = fixtureModel[p];\n              }\n              e.params = params;\n              //console.log('setupFixture: resolving');\n              e.render();\n              resolve(e);\n            }\n          }\n          catch (ex) {\n            reject(ex);\n          }\n        }\n      });\n      if (e._children) {\n        e.render();\n      }\n    });\n  }\n  else {\n    e.classList.add('running-test');\n    Array.prototype.forEach.call(runningTest, function (node) {\n      if (node !== e) {\n        node.classList.remove('running-test');\n      }\n    });\n    setupFakeServer(e);\n    return new Promise(function (resolve, reject) {\n      //console.log('setupFixture: name = ' + fixtureName + ' model = ' + JSON.stringify(fixtureModel, null, 2));\n      if (fixtureModel) {\n        var f = document.querySelector('test-fixture[id=' + fixtureName + ']');\n        var t = f.querySelector('template[is=dom-template]');\n        if (t) {\n          var templatizer = new Polymer.Templatizer();\n          var instanceProps = {};\n          var p;\n          for (p in fixtureModel) {\n            instanceProps[p] = true;\n          }\n          var self = t;\n          t._ctor = templatizer.templatize(t, {\n            instanceProps: instanceProps,\n            fwdHostPropToInstance: function(host, prop, value) {\n              if (self._instance) {\n                self._instance.forwardProperty(prop, value, host);\n              }\n            }\n          });\n          t.stamp = function (model) {\n            this._instance = new this._ctor(this, model);\n            return this._instance.root;\n          }.bind(t);\n        }\n      }\n      var element = fixture(fixtureName, fixtureModel);\n      //console.log('setupFixture: name = ' + fixtureName +\n      //            ' element.lang = ' + element.lang +\n      //            ' getAttribute(\"lang\") = ' + element.getAttribute('lang') +\n      //            ' element._lang = ' + element._lang);\n      if (element) {\n        if (fixtureModel &&\n            typeof fixtureModel.lang === 'string' &&\n            fixtureModel.lang !== 'en' &&\n            fixtureModel.lang !== element.effectiveLang && element.effectiveLang !== 'en') {\n          //console.log('setupFixture: waiting for lang-updated');\n          element.addEventListener('lang-updated', function setupFixtureLangUpdated (event) {\n            //console.log('setupFixtureLangUpdated');\n            if (event.target === element &&\n                element.effectiveLang === fixtureModel.lang) {\n              //console.log('setupFixtureLangUpdated lang = ' + event.detail.lang + ' effectiveLang = ' + element.effectiveLang);\n              element.removeEventListener('lang-updated', setupFixtureLangUpdated);\n              resolve(element);\n            }\n          });\n        }\n        else {\n          //console.log('setupFixture: element ready without lang-updated');\n          setTimeout(function () {\n            if (params.lang === '' || params.lang === 'en') {\n              element.fire('lang-updated');\n            }\n          }, 500);\n          resolve(element);\n        }\n      }\n      else {\n        reject(new Error('setupFixture returns null for ' +\n                          fixtureName + ' ' + JSON.stringify(fixtureModel,null,2)));\n      }\n    });\n  }\n}\n\nfunction restoreFixture (fixtureName) {\n  var e = document.querySelector('#' + fixtureName);\n  if (!e) {\n    throw new Error('Fixture element with id = ' + fixtureName + ' not found');\n  }\n  if (e.is === 'i18n-dom-bind') {\n    if (e._intervalId) {\n      clearInterval(e._intervalId);\n    }\n    Array.prototype.forEach.call(document.querySelectorAll('i18n-dom-bind'),\n      function (node) {\n        node.observeHtmlLang = true;\n      }\n    );\n  }\n  else {\n    teardownFakeServer(e);\n    e.restore();\n  }\n}\n\nfunction getLocalDomRoot (e) {\n  if (e.is === 'i18n-dom-bind') {\n    return e.parentElement;\n  }\n  else if (e) {\n    return e.root;\n  }\n  else {\n    return null;\n  }\n}\n\nfunction suitesRunner (suites) {\n\n  suites.forEach(function (params) {\n\n    suite(params.suite, function () {\n      var el;\n      var p;\n      var n;\n      var i, j;\n      var expected;\n      var results;\n      var node;\n      var rawValue = params.rawValue;\n      var fixtureElement;\n      var noProperties;\n      var lang = params.assign && params.assign.lang ? params.assign.lang : 'en';\n      var event = params.event ? params.event : 'lang-updated';\n      var defTimeout = 300000;\n      var timeout = params.timeout ? (params.timeout < defTimeout ? defTimeout : params.timeout) : defTimeout;\n      this.timeout(timeout);\n\n      (params.setup ? setup : suiteSetup)(function () {\n        return setupFixture(params, params.fixtureModel)\n          .then(function (element) {\n            el = element;\n            //console.log('setup: element.lang = ' + element.lang);\n            return new Promise(function (resolve, reject) {\n              //console.log(params.suite, 'waiting for ' + event);\n              if (params &&\n                  (params.event ||\n                  params.assign && (params.assign.lang || params.assign['html.lang']))) {\n                el.addEventListener(event, function fixtureSetup (e) {\n                  if (el === Polymer.dom(e).rootTarget &&\n                      el.lang === params.lang &&\n                      el.effectiveLang === params.effectiveLang) {\n                    el.removeEventListener(event, fixtureSetup);\n                    //console.log('setup: updateProperty resolving on ' + event);\n                    resolve(el);\n                  }\n                  else {\n                    console.log(params.suite + ' skipping uninteresting event ' + event +\n                      ' \"' + el.lang + '\" \"' + params.lang + '\" \"' + el.effectiveLang + '\" \"' + params.effectiveLang + '\"');\n                  }\n                });\n                //console.log('setup: updateProperty ' + JSON.stringify(params.assign, null, 2));\n                updateProperty(el, params.assign);\n              }\n              else {\n                //console.log('setup: updateProperty ' + JSON.stringify(params.assign, null, 2));\n                //console.log('setup: updateProperty resolving without ' + event);\n                updateProperty(el, params.assign);\n                resolve(el);\n              }\n            });\n          }, function (error) {\n            throw new Error(error);\n          });\n      });\n\n      test('{lang, effectiveLang, templateDefaultLang, observeHtmlLang' +\n            (params.text ? ', text' : '') +\n            (params.model ? ', model' : '') +\n            (params.localDOM ? ', local DOM' : '') +\n            '} properties are set as {' + \n            (isSuppressingSuiteParams ? '' :\n            [ params.lang, params.effectiveLang, params.templateDefaultLang, params.observeHtmlLang].join(', ') +\n            (params.text ? ', ' + JSON.stringify(params.text, null, 2) : '') +\n            (params.model ? ', ' + JSON.stringify(params.model, null, 2) : '') +\n            (!params.setup && params.localDOM ? ', ' + JSON.stringify(params.localDOM, null, 2) : '')) +\n            '}' +\n            (params.assign && params.assign.lang ? ' for ' + params.assign.lang : ''), function () {\n        assert.isString(el.lang, 'lang property is a string');\n        assert.equal(el.lang, params.lang, 'lang property is set');\n        assert.isString(el.effectiveLang, 'effectiveLang property is a string');\n        assert.equal(el.effectiveLang, params.effectiveLang, 'effectiveLang property is set');\n        assert.isString(el.templateDefaultLang, 'templateDefaultLang property is a string');\n        assert.equal(el.templateDefaultLang, params.templateDefaultLang, 'templateDefaultLang property is set');\n        assert.isBoolean(el.observeHtmlLang, 'observeHtmlLang property is a Boolean');\n        assert.equal(el.observeHtmlLang, params.observeHtmlLang, 'observeHtmlLang property is set');\n        if (params.text) {\n          var actual;\n          expected = deepMap(deepcopy(params.text), params.text, minifyText);\n          actual = deepMap(deepcopy(el.text), el.text, minifyText);\n          noProperties = true;\n          assert.isObject(el.text, 'text property is an object');\n          //console.log(JSON.stringify(e.detail, null, 2));\n          //console.log(JSON.stringify(el.text, null, 2));\n          for (p in expected) {\n            if (p === 'meta') {\n              continue;\n            }\n            noProperties = false;\n            assert.deepEqual(actual[p],\n              params.rawText ? expected[p] : translate(params.effectiveLang, null, expected[p]),\n              'text.' + p + ' property is set for ' + params.effectiveLang);\n          }\n          if (noProperties) {\n            assert.deepEqual(deepMap(deepcopy(el.text), el.text, minifyText),\n              expected,\n              'text property is set');\n          }\n        }\n        if (params.model) {\n          noProperties = true;\n          assert.isObject(el.model, 'model property is an object');\n          for (p in expected) {\n            noProperties = false;\n            //console.log('model.' + p + ' = ' + JSON.stringify(el.model[p]));\n            //console.log('expected model.' + p + ' = ' + JSON.stringify(translate(el.effectiveLang, null, params.model[p])));\n            assert.deepEqual(minifyText(el.model[p]),\n              params.rawText ? params.model[p] : translate(params.effectiveLang, null, params.model[p]),\n              'model.' + p + ' property is set for ' + params.effectiveLang);\n          }\n          if (noProperties) {\n            assert.deepEqual(el.model, params.model, 'model property is set');\n          }\n        }\n        if (!params.setup && params.localDOM) {\n          params.localDOM.forEach(function (childPath) {\n            var completeStatus;\n            var nodes = Polymer.dom(getLocalDomRoot(el)).querySelectorAll(childPath.select);\n            assert.ok(nodes.length > 0, childPath.select + ' is defined');\n            for (var p in childPath) {\n              if (p === 'select') {\n                continue;\n              }\n              //console.log(p + ' is set as ' + childPath[p]);\n              if (Array.isArray(childPath[p])) {\n                //console.log(nodes);\n                Array.prototype.forEach.call(childPath[p], function (path, i, a) {\n                  assert.equal(minifyText(getProperty(nodes[i], p)),\n                    minifyText(params.rawText ? path : translate(params.effectiveLang, p, path)),\n                    p + ' is set as ' + minifyText(params.rawText ? path : translate(params.effectiveLang, p, path)));\n                });\n              }\n              else {\n                //console.log(nodes[0]);\n                assert.equal(minifyText(getProperty(nodes[0], p)),\n                  minifyText(params.rawText ? childPath[p] : translate(params.effectiveLang, p, childPath[p])),\n                  p + ' is set as ' + translate(params.rawText ? childPath[p] : params.effectiveLang, p, childPath[p]));\n              }\n            }\n            //console.log(childPath);\n          });\n        }\n      });\n\n/*\n      if (params.text) {\n        test('text' + ' property is set as ' + JSON.stringify(params.text,null,2) + \n          (params.assign && params.assign.lang ? ' for ' + params.assign.lang : ''), function () {\n          expected = deepMap(deepcopy(params.text), params.text, minifyText);\n          noProperties = true;\n          assert.isObject(el.text, 'text property is an object');\n          //console.log(JSON.stringify(e.detail, null, 2));\n          //console.log(JSON.stringify(el.text, null, 2));\n          for (p in expected) {\n            noProperties = false;\n            assert.deepEqual(deepMap(deepcopy(el.text[p]), el.text[p], minifyText),\n              params.rawText ? expected[p] : translate(params.effectiveLang, null, expected[p]),\n              'text.' + p + ' property is set for ' + params.effectiveLang);\n          }\n          if (noProperties) {\n            assert.deepEqual(deepMap(deepcopy(el.text), el.text, minifyText),\n              expected,\n              'text property is set');\n          }\n        });\n      }\n\n      if (params.model) {\n        test('model' + ' property is set as ' + JSON.stringify(params.model,null,2) + \n          (params.assign && params.assign.lang ? ' for ' + params.assign.lang : ''), function () {\n          noProperties = true;\n          assert.isObject(el.model, 'model property is an object');\n          for (p in params.model) {\n            noProperties = false;\n            //console.log('model.' + p + ' = ' + JSON.stringify(el.model[p]));\n            //console.log('expected model.' + p + ' = ' + JSON.stringify(translate(el.effectiveLang, null, params.model[p])));\n            assert.deepEqual(el.model[p],\n              params.rawText ? params.model[p] : translate(params.effectiveLang, null, params.model[p]),\n              'model.' + p + ' property is set for ' + params.effectiveLang);\n          }\n          if (noProperties) {\n            assert.deepEqual(el.model, params.model, 'model property is set');\n          }\n        });\n      }\n*/\n\n      if (params.setup && params.localDOM) {\n        test('local DOM ' + (isSuppressingSuiteParams ? '{}' : JSON.stringify(params.localDOM, null, 2)) + ' is set' + \n              (params.assign && params.assign.lang ? ' for ' + params.assign.lang : ''), function () {\n          params.localDOM.forEach(function (childPath) {\n            var completeStatus;\n            var nodes = Polymer.dom(getLocalDomRoot(el)).querySelectorAll(childPath.select);\n            assert.ok(nodes.length > 0, childPath.select + ' is defined');\n            for (var p in childPath) {\n              if (p === 'select') {\n                continue;\n              }\n              //console.log(p + ' is set as ' + childPath[p]);\n              if (Array.isArray(childPath[p])) {\n                //console.log(nodes);\n                Array.prototype.forEach.call(childPath[p], function (path, i, a) {\n                  assert.equal(minifyText(getProperty(nodes[i], p)),\n                    minifyText(params.rawText ? path : translate(params.effectiveLang, p, path)),\n                    p + ' is set as ' + minifyText(params.rawText ? path : translate(params.effectiveLang, p, path)));\n                });\n              }\n              else {\n                //console.log(nodes[0]);\n                assert.equal(minifyText(getProperty(nodes[0], p)),\n                  minifyText(params.rawText ? childPath[p] : translate(params.effectiveLang, p, childPath[p])),\n                  p + ' is set as ' + translate(params.rawText ? childPath[p] : params.effectiveLang, p, childPath[p]));\n              }\n            }\n            //console.log(childPath);\n          });\n        });\n      }\n\n      if (params.lightDOM) {\n        test('light DOM ' + (isSuppressingSuiteParams ? '{}' : JSON.stringify(params.lightDOM, null, 2)) + ' is set' + \n              (params.assign && params.assign.lang ? ' for ' + params.assign.lang : ''), function () {\n          params.lightDOM.forEach(function (childPath) {\n            var completeStatus;\n            var nodes = Polymer.dom(el).querySelectorAll(childPath.select);\n            assert.ok(nodes.length > 0, childPath.select + ' is defined');\n            for (var p in childPath) {\n              if (p === 'select') {\n                continue;\n              }\n              //console.log(p + ' is set as ' + childPath[p]);\n              if (Array.isArray(childPath[p])) {\n                //console.log(nodes);\n                Array.prototype.forEach.call(childPath[p], function (path, i, a) {\n                  assert.equal(getProperty(nodes[i], p), translate(params.effectiveLang, p, path), p + ' is set as ' + translate(params.effectiveLang, p, path));\n                });\n              }\n              else {\n                //console.log(nodes[0]);\n                assert.equal(getProperty(nodes[0], p), translate(params.effectiveLang, p, childPath[p]), p + ' is set as ' + translate(params.effectiveLang, p, childPath[p]));\n              }\n            }\n            //console.log(childPath);\n          });\n        });\n      }\n\n      (params.setup ? teardown : suiteTeardown)(function () {\n        restoreFixture(params.fixture);\n      });\n    });\n  });\n};\nwindow.Polymer = window.Polymer || {};\n  window.Polymer.version = '2.0-preview';\n(function() {\n\n  var modules = {};\n  var lcModules = {};\n  var findModule = function(id) {\n    return modules[id] || lcModules[id.toLowerCase()];\n  };\n\n  /**\n   * The `dom-module` element registers the dom it contains to the name given\n   * by the module's id attribute. It provides a unified database of dom\n   * accessible via any dom-module element. Use the `import(id, selector)`\n   * method to locate dom within this database. For example,\n   *\n   * <dom-module id=\"foo\">\n   *   <img src=\"stuff.png\">\n   * </dom-module>\n   *\n   * Then in code in some other location that cannot access the dom-module above\n   *\n   * var img = document.createElement('dom-module').import('foo', 'img');\n   *\n   */\n  class DomModule extends HTMLElement {\n\n    static get observedAttributes() { return ['id'] }\n\n    attributeChangedCallback() {\n      this.register();\n    }\n\n    _styleOutsideTemplateCheck() {\n      if (this.querySelector('style')) {\n        console.warn('dom-module %s has style outside template', this.id);\n      }\n    }\n\n    /**\n     * Registers the dom-module at a given id. This method should only be called\n     * when a dom-module is imperatively created. For\n     * example, `document.createElement('dom-module').register('foo')`.\n     * @method register\n     * @param {String} id The id at which to register the dom-module.\n     */\n    register(id) {\n      id = id || this.id;\n      if (id) {\n        this.id = id;\n        // store id separate from lowercased id so that\n        // in all cases mixedCase id will stored distinctly\n        // and lowercase version is a fallback\n        modules[id] = this;\n        lcModules[id.toLowerCase()] = this;\n        this._styleOutsideTemplateCheck();\n      }\n    }\n\n    /**\n     * Retrieves the dom specified by `selector` in the module specified by\n     * `id`. For example, this.import('foo', 'img');\n     * @method register\n     * @param {String} id\n     * @param {String} selector\n     * @return {Object} Returns the dom which matches `selector` in the module\n     * at the specified `id`.\n     */\n    import(id, selector) {\n      if (id) {\n        var m = findModule(id);\n        if (m && selector) {\n          return m.querySelector(selector);\n        }\n        return m;\n      }\n    }\n\n  }\n\n  customElements.define('dom-module', DomModule);\n\n  // export\n  Polymer.DomModule = new DomModule();\n\n  Polymer.DomModule.modules = modules;\n\n})();\n(function() {\n\n  'use strict';\n\n  var p = Element.prototype;\n   var matchesSelector = p.matches || p.matchesSelector ||\n     p.mozMatchesSelector || p.msMatchesSelector ||\n     p.oMatchesSelector || p.webkitMatchesSelector;\n\n  Polymer.Utils = {\n\n    /**\n     * Copies props from a source object to a target object.\n     *\n     * Note, this method uses a simple `for...in` strategy for enumerating\n     * properties.  To ensure only `ownProperties` are copied from source\n     * to target and that accessor implementations are copied, use `extend`.\n     *\n     * @method mixin\n     * @param {Object} target Target object to copy properties to.\n     * @param {Object} source Source object to copy properties from.\n     * @return {Object} Target object that was passed as first argument.\n     */\n    mixin(target, source) {\n      for (var i in source) {\n        target[i] = source[i];\n      }\n      return target;\n    },\n\n    /**\n     * Copies own properties (including accessor descriptors) from a source\n     * object to a target object.\n     *\n     * @method extend\n     * @param {Object} prototype Target object to copy properties to.\n     * @param {Object} api Source object to copy properties from.\n     * @return {Object} prototype object that was passed as first argument.\n     */\n    extend(prototype, api) {\n      if (prototype && api) {\n        var n$ = Object.getOwnPropertyNames(api);\n        for (var i=0, n; (i<n$.length) && (n=n$[i]); i++) {\n          this.copyOwnProperty(n, api, prototype);\n        }\n      }\n      return prototype || api;\n    },\n\n    copyOwnProperty(name, source, target) {\n      var pd = Object.getOwnPropertyDescriptor(source, name);\n      if (pd) {\n        Object.defineProperty(target, name, pd);\n      }\n    },\n\n    // only needed for v0 native ShadowDOM support\n    getRootNode(node) {\n      if (node.getRootNode) {\n        return node.getRootNode();\n      }\n      if (!node) {\n        return null;\n      }\n      while(node && node.parentNode) {\n        node = node.parentNode;\n      }\n      return node;\n    },\n\n    matchesSelector(node, selector) {\n      return matchesSelector.call(node, selector);\n    },\n\n    cachingMixin(mixin) {\n      return function(base) {\n        if (!mixin.__mixinApplications) {\n          mixin.__mixinApplications = new WeakMap();\n        }\n        let application = mixin.__mixinApplications.get(base);\n        if (!application) {\n          application = mixin(base);\n          mixin.__mixinApplications.set(base, application);\n        }\n        return application;\n      }\n    },\n\n    dedupingMixin(mixin) {\n      mixin = this.cachingMixin(mixin);\n      return function(base) {\n        let baseMap = base.__mixinMap;\n        if (baseMap && baseMap.get(mixin)) {\n          return base;\n        } else {\n          let extended = mixin(base);\n          extended.__mixinMap = new Map(baseMap);\n          extended.__mixinMap.set(mixin, true);\n          return extended;\n        }\n      }\n    }\n\n  };\n\n})();\nPolymer.CaseMap = {\n\n    _caseMap: {},\n    _rx: {\n      dashToCamel: /-[a-z]/g,\n      camelToDash: /([A-Z])/g\n    },\n\n    dashToCamelCase: function(dash) {\n      return this._caseMap[dash] || (\n        this._caseMap[dash] = dash.indexOf('-') < 0 ? dash : dash.replace(this._rx.dashToCamel,\n          function(m) {\n            return m[1].toUpperCase();\n          }\n        )\n      );\n    },\n\n    camelToDashCase: function(camel) {\n      return this._caseMap[camel] || (\n        this._caseMap[camel] = camel.replace(this._rx.camelToDash, '-$1').toLowerCase()\n      );\n    }\n\n  };\n(function() {\n\n  'use strict';\n\n  function createNodeEventHandler(context, eventName, methodName) {\n    context = context._rootDataHost || context;\n    var handler = function(e) {\n      if (context[methodName]) {\n        context[methodName](e, e.detail);\n      } else {\n        console.warn('listener method `' + methodName + '` not defined');\n      }\n    };\n    return handler;\n  }\n\n  Polymer.EventListeners = Polymer.Utils.dedupingMixin(function(superClass) {\n\n    return class EventListeners extends superClass {\n\n      _addMethodEventListenerToNode(node, eventName, methodName, context) {\n        context = context || node;\n        var handler = createNodeEventHandler(context, eventName, methodName);\n        this._addEventListenerToNode(node, eventName, handler);\n        return handler;\n      }\n\n      _addEventListenerToNode(node, eventName, handler) {\n        node.addEventListener(eventName, handler);\n      }\n\n      _removeEventListenerFromNode(node, eventName, handler) {\n        node.removeEventListener(eventName, handler);\n      }\n\n    }\n\n  });\n\n})();\n(function() {\n\n    // path fixup for urls in cssText that's expected to\n    // come from a given ownerDocument\n    function resolveCss(cssText, ownerDocument) {\n      return cssText.replace(CSS_URL_RX, function(m, pre, url, post) {\n        return pre + '\\'' +\n          resolve(url.replace(/[\"']/g, ''), ownerDocument) +\n          '\\'' + post;\n      });\n    }\n\n    // url fixup for urls in an element's attributes made relative to\n    // ownerDoc's base url\n    function resolveAttrs(element, ownerDocument) {\n      for (var name in URL_ATTRS) {\n        var a$ = URL_ATTRS[name];\n        for (var i=0, l=a$.length, a, at, v; (i<l) && (a=a$[i]); i++) {\n          if (name === '*' || element.localName === name) {\n            at = element.attributes[a];\n            v = at && at.value;\n            if (v && (v.search(BINDING_RX) < 0)) {\n              at.value = (a === 'style') ?\n                resolveCss(v, ownerDocument) :\n                resolve(v, ownerDocument);\n            }\n          }\n        }\n      }\n    }\n\n    function resolve(url, ownerDocument) {\n      // do not resolve '#' links, they are used for routing\n      if (url && ABS_URL.test(url)) {\n        return url;\n      }\n      var resolver = getUrlResolver(ownerDocument);\n      resolver.href = url;\n      return resolver.href || url;\n    }\n\n    var tempDoc;\n    var tempDocBase;\n    function resolveUrl(url, baseUri) {\n      if (!tempDoc) {\n        tempDoc = document.implementation.createHTMLDocument('temp');\n        tempDocBase = tempDoc.createElement('base');\n        tempDoc.head.appendChild(tempDocBase);\n      }\n      tempDocBase.href = baseUri;\n      return resolve(url, tempDoc);\n    }\n\n    function getUrlResolver(ownerDocument) {\n      return ownerDocument.__urlResolver ||\n        (ownerDocument.__urlResolver = ownerDocument.createElement('a'));\n    }\n\n    var CSS_URL_RX = /(url\\()([^)]*)(\\))/g;\n    var URL_ATTRS = {\n      '*': ['href', 'src', 'style', 'url'],\n      form: ['action']\n    };\n    var ABS_URL = /(^\\/)|(^#)|(^[\\w-\\d]*:)/;\n    var BINDING_RX = /\\{\\{|\\[\\[/;\n\n    // exports\n    Polymer.ResolveUrl = {\n      resolveCss: resolveCss,\n      resolveAttrs: resolveAttrs,\n      resolveUrl: resolveUrl\n    };\n\n  })();\n/**\n * Scans a template to produce an annotation list that that associates\n * metadata culled from markup with tree locations\n * metadata and information to associate the metadata with nodes in an instance.\n *\n * Supported expressions include:\n *\n * Double-mustache annotations in text content. The annotation must be the only\n * content in the tag, compound expressions are not supported.\n *\n *     <[tag]>{{annotation}}<[tag]>\n *\n * Double-escaped annotations in an attribute, either {{}} or [[]].\n *\n *     <[tag] someAttribute=\"{{annotation}}\" another=\"[[annotation]]\"><[tag]>\n *\n * `on-` style event declarations.\n *\n *     <[tag] on-<event-name>=\"annotation\"><[tag]>\n *\n * Note that the `annotations` feature does not implement any behaviors\n * associated with these expressions, it only captures the data.\n *\n * Generated data-structure:\n *\n *     [\n *       {\n *         id: '<id>',\n *         events: [\n *           {\n *             name: '<name>'\n *             value: '<annotation>'\n *           }, ...\n *         ],\n *         bindings: [\n *           {\n *             kind: ['text'|'attribute'],\n *             mode: ['{'|'['],\n *             name: '<name>'\n *             value: '<annotation>'\n *           }, ...\n *         ],\n *         // TODO(sjmiles): this is annotation-parent, not node-parent\n *         parent: <reference to parent annotation object>,\n *         index: <integer index in parent's childNodes collection>\n *       },\n *       ...\n *     ]\n *\n * @class Annotations feature\n */\n(function() {\n\n  'use strict';\n\n  // null-array (shared empty array to avoid null-checks)\n  const emptyArray = [];\n\n  let bindingRegex = (function() {\n    let IDENT  = '(?:' + '[a-zA-Z_$][\\\\w.:$\\\\-*]*' + ')';\n    let NUMBER = '(?:' + '[-+]?[0-9]*\\\\.?[0-9]+(?:[eE][-+]?[0-9]+)?' + ')';\n    let SQUOTE_STRING = '(?:' + '\\'(?:[^\\'\\\\\\\\]|\\\\\\\\.)*\\'' + ')';\n    let DQUOTE_STRING = '(?:' + '\"(?:[^\"\\\\\\\\]|\\\\\\\\.)*\"' + ')';\n    let STRING = '(?:' + SQUOTE_STRING + '|' + DQUOTE_STRING + ')';\n    let ARGUMENT = '(?:' + IDENT + '|' + NUMBER + '|' +  STRING + '\\\\s*' + ')';\n    let ARGUMENTS = '(?:' + ARGUMENT + '(?:,\\\\s*' + ARGUMENT + ')*' + ')';\n    let ARGUMENT_LIST = '(?:' + '\\\\(\\\\s*' +\n                                  '(?:' + ARGUMENTS + '?' + ')' +\n                                '\\\\)\\\\s*' + ')';\n    let BINDING = '(' + IDENT + '\\\\s*' + ARGUMENT_LIST + '?' + ')'; // Group 3\n    let OPEN_BRACKET = '(\\\\[\\\\[|{{)' + '\\\\s*';\n    let CLOSE_BRACKET = '(?:]]|}})';\n    let NEGATE = '(?:(!)\\\\s*)?'; // Group 2\n    let EXPRESSION = OPEN_BRACKET + NEGATE + BINDING + CLOSE_BRACKET;\n    return new RegExp(EXPRESSION, \"g\");\n  })();\n\n  let insertionPointTag = 'slot';\n  let currentTemplate;\n\n  function parseTemplateAnnotations(template) {\n    // TODO(kschaaf): File issue and/or remove when fixed\n    // hold a reference to content as _content to prevent odd Chrome gc issue\n    // nested templates also may receive their content as _content\n    let content = (template._content = template._content || template.content);\n    // since a template may be re-used, memo-ize notes.\n    if (!content._notes) {\n      content._notes = [];\n      // TODO(sorvell): whitespace and processAnnotations need to be factored\n      // into plugins\n      // TODO(kschaaf): template should be threaded through rather than implied state\n      currentTemplate = currentTemplate || template;\n      parseNodeAnnotations(content, content._notes,\n        template.hasAttribute('strip-whitespace'));\n    }\n    return content._notes;\n  }\n\n  // add annotations gleaned from subtree at `node` to `list`\n  function parseNodeAnnotations(node, list, stripWhiteSpace) {\n    return node.nodeType === Node.TEXT_NODE ?\n      parseTextNodeAnnotation(node, list) :\n        // TODO(sjmiles): are there other nodes we may encounter\n        // that are not TEXT_NODE but also not ELEMENT?\n        parseElementAnnotations(node, list, stripWhiteSpace);\n  }\n\n  // TODO(kschaaf): We could modify this to allow an escape mechanism by\n  // looking for the escape sequence in each of the matches and converting\n  // the part back to a literal type, and then bailing if only literals\n  // were found\n  function parseBindings(text) {\n    let parts = [];\n    let lastIndex = 0;\n    let m;\n    // Example: \"literal1{{prop}}literal2[[!compute(foo,bar)]]final\"\n    // Regex matches:\n    //        Iteration 1:  Iteration 2:\n    // m[1]: '{{'          '[['\n    // m[2]: ''            '!'\n    // m[3]: 'prop'        'compute(foo,bar)'\n    while ((m = bindingRegex.exec(text)) !== null) {\n      // Add literal part\n      if (m.index > lastIndex) {\n        parts.push({literal: text.slice(lastIndex, m.index)});\n      }\n      // Add binding part\n      // Mode (one-way or two)\n      let mode = m[1][0];\n      let negate = Boolean(m[2]);\n      let value = m[3].trim();\n      let customEvent, notifyEvent, colon;\n      if (mode == '{' && (colon = value.indexOf('::')) > 0) {\n        notifyEvent = value.substring(colon + 2);\n        value = value.substring(0, colon);\n        customEvent = true;\n      }\n      parts.push({\n        compoundIndex: parts.length,\n        value: value,\n        mode: mode,\n        negate: negate,\n        event: notifyEvent,\n        customEvent: customEvent\n      });\n      lastIndex = bindingRegex.lastIndex;\n    }\n    // Add a final literal part\n    if (lastIndex && lastIndex < text.length) {\n      let literal = text.substring(lastIndex);\n      if (literal) {\n        parts.push({\n          literal: literal\n        });\n      }\n    }\n    if (parts.length) {\n      return parts;\n    }\n  }\n\n  function literalFromParts(parts) {\n    let s = '';\n    for (let i=0; i<parts.length; i++) {\n      let literal = parts[i].literal;\n      s += literal || '';\n    }\n    return s;\n  }\n\n  // add annotations gleaned from TextNode `node` to `list`\n  function parseTextNodeAnnotation(node, list) {\n    let parts = parseBindings(node.textContent);\n    if (parts) {\n      // Initialize the textContent with any literal parts\n      // NOTE: default to a space here so the textNode remains; some browsers\n      // (IE) evacipate an empty textNode following cloneNode/importNode.\n      node.textContent = literalFromParts(parts) || ' ';\n      let note = {\n        bindings: [{\n          kind: 'text',\n          name: 'textContent',\n          parts: parts,\n          isCompound: parts.length !== 1\n        }]\n      };\n      list.push(note);\n      return note;\n    }\n  }\n\n  // add annotations gleaned from Element `node` to `list`\n  function parseElementAnnotations(element, list, stripWhiteSpace) {\n    let note = {\n      bindings: [],\n      events: []\n    };\n    if (element.localName === insertionPointTag) {\n      list._hasInsertionPoint = true;\n    }\n    parseChildNodesAnnotations(element, note, list, stripWhiteSpace);\n    // TODO(sjmiles): is this for non-ELEMENT nodes? If so, we should\n    // change the contract of this method, or filter these out above.\n    if (element.attributes) {\n      parseNodeAttributeAnnotations(element, note, list);\n      // TODO(sorvell): ad hoc callback for doing work on elements while\n      // leveraging annotator's tree walk.\n      // Consider adding an node callback registry and moving specific\n      // processing out of this module.\n      prepElement(element);\n    }\n    if (note.bindings.length || note.events.length || note.id) {\n      list.push(note);\n    }\n    return note;\n  }\n\n  // add annotations gleaned from children of `root` to `list`, `root`'s\n  // `note` is supplied as it is the note.parent of added annotations\n  function parseChildNodesAnnotations(root, note, list, stripWhiteSpace) {\n    if (root.firstChild) {\n      let node = root.firstChild;\n      let i = 0;\n      while (node) {\n        // BREAKME(kschaaf): pseudo-bc auto-wrapper for template type extensions\n        if (node.localName === 'template') {\n          let t = node;\n          let is = t.getAttribute('is');\n          // stamp `<dom-*>` elements\n          if (is && is.indexOf('dom-') === 0) {\n            t.removeAttribute('is');\n            node = t.ownerDocument.createElement(is);\n            root.replaceChild(node, t);\n            node.appendChild(t);\n            while(t.attributes.length) {\n              node.setAttribute(t.attributes[0].name, t.attributes[0].value);\n              t.removeAttribute(t.attributes[0].name);\n            }\n          }\n        }\n        if (node.localName === 'template' &&\n          !node.hasAttribute('preserve-content')) {\n          parseTemplate(node, i, list, note);\n        }\n        // collapse adjacent textNodes: fixes an IE issue that can cause\n        // text nodes to be inexplicably split =(\n        // note that root.normalize() should work but does not so we do this\n        // manually.\n        let next = node.nextSibling;\n        if (node.nodeType === Node.TEXT_NODE) {\n          let n = next;\n          while (n && (n.nodeType === Node.TEXT_NODE)) {\n            node.textContent += n.textContent;\n            next = n.nextSibling;\n            root.removeChild(n);\n            n = next;\n          }\n          // optionally strip whitespace\n          if (stripWhiteSpace && !node.textContent.trim()) {\n            root.removeChild(node);\n            // decrement index since node is removed\n            i--;\n          }\n        }\n        // if this node didn't get evacipated, parse it.\n        if (node.parentNode) {\n          let childAnnotation = parseNodeAnnotations(node, list,\n            stripWhiteSpace);\n          if (childAnnotation) {\n            childAnnotation.parent = note;\n            childAnnotation.index = i;\n          }\n        }\n        node = next;\n        i++;\n      }\n    }\n  }\n\n  // 1. Parse annotations from the template and memoize them on\n  //    content._notes (recurses into nested templates)\n  // 2. Remove template.content and store it in annotation list, where it\n  //    will be the responsibility of the host to set it back to the template\n  //    (this is both an optimization to avoid re-stamping nested template\n  //    children and avoids a bug in Chrome where nested template children\n  //    upgrade)\n  function parseTemplate(node, index, list, parent) {\n    let content = document.createDocumentFragment();\n    content._notes = parseTemplateAnnotations(node);\n    content.appendChild(node.content);\n    list.push({\n      bindings: emptyArray,\n      events: emptyArray,\n      templateContent: content,\n      parent: parent,\n      index: index\n    });\n  }\n\n  // add annotation data from attributes to the `annotation` for node `node`\n  // TODO(sjmiles): the distinction between an `annotation` and\n  // `annotation data` is not as clear as it could be\n  function parseNodeAttributeAnnotations(node, annotation) {\n    // Make copy of original attribute list, since the order may change\n    // as attributes are added and removed\n    let attrs = Array.prototype.slice.call(node.attributes);\n    for (let i=attrs.length-1, a; (a=attrs[i]); i--) {\n      let n = a.name;\n      let v = a.value;\n      let b;\n      // events (on-*)\n      if (n.slice(0, 3) === 'on-') {\n        node.removeAttribute(n);\n        annotation.events.push({\n          name: n.slice(3),\n          value: v\n        });\n      }\n      // bindings (other attributes)\n      else if ((b = parseNodeAttributeAnnotation(node, n, v))) {\n        annotation.bindings.push(b);\n      }\n      // static id\n      else if (n === 'id') {\n        annotation.id = v;\n      }\n    }\n  }\n\n  // construct annotation data from a generic attribute, or undefined\n  function parseNodeAttributeAnnotation(node, name, value) {\n    let parts = parseBindings(value);\n    if (parts) {\n      // Attribute or property\n      let origName = name;\n      let kind = 'property';\n      if (name[name.length-1] == '$') {\n        name = name.slice(0, -1);\n        kind = 'attribute';\n      }\n      // Initialize attribute bindings with any literal parts\n      let literal = literalFromParts(parts);\n      if (literal && kind == 'attribute') {\n        node.setAttribute(name, literal);\n      }\n      // Clear attribute before removing, since IE won't allow removing\n      // `value` attribute if it previously had a value (can't\n      // unconditionally set '' before removing since attributes with `$`\n      // can't be set using setAttribute)\n      if (node.localName === 'input' && origName === 'value') {\n        node.setAttribute(origName, '');\n      }\n      // Remove annotation\n      node.removeAttribute(origName);\n      // Case hackery: attributes are lower-case, but bind targets\n      // (properties) are case sensitive. Gambit is to map dash-case to\n      // camel-case: `foo-bar` becomes `fooBar`.\n      // Attribute bindings are excepted.\n      let propertyName = Polymer.CaseMap.dashToCamelCase(name);\n      if (kind === 'property') {\n        name = propertyName;\n      }\n      return {\n        kind: kind,\n        name: name,\n        propertyName: propertyName,\n        parts: parts,\n        literal: literal,\n        isCompound: parts.length !== 1\n      };\n    }\n  }\n\n  // TODO(sorvell): this should be factored into a plugin\n  function prepElement(element) {\n    Polymer.ResolveUrl.resolveAttrs(element, currentTemplate.ownerDocument);\n  }\n\n  Polymer.Annotations = Polymer.Utils.dedupingMixin(function(superClass) {\n\n    return class Annotations extends superClass {\n\n      // preprocess-time\n\n      // construct and return a list of annotation records\n      // by scanning `template`'s content\n      //\n      // TODO(sorvell): This should just crawl over a template and call\n      // a supplied list of callbacks.\n      _parseTemplateAnnotations(template) {\n        return parseTemplateAnnotations(template);\n      }\n\n      // instance-time\n      // TODO(sorvell): consider trying to use QS instead of this proprietary\n      // search. This would require some unique way to identify a node, a guid.\n      // Is this faster? simpler? Is that worth polluting the node?\n      _findTemplateAnnotatedNode(root, note) {\n        // recursively ascend tree until we hit root\n        let parent = note.parent && this._findTemplateAnnotatedNode(root,\n          note.parent);\n        // unwind the stack, returning the indexed node at each level\n        if (parent) {\n          // note: marginally faster than indexing via childNodes\n          // (http://jsperf.com/childnodes-lookup)\n          for (let n=parent.firstChild, i=0; n; n=n.nextSibling) {\n            if (note.index === i++) {\n              return n;\n            }\n          }\n        } else {\n          return root;\n        }\n      }\n\n    }\n\n  });\n\n})();\n(function() {\n\n  'use strict';\n\n  /**\n   * Scans a template to produce an annotation object that stores expression\n   * metadata along with information to associate the metadata with nodes in an\n   * instance.\n   *\n   * Elements with `id` in the template are noted and marshaled into an\n   * the `$` hash in an instance.\n   *\n   * Example\n   *\n   *     &lt;template>\n   *       &lt;div id=\"foo\">&lt;/div>\n   *     &lt;/template>\n   *     &lt;script>\n   *      Polymer({\n   *        task: function() {\n   *          this.$.foo.style.color = 'red';\n   *        }\n   *      });\n   *     &lt;/script>\n   *\n   * Other expressions that are noted include:\n   *\n   * Double-mustache annotations in text content. The annotation must be the only\n   * content in the tag, compound expressions are not (currently) supported.\n   *\n   *     <[tag]>{{path.to.host.property}}<[tag]>\n   *\n   * Double-mustache annotations in an attribute.\n   *\n   *     <[tag] someAttribute=\"{{path.to.host.property}}\"><[tag]>\n   *\n   * Only immediate host properties can automatically trigger side-effects.\n   * Setting `host.path` in the example above triggers the binding, setting\n   * `host.path.to.host.property` does not.\n   *\n   * `on-` style event declarations.\n   *\n   *     <[tag] on-<event-name>=\"{{hostMethodName}}\"><[tag]>\n   *\n   * Note: **the `annotations` feature does not actually implement the behaviors\n   * associated with these expressions, it only captures the data**.\n   *\n   * Other optional features contain actual data implementations.\n   *\n   * @class standard feature: annotations\n   */\n\n  /*\n\n  Scans a template to produce an annotation map that stores expression metadata\n  and information that associates the metadata to nodes in a template instance.\n\n  Supported annotations are:\n\n    * id attributes\n    * binding annotations in text nodes\n      * double-mustache expressions: {{expression}}\n      * double-bracket expressions: [[expression]]\n    * binding annotations in attributes\n      * attribute-bind expressions: name=\"{{expression}} || [[expression]]\"\n      * property-bind expressions: name*=\"{{expression}} || [[expression]]\"\n      * property-bind expressions: name:=\"expression\"\n    * event annotations\n      * event delegation directives: on-<eventName>=\"expression\"\n\n  Generated data-structure:\n\n    [\n      {\n        id: '<id>',\n        events: [\n          {\n            mode: ['auto'|''],\n            name: '<name>'\n            value: '<expression>'\n          }, ...\n        ],\n        bindings: [\n          {\n            kind: ['text'|'attribute'|'property'],\n            mode: ['auto'|''],\n            name: '<name>'\n            value: '<expression>'\n          }, ...\n        ],\n        // TODO(sjmiles): confusingly, this is annotation-parent, not node-parent\n        parent: <reference to parent annotation>,\n        index: <integer index in parent's childNodes collection>\n      },\n      ...\n    ]\n\n  TODO(sjmiles): this module should produce either syntactic metadata\n  (e.g. double-mustache, double-bracket, star-attr), or semantic metadata\n  (e.g. manual-bind, auto-bind, property-bind). Right now it's half and half.\n\n  */\n\n  // construct `$` map (from id annotations)\n  function applyIdToMap(inst, map, dom, note) {\n    if (note.id) {\n      map[note.id] = inst._findTemplateAnnotatedNode(dom, note);\n    }\n  }\n\n  // install event listeners (from event annotations)\n  function applyEventListener(inst, dom, note, host) {\n    if (note.events && note.events.length) {\n      var node = inst._findTemplateAnnotatedNode(dom, note);\n      for (var j=0, e$=note.events, e; (j<e$.length) && (e=e$[j]); j++) {\n        inst._addMethodEventListenerToNode(node, e.name, e.value, host);\n      }\n    }\n  }\n\n  // push configuration references at configure time\n  function applyTemplateContent(inst, dom, note) {\n    if (note.templateContent) {\n      var node = inst._findTemplateAnnotatedNode(dom, note);\n      node._content = note.templateContent;\n    }\n  }\n\n  Polymer.TemplateStamp = Polymer.Utils.dedupingMixin(function(superClass) {\n\n    return class TemplateStamp extends Polymer.Annotations(Polymer.EventListeners(superClass)) {\n\n      constructor() {\n        super();\n        this.$ = null;\n      }\n\n      _stampTemplate(template) {\n        // Polyfill support: bootstrap the template if it has not already been\n        if (template && !template.content &&\n            window.HTMLTemplateElement && HTMLTemplateElement.decorate) {\n          HTMLTemplateElement.decorate(template);\n        }\n        var notes = this._parseTemplateAnnotations(template);\n        var dom = document.importNode(template._content || template.content, true);\n        // NOTE: ShadyDom optimization indicating there is an insertion point\n        dom.__noInsertionPoint = !notes._hasInsertionPoint;\n        this.$ = {};\n        for (var i=0, l=notes.length, note; (i<l) && (note=notes[i]); i++) {\n          applyIdToMap(this, this.$, dom, note);\n          applyTemplateContent(this, dom, note);\n          applyEventListener(this, dom, note, this);\n        }\n        return dom;\n      }\n\n    }\n\n  });\n\n})();\nPolymer.Path = {\n\n    root: function(path) {\n      var dotIndex = path.indexOf('.');\n      if (dotIndex === -1) {\n        return path;\n      }\n      return path.slice(0, dotIndex);\n    },\n\n    isDeep: function(path) {\n      return path.indexOf('.') !== -1;\n    },\n\n    // Given `base` is `foo.bar`, `foo` is an ancestor, `foo.bar` is not\n    isAncestor: function(base, path) {\n      //     base.startsWith(path + '.');\n      return base.indexOf(path + '.') === 0;\n    },\n\n    // Given `base` is `foo.bar`, `foo.bar.baz` is an descendant\n    isDescendant: function(base, path) {\n      //     path.startsWith(base + '.');\n      return path.indexOf(base + '.') === 0;\n    },\n\n    // can be read as:  from  to       path\n    translate: function(base, newBase, path) {\n      // Defense?\n      return newBase + path.slice(base.length);\n    },\n\n    matches: function(base, path) {\n      return (base === path) ||\n             this.isAncestor(base, path) ||\n             this.isDescendant(base, path);\n    },\n\n    // Converts array-based paths to flattened path, optionally split into array\n    normalize: function(path, split) {\n      if (Array.isArray(path)) {\n        var parts = [];\n        for (var i=0; i<path.length; i++) {\n          var args = path[i].toString().split('.');\n          for (var j=0; j<args.length; j++) {\n            parts.push(args[j]);\n          }\n        }\n        return split ? parts : parts.join('.');\n      } else {\n        return split ? path.toString().split('.') : path;\n      }\n    },\n\n    get: function(root, path, info) {\n      var prop = root;\n      var parts = this.normalize(path, true);\n      // Loop over path parts[0..n-1] and dereference\n      for (var i=0; i<parts.length; i++) {\n        if (!prop) {\n          return;\n        }\n        var part = parts[i];\n        prop = prop[part];\n      }\n      if (info) {\n        info.path = parts.join('.');\n      }\n      return prop;\n    },\n\n    set: function(root, path, value) {\n      var prop = root;\n      var parts = this.normalize(path, true);\n      var last = parts[parts.length-1];\n      if (parts.length > 1) {\n        // Loop over path parts[0..n-2] and dereference\n        for (var i=0; i<parts.length-1; i++) {\n          var part = parts[i];\n          prop = prop[part];\n          if (!prop) {\n            return;\n          }\n        }\n        // Set value to object at end of path\n        prop[last] = value;\n      } else {\n        // Simple property set\n        prop[path] = value;\n      }\n      return parts.join('.');\n    }\n\n  };\n(function() {\n\n  'use strict';\n\n  // Save map of native properties\n  const nativeProperties = {};\n  let proto = HTMLElement.prototype;\n  while (proto) {\n    let props = Object.getOwnPropertyNames(proto);\n    for (let i=0; i<props.length; i++) {\n      nativeProperties[props[i]] = true;\n    }\n    proto = Object.getPrototypeOf(proto);\n  }\n\n  function saveAccessorValue(model, property) {\n    // Don't read/store value for any native properties since they could throw\n    if (!nativeProperties[property]) {\n      let value = model[property];\n      if (value !== undefined) {\n        if (model.__data) {\n          // Adding accessor to instance; update the property\n          // It is the user's responsibility to call _flushProperties\n          model._setPendingProperty(property, value);\n        } else {\n          // Adding accessor to proto; save proto's value for instance-time use\n          if (!model.__dataProto) {\n            model.__dataProto = {};\n          } else if (!model.hasOwnProperty('__dataProto')) {\n            model.__dataProto = Object.create(model.__dataProto);\n          }\n          model.__dataProto[property] = value;          \n        }\n      }      \n    }\n  }\n\n  Polymer.PropertyAccessors = Polymer.Utils.dedupingMixin(function(superClass) {\n\n    return class PropertyAccessors extends superClass {\n\n      constructor() {\n        super();\n        this._initializeProperties();\n      }\n\n      _initializeProperties() {\n        this.__data = {};\n        this.__dataPending = null;\n        this.__dataOld = null;\n        this.__dataInvalid = false;\n      }\n\n      _createPropertyAccessor(property, readOnly) {\n        saveAccessorValue(this, property);\n        Object.defineProperty(this, property, {\n          get: function() {\n            return this.__data && this.__data[property];\n          },\n          set: readOnly ? function() { } : function(value) {\n            this._setProperty(property, value);\n          }\n        });\n      }\n\n      _setProperty(property, value) {\n        if (this._setPendingProperty(property, value)) {\n          this._invalidateProperties();\n        }\n      }\n\n      _setPendingProperty(property, value) {\n        let old = this.__data[property];\n        if (this._shouldPropChange(property, value, old)) {\n          if (!this.__dataPending) {\n            this.__dataPending = {};\n            this.__dataOld = {};\n          }\n          // Ensure old is captured from the last turn\n          if (!(property in this.__dataOld)) {\n            this.__dataOld[property] = old;\n          }\n          this.__data[property] = value;\n          this.__dataPending[property] = value;\n          return true;\n        }\n      }\n\n      _invalidateProperties() {\n        if (!this.__dataInvalid) {\n          this.__dataInvalid = true;\n          Promise.resolve().then(() => {\n            if (this.__dataInvalid) {\n              this.__dataInvalid = false;\n              this._flushProperties();\n            }\n          });\n        }\n      }\n\n      _flushProperties() {\n        let oldProps = this.__dataOld;\n        let changedProps = this.__dataPending;\n        this.__dataPending = null;\n        this._propertiesChanged(this.__data, changedProps, oldProps);\n      }\n\n      _propertiesChanged(inst, currentProps, changedProps, oldProps) { // eslint-disable-line no-unused-vars\n      }\n\n      _shouldPropChange(property, value, old) {\n        return ((old !== value && (old === old || value === value)) ||\n          (typeof value == 'object'));\n      }\n\n    }\n\n  });\n\n})();\n(function() {\n\n  'use strict';\n\n  var caseMap = Polymer.CaseMap;\n\n  Polymer.Attributes = Polymer.Utils.dedupingMixin(function(superClass) {\n\n    return class Attributes extends superClass {\n\n      constructor() {\n        super();\n        this.__serializing = false;\n      }\n\n      /**\n       * Ensures the element has the given attribute. If it does not,\n       * assigns the given value to the attribute.\n       *\n       *\n       * @method _ensureAttribute\n       * @param {string} attribute Name of attribute to ensure is set.\n       * @param {string} value of the attribute.\n       */\n      _ensureAttribute(attribute, value) {\n        if (!this.hasAttribute(attribute)) {\n          this._valueToNodeAttribute(this, value, attribute);\n        }\n      }\n\n      /**\n       * Deserializes an attribute to its associated property.\n       *\n       * This method calls the `_deserializeAttribute` method to convert the string to\n       * a typed value.\n       *\n       * @method _attributeToProperty\n       * @param {string} attribute Name of attribute to deserialize.\n       * @param {string} value of the attribute.\n       * @param {*} type type to deserialize to.\n       */\n      _attributeToProperty(attribute, value, type) {\n        // Don't deserialize back to property if currently reflecting\n        if (!this.__serializing) {\n          var property = caseMap.dashToCamelCase(attribute);\n          this[property] = this._deserializeAttribute(value, type);\n        }\n      }\n\n      /**\n       * Serializes a property to its associated attribute.\n       *\n       * @method _propertyToAttribute\n       * @param {string} property Property name to reflect.\n       * @param {*=} attribute Attribute name to reflect.\n       * @param {*=} value Property value to refect.\n       */\n      _propertyToAttribute(property, attribute, value) {\n        this.__serializing = true;\n        value = (value === undefined) ? this[property] : value;\n        this._valueToNodeAttribute(this, value,\n          attribute || caseMap.camelToDashCase(property));\n        this.__serializing = false;\n      }\n\n      /**\n       * Sets a typed value to an HTML attribute on a node.\n       *\n       * This method calls the `_serializeAttribute` method to convert the typed\n       * value to a string.  If the `_serializeAttribute` method returns `undefined`,\n       * the attribute will be removed (this is the default for boolean\n       * type `false`).\n       *\n       * @method _valueToAttribute\n       * @param {Element=} node Element to set attribute to.\n       * @param {*} value Value to serialize.\n       * @param {string} attribute Attribute name to serialize to.\n\n       */\n      _valueToNodeAttribute(node, value, attribute) {\n        var str = this._serializeAttribute(value);\n        if (str === undefined) {\n          node.removeAttribute(attribute);\n        } else {\n          node.setAttribute(attribute, str);\n        }\n      }\n\n      /**\n       * Converts a typed value to a string.\n       *\n       * This method is called by Polymer when setting JS property values to\n       * HTML attributes.  Users may override this method on Polymer element\n       * prototypes to provide serialization for custom types.\n       *\n       * @method _serializeAttribute\n       * @param {*} value Property value to serialize.\n       * @return {string} String serialized from the provided property value.\n       */\n      _serializeAttribute(value) {\n        /* eslint-disable no-fallthrough */\n        switch (typeof value) {\n          case 'boolean':\n            return value ? '' : undefined;\n\n          case 'object':\n            if (value instanceof Date) {\n              return value;\n            } else if (value) {\n              try {\n                return JSON.stringify(value);\n              } catch(x) {\n                return '';\n              }\n            }\n\n          default:\n            return value != null ? value : undefined;\n        }\n      }\n\n      /**\n       * Converts a string to a typed value.\n       *\n       * This method is called by Polymer when reading HTML attribute values to\n       * JS properties.  Users may override this method on Polymer element\n       * prototypes to provide deserialization for custom `type`s.  Note,\n       * the `type` argument is the value of the `type` field provided in the\n       * `properties` configuration object for a given property, and is\n       * by convention the constructor for the type to deserialize.\n       *\n       * Note: The return value of `undefined` is used as a sentinel value to\n       * indicate the attribute should be removed.\n       *\n       * @method _deserializeAttribute\n       * @param {string} value Attribute value to deserialize.\n       * @param {*} type Type to deserialize the string to.\n       * @return {*} Typed value deserialized from the provided string.\n       */\n      _deserializeAttribute(value, type) {\n        switch (type) {\n          case Number:\n            value = Number(value);\n            break;\n\n          case Boolean:\n            value = (value !== null);\n            break;\n\n          case Object:\n            try {\n              value = JSON.parse(value);\n            } catch(x) {\n              // allow non-JSON literals like Strings and Numbers\n            }\n            break;\n\n          case Array:\n            try {\n              value = JSON.parse(value);\n            } catch(x) {\n              value = null;\n              console.warn('Polymer::Attributes: couldn`t decode Array as JSON');\n            }\n            break;\n\n          case Date:\n            value = new Date(value);\n            break;\n\n          case String:\n          default:\n            break;\n        }\n        return value;\n      }\n      /* eslint-enable no-fallthrough */\n    }\n\n  });\n\n\n})();\n(function() {\n\n  'use strict';\n\n  const CaseMap = Polymer.CaseMap;\n\n  const TYPES = {\n    ANY: '__propertyEffects',\n    COMPUTE: '__computeEffects',\n    REFLECT: '__reflectEffects',\n    NOTIFY: '__notifyEffects',\n    PROPAGATE: '__propagateEffects',\n    OBSERVE: '__observeEffects',\n    READ_ONLY: '__readOnly'\n  }\n\n  function ensureOwnMappedArray(model, type) {\n    let effects = model[type];\n    if (!effects) {\n      effects = model[type] = {};\n    } else if (!model.hasOwnProperty(type)) {\n      effects = model[type] = Object.create(model[type]);\n      for (let p in effects) {\n        // TODO(kschaaf): replace with fast array copy #!%&$!\n        effects[p] = effects[p].slice();\n      }\n    }\n    return effects;\n  }\n\n  // -- effects ----------------------------------------------\n\n  function runEffects(inst, property, value, old, effects) {\n    for (let i=0, l=effects.length, fx; (i<l) && (fx=effects[i]); i++) {\n      if (Polymer.Path.matches(fx.path, property)) {\n        fx.fn(inst, property, inst.__data[property], old, fx.info);\n      }\n    }\n  }\n\n  function runObserverEffect(inst, property, value, old, info) {\n    let fn = (info.context || inst)[info.methodName];\n    if (fn) {\n      fn.call(inst, value, old);\n    } else {\n      console.warn('observer method `' + info.methodName + '` not defined');\n    }\n  }\n\n  function runNotifyEffect(inst, path, value, old, info) {\n    let detail = { value };\n    if (info.property !== path) {\n      detail.path = path;\n    }\n    inst._dispatchNotifyingEvent(new CustomEvent(info.eventName, { detail }))\n  }\n\n  function runReflectEffect(inst, property, value, old, info) {\n    inst._propertyToAttribute(property, info.attrName);\n  }\n\n  function runMultiObserverEffect(inst, property, value, old, info) {\n    runMethodEffect(inst, property, value, old, info);\n  }\n\n  function runComputedEffect(inst, property, value, old, info) {\n    var result = runMethodEffect(inst, property, value, old, info);\n    var computedProp = info.methodInfo;\n    inst._setPropertyFromComputation(computedProp, result);\n  }\n\n  // -- bindings / annotations ----------------------------------------------\n\n  function bindTemplate(inst, template) {\n    let notes = inst._parseTemplateAnnotations(template);\n    processAnnotations(notes);\n    for (let i=0, note; (i<notes.length) && (note=notes[i]); i++)  {\n      // where to find the node in the concretized list\n      let b$ = note.bindings;\n      for (let j=0, binding; (j<b$.length) && (binding=b$[j]); j++) {\n        if (shouldAddListener(binding)) {\n          addAnnotatedListener(inst, i, binding.name,\n            binding.parts[0].value,\n            binding.parts[0].event,\n            binding.parts[0].negate);\n        }\n        addAnnotationEffect(inst, binding, i);\n      }\n    }\n  }\n\n  function addAnnotationEffect(inst, note, index) {\n    for (let i=0; i<note.parts.length; i++) {\n      let part = note.parts[i];\n      if (part.signature) {\n        addAnnotationMethodEffect(inst, note, part, index);\n      } else if (!part.literal) {\n        if (note.kind === 'attribute' && note.name[0] === '-') {\n          console.warn('Cannot set attribute ' + note.name +\n            ' because \"-\" is not a valid attribute starting character');\n        } else {\n          inst._addPropertyEffect(part.value, TYPES.PROPAGATE, {\n            fn: runAnnotationEffect,\n            info:  {\n              kind: note.kind,\n              index: index,\n              name: note.name,\n              propertyName: note.propertyName,\n              value: part.value,\n              isCompound: note.isCompound,\n              compoundIndex: part.compoundIndex,\n              event: part.event,\n              customEvent: part.customEvent,\n              negate: part.negate\n            }\n          });\n        }\n      }\n    }\n  }\n\n  function runAnnotationEffect(inst, path, value, old, info) {\n    let node = inst._nodes[info.index];\n    // Subpath notification: transform path and set to client\n    // e.g.: foo=\"{{obj.sub}}\", path: 'obj.sub.prop', set 'foo.prop'=obj.sub.prop\n    if ((path.length > info.value.length) &&\n        (info.kind == 'property') && !info.isCompound &&\n        node._hasPropertyEffect && node._hasPropertyEffect(info.name)) {\n      path = Polymer.Path.translate(info.value, info.name, path);\n      inst._setPropertyToNodeFromAnnotation(node, path, value);\n    } else {\n      // Root or deeper path was set; extract bound path value\n      // e.g.: foo=\"{{obj.sub}}\", path: 'obj', set 'foo'=obj.sub\n      //   or: foo=\"{{obj.sub}}\", path: 'obj.sub.prop', set 'foo'=obj.sub\n      if (path != info.value) {\n        value = Polymer.Path.get(inst, info.value);\n        inst.__data[info.value] = value;\n      }\n      // Propagate value to child\n      applyAnnotationValue(inst, info, value);\n    }\n  }\n\n  function applyAnnotationValue(inst, info, value) {\n    let node = inst._nodes[info.index];\n    let property = info.name;\n    value = computeAnnotationValue(node, property, value, info);\n    if (info.kind == 'attribute') {\n      inst._valueToNodeAttribute(node, value, property);\n    } else {\n      if (node._hasPropertyEffect && node._hasPropertyEffect(property)) {\n        inst._setPropertyToNodeFromAnnotation(node, property, value);\n      } else if (inst._shouldPropChange(property, node[property], value)) {\n        node[property] = value;\n      }\n    }\n  }\n\n  // Process compound, negate, special case properties\n  function computeAnnotationValue(node, property, value, info) {\n    if (info.negate) {\n      value = !value;\n    }\n    if (info.isCompound) {\n      let storage = node.__dataCompoundStorage[property];\n      storage[info.compoundIndex] = value;\n      value = storage.join('');\n    }\n    if (info.kind !== 'attribute') {\n      // TODO(sorvell): preserve scoping during changes to class\n      // if (property === 'className') {\n      //   value = this._scopeElementClass(node, value);\n      // }\n      // Some browsers serialize `undefined` to `\"undefined\"`\n      if (property === 'textContent' ||\n          (node.localName == 'input' && property == 'value')) {\n        value = value == undefined ? '' : value;\n      }\n    }\n    return value;\n  }\n\n  function addAnnotationMethodEffect(inst, note, part, index) {\n    createMethodEffect(inst, part.signature, TYPES.PROPAGATE,\n      runAnnotationMethodEffect, {\n        index: index,\n        isCompound: note.isCompound,\n        compoundIndex: part.compoundIndex,\n        kind: note.kind,\n        name: note.name,\n        negate: part.negate,\n        part: part\n      }, true\n    );\n  }\n\n  function runAnnotationMethodEffect(inst, property, value, old, info) {\n    let val = runMethodEffect(inst, property, value, old, info);\n    applyAnnotationValue(inst, info.methodInfo, val);\n  }\n\n  function processAnnotations(notes) {\n    if (!notes._processed) {\n      for (let i=0; i<notes.length; i++) {\n        let note = notes[i];\n        // Parse bindings for methods & path roots (models)\n        for (let j=0; j<note.bindings.length; j++) {\n          let b = note.bindings[j];\n          for (let k=0; k<b.parts.length; k++) {\n            let p = b.parts[k];\n            if (!p.literal) {\n              p.signature = parseMethod(p.value);\n              if (!p.signature) {\n                p.rootProperty = Polymer.Path.root(p.value);\n              }\n            }\n          }\n        }\n        // Recurse into nested templates & bind parent props\n        if (note.templateContent) {\n          processAnnotations(note.templateContent._notes);\n          let pp = note.templateContent._hostProps =\n            discoverTemplateHostProps(note.templateContent._notes);\n          let bindings = [];\n          for (let prop in pp) {\n            bindings.push({\n              index: note.index,\n              kind: 'property',\n              name: '_host_' + prop,\n              parts: [{\n                mode: '{',\n                rootProperty: prop,\n                value: prop\n              }]\n            });\n          }\n          note.bindings = note.bindings.concat(bindings);\n        }\n      }\n      notes._processed = true;\n    }\n  }\n\n  // Finds all bindings in template content and stores the path roots in\n  // the path members in content._hostProps. Each outer template merges\n  // inner _hostProps to propagate inner parent property needs to outer\n  // templates.\n  function discoverTemplateHostProps(notes) {\n    let pp = {};\n    for (let i=0, n; (i<notes.length) && (n=notes[i]); i++) {\n      // Find all bindings to parent.* and spread them into _parentPropChain\n      for (let j=0, b$=n.bindings, b; (j<b$.length) && (b=b$[j]); j++) {\n        for (let k=0, p$=b.parts, p; (k<p$.length) && (p=p$[k]); k++) {\n          if (p.signature) {\n            let args = p.signature.args;\n            for (let kk=0; kk<args.length; kk++) {\n              let rootProperty = args[kk].rootProperty;\n              if (rootProperty) {\n                pp[rootProperty] = true;\n              }\n            }\n            pp[p.signature.methodName] = true;\n          } else {\n            if (p.rootProperty) {\n              pp[p.rootProperty] = true;\n            }\n          }\n        }\n      }\n      // Merge child _hostProps into this _hostProps\n      if (n.templateContent) {\n        let tpp = n.templateContent._hostProps;\n        Polymer.Base.mixin(pp, tpp);\n      }\n    }\n    return pp;\n  }\n\n  function shouldAddListener(effect) {\n    return effect.name &&\n           effect.kind != 'attribute' &&\n           effect.kind != 'text' &&\n           !effect.isCompound &&\n           effect.parts[0].mode === '{';\n  }\n\n  function addAnnotatedListener(inst, index, property, path, event, negate) {\n    if (!inst._bindListeners) {\n      inst._bindListeners = [];\n    }\n    let eventName = event ||\n      (CaseMap.camelToDashCase(property) + '-changed');\n    inst._bindListeners.push({\n      index: index,\n      property: property,\n      path: path,\n      event: eventName,\n      negate: negate\n    });\n  }\n\n  function setupBindListeners(inst) {\n    let b$ = inst._bindListeners;\n    for (let i=0, l=b$.length, info; (i<l) && (info=b$[i]); i++) {\n      let node = inst._nodes[info.index];\n      addNotifyListener(node, inst, info);\n    }\n  }\n\n  function addNotifyListener(node, inst, info) {\n    let rootProperty = Polymer.Path.root(info.path);\n    node.addEventListener(info.event, function(e) {\n      handleNotification(e, inst, info.property, info.path,\n        rootProperty, info.negate);\n    });\n  }\n\n  function handleNotification(e, inst, property, path, rootProperty, negate) {\n    let value;\n    let targetPath = e.detail && e.detail.path;\n    if (targetPath) {\n      path = Polymer.Path.translate(property, path, e.detail.path);\n      value = e.detail && e.detail.value;\n    } else {\n      value = e.target[property];\n    }\n    value = negate ? !value : value;\n    inst._setPropertyFromNotification(path, value, e);\n  }\n\n  // -- for method-based effects (complexObserver & computed) --------------\n\n  function createMethodEffect(inst, sig, type, effectFn, methodInfo, dynamic) {\n    let info = {\n      methodName: sig.methodName,\n      args: sig.args,\n      methodInfo: methodInfo,\n      dynamicFn: dynamic\n    };\n    // TODO(sorvell): why still here?\n    if (sig.static) {\n      inst._addPropertyEffect('__static__', type, {\n        fn: effectFn, info: info\n      });\n    } else {\n      for (let i=0, arg; (i<sig.args.length) && (arg=sig.args[i]); i++) {\n        if (!arg.literal) {\n          inst._addPropertyEffect(arg.name, type, {\n            fn: effectFn, info: info\n          });\n        }\n      }\n    }\n    if (dynamic) {\n      inst._addPropertyEffect(sig.methodName, type, {\n        fn: effectFn, info: info\n      });\n    }\n  }\n\n  function runMethodEffect(inst, property, value, old, info) {\n    // TODO(kschaaf): ideally rootDataHost would be a detail of Templatizer only\n    let context = inst._rootDataHost || inst;\n    let fn = context[info.methodName];\n    if (fn) {\n      let args = marshalArgs(inst.__data, info, property, value);\n      return fn.apply(context, args);\n    } else if (!info.dynamicFn) {\n      console.warn('method `' + info.methodName + '` not defined');\n    }\n  }\n\n  const emptyArray = [];\n\n  function parseMethod(expression) {\n    // tries to match valid javascript property names\n    let m = expression.match(/([^\\s]+?)\\(([\\s\\S]*)\\)/);\n    if (m) {\n      let sig = { methodName: m[1], static: true };\n      if (m[2].trim()) {\n        // replace escaped commas with comma entity, split on un-escaped commas\n        let args = m[2].replace(/\\\\,/g, '&comma;').split(',');\n        return parseArgs(args, sig);\n      } else {\n        sig.args = emptyArray;\n        return sig;\n      }\n    }\n  }\n\n  function parseArgs(argList, sig) {\n    sig.args = argList.map(function(rawArg) {\n      let arg = parseArg(rawArg);\n      if (!arg.literal) {\n        sig.static = false;\n      }\n      return arg;\n    }, this);\n    return sig;\n  }\n\n  function parseArg(rawArg) {\n    // clean up whitespace\n    let arg = rawArg.trim()\n      // replace comma entity with comma\n      .replace(/&comma;/g, ',')\n      // repair extra escape sequences; note only commas strictly need\n      // escaping, but we allow any other char to be escaped since its\n      // likely users will do this\n      .replace(/\\\\(.)/g, '\\$1')\n      ;\n    // basic argument descriptor\n    let a = {\n      name: arg\n    };\n    // detect literal value (must be String or Number)\n    let fc = arg[0];\n    if (fc === '-') {\n      fc = arg[1];\n    }\n    if (fc >= '0' && fc <= '9') {\n      fc = '#';\n    }\n    switch(fc) {\n      case \"'\":\n      case '\"':\n        a.value = arg.slice(1, -1);\n        a.literal = true;\n        break;\n      case '#':\n        a.value = Number(arg);\n        a.literal = true;\n        break;\n    }\n    // if not literal, look for structured path\n    if (!a.literal) {\n      a.rootProperty = Polymer.Path.root(arg);\n      // detect structured path (has dots)\n      a.structured = Polymer.Path.isDeep(arg);\n      if (a.structured) {\n        a.wildcard = (arg.slice(-2) == '.*');\n        if (a.wildcard) {\n          a.name = arg.slice(0, -2);\n        }\n      }\n    }\n    return a;\n  }\n\n  // path & value are used to fill in wildcard descriptor when effect is\n  // being called as a result of a path notification\n  function marshalArgs(data, info, path, value) {\n    let values = [];\n    let args = info.args;\n    for (let i=0, l=args.length; i<l; i++) {\n      let arg = args[i];\n      let name = arg.name;\n      let v;\n      if (arg.literal) {\n        v = arg.value;\n      } else if (path == name) {\n        v = value;\n      } else {\n        // TODO(kschaaf): confirm design of this\n        v = data[name];\n        if (v === undefined && arg.structured) {\n          v = Polymer.Path.get(data, name);\n        }\n      }\n      if (arg.wildcard) {\n        // Only send the actual path changed info if the change that\n        // caused the observer to run matched the wildcard\n        let baseChanged = (name.indexOf(path + '.') === 0);\n        let matches = (path.indexOf(name) === 0 && !baseChanged);\n        values[i] = {\n          path: matches ? path : name,\n          value: matches ? value : v,\n          base: v\n        };\n      } else {\n        values[i] = v;\n      }\n    }\n    return values;\n  }\n\n  function setupBindings(inst, dom, notes) {\n    if (notes.length) {\n      let nodes = new Array(notes.length);\n      for (let i=0; i < notes.length; i++) {\n        let note = notes[i];\n        let node = nodes[i] = inst._findTemplateAnnotatedNode(dom, note);\n        node.__dataHost = inst;\n        if (note.bindings) {\n          setupCompoundBinding(note, node);\n        }\n      }\n      inst._nodes = nodes;\n    }\n    if (inst._bindListeners) {\n      setupBindListeners(inst);\n    }\n  }\n\n  function setupCompoundBinding(note, node) {\n    let bindings = note.bindings;\n    for (let i=0; i<bindings.length; i++) {\n      let binding = bindings[i];\n      if (binding.isCompound) {\n        // Create compound storage map\n        let storage = node.__dataCompoundStorage ||\n          (node.__dataCompoundStorage = {});\n        let parts = binding.parts;\n        // Copy literals from parts into storage for this binding\n        let literals = new Array(parts.length);\n        for (let j=0; j<parts.length; j++) {\n          literals[j] = parts[j].literal;\n        }\n        let name = binding.name;\n        storage[name] = literals;\n        // Configure properties with their literal parts\n        if (binding.literal && binding.kind == 'property') {\n          // TODO(kschaaf) config integration\n          // if (node._configValue) {\n          //   node._configValue(name, binding.literal);\n          // } else {\n            node[name] = binding.literal;\n          // }\n        }\n      }\n    }\n  }\n\n  // data api\n\n  // Note: this implemetation only accepts normalized paths\n  function notifySplices(inst, array, path, splices) {\n    let change = {\n      indexSplices: splices\n    };\n    let splicesPath = path + '.splices';\n    inst._setProperty(splicesPath, change);\n    inst._setProperty(path + '.length', array.length);\n    // All path notification values are cached on `this.__data__`.\n    // Null here to allow potentially large splice records to be GC'ed.\n    inst.__data[splicesPath] = {indexSplices: null};\n  }\n\n  function notifySplice(inst, array, path, index, added, removed) {\n    notifySplices(inst, array, path, [{\n      index: index,\n      addedCount: added,\n      removed: removed,\n      object: array,\n      type: 'splice'\n    }]);\n  }\n\n  function upper(name) {\n    return name[0].toUpperCase() + name.substring(1);\n  }\n\n  Polymer.PropertyEffects = Polymer.Utils.dedupingMixin(function(superClass) {\n\n    return class PropertyEffects extends Polymer.TemplateStamp(\n      Polymer.Attributes(Polymer.PropertyAccessors(superClass))) {\n\n      get PROPERTY_EFFECT_TYPES() {\n        return TYPES;\n      }\n\n      constructor() {\n        super();\n        this._asyncEffects = false;\n        this.__dataInitialized = false;\n        this.__dataPendingClients = null;\n        this.__dataFromAbove = false;\n        this.__dataLinkedPaths = null;\n        this._nodes = null;\n        // May be set on instance prior to upgrade\n        this.__dataCompoundStorage = this.__dataCompoundStorage || null;\n        this.__dataHost = this.__dataHost || null;\n      }\n\n      _initializeProperties() {\n        super._initializeProperties();\n        // initialize data with prototype values saved when creating accessors\n        if (this.__dataProto) {\n          this.__data = Object.create(this.__dataProto);\n          this.__dataPending = Object.create(this.__dataProto);\n          this.__dataOld = {};\n        } else {\n          this.__dataPending = null;\n        }\n        // update instance properties\n        for (let p in this.__propertyEffects) {\n          if (this.hasOwnProperty(p)) {\n            let value = this[p];\n            delete this[p];\n            this[p] = value;\n          }\n        }\n      }\n\n      _isPropertyPending(prop) {\n        return this.__dataPending && (prop in this.__dataPending);\n      }\n\n      _setPendingProperty(prop, value) {\n        // clear cached paths\n        if (typeof value == 'object') {\n          for (var p in this.__data) {\n            if (Polymer.Path.isDescendant(prop, p)) {\n              this.__data[p] = undefined;\n            }\n          }\n        }\n        return super._setPendingProperty(prop, value);\n      }\n\n      // Prototype setup ----------------------------------------\n\n      _addPropertyEffect(path, type, effect) {\n        let property = Polymer.Path.root(path);\n        // __propertyEffects only used to track whether an accessor has been created or not\n        let effects = ensureOwnMappedArray(this, TYPES.ANY)[property];\n        let val;\n        if (!effects) {\n          effects = this.__propertyEffects[property] = [];\n          val = this._createPropertyAccessor(property,\n            type == TYPES.READ_ONLY);\n        }\n        // effects are accumulated into arrays per property based on type\n        if (effect) {\n          effect.path = path;\n          effects.push(effect);\n        }\n        effects = ensureOwnMappedArray(this, type)[property];\n        if (!effects) {\n          effects = this[type][property] = [];\n        }\n        effects.push(effect);\n        return val;\n      }\n\n      _hasPropertyEffect(property, type) {\n        let effects = this[type || TYPES.ANY];\n        return Boolean(effects && effects[property]);\n      }\n\n      _hasReadOnlyEffect(property) {\n        return this._hasPropertyEffect(property, TYPES.READ_ONLY);\n      }\n\n      _hasNotifyEffect(property) {\n        return this._hasPropertyEffect(property, TYPES.NOTIFY);\n      }\n\n      _hasReflectEffect(property) {\n        return this._hasPropertyEffect(property, TYPES.REFLECT);\n      }\n\n      _hasComputedEffect(property) {\n        return this._hasPropertyEffect(property, TYPES.COMPUTE);\n      }\n\n      // Runtime ----------------------------------------\n\n      // This function isolates relatively expensive functionality necessary\n      // for the public API, such that it is only done when paths enter the\n      // system, and not in every step of the hot path.\n      // If `path` is an unmanaged property (property without an accessor)\n      // or a path, sets the value at that path.  If the root of the path\n      // is a managed property, returns a normalized string path\n      // sutable for setting into the system via setProperty/setPendingProperty\n      // `path` can be a user-facing path string or array of path parts.\n      _setPathOrUnmanagedProperty(path, value) {\n        let rootProperty = Polymer.Path.root(Array.isArray(path) ? path[0] : path);\n        let hasEffect = this._hasPropertyEffect(rootProperty);\n        let isPath = (rootProperty !== path);\n        if (!hasEffect || isPath) {\n          path = Polymer.Path.set(this, path, value);\n        }\n        if (hasEffect) {\n          return path;\n        }\n      }\n\n      _invalidateProperties() {\n        if (this.__dataInitialized) {\n          if (this._asyncEffects) {\n            super._invalidateProperties();\n          } else {\n            this._flushProperties();\n          }\n        }\n      }\n\n      _flushProperties(fromAbove) {\n        if (!this.__dataInitialized) {\n          this.ready();\n        }\n        if (this.__dataPending || this.__dataPendingClients) {\n          this.__dataFromAbove = fromAbove;\n          super._flushProperties();\n          this.__dataFromAbove = false;\n        }\n      }\n\n      ready() {\n        this.__dataInitialized = true;\n      }\n\n      _stampTemplate(template) {\n        let dom = super._stampTemplate(template);\n        let notes = (template._content || template.content)._notes;\n        this._setupBindings(dom, notes);\n        return dom;\n      }\n\n      _propertiesChanged(currentProps, changedProps, oldProps) {\n        for (let p in changedProps) {\n          let effects = this.__propertyEffects[p];\n          runEffects(this, p, changedProps[p], oldProps[p], effects);\n        }\n      }\n\n      /**\n       * Aliases one data path as another, such that path notifications from one\n       * are routed to the other.\n       *\n       * @method linkPaths\n       * @param {string} to Target path to link.\n       * @param {string} from Source path to link.\n       */\n      linkPaths(to, from) {\n        to = Polymer.Path.normalize(to);\n        from = Polymer.Path.normalize(from);\n        this.__dataLinkedPaths = this.__dataLinkedPaths || {};\n        if (from) {\n          this.__dataLinkedPaths[to] = from;\n        } else {\n          this.__dataLinkedPaths(to);\n        }\n      }\n\n      /**\n       * Removes a data path alias previously established with `_linkPaths`.\n       *\n       * Note, the path to unlink should be the target (`to`) used when\n       * linking the paths.\n       *\n       * @method unlinkPaths\n       * @param {string} path Target path to unlink.\n       */\n      unlinkPaths(path) {\n        path = Polymer.Path.normalize(path);\n        if (this.__dataLinkedPaths) {\n          delete this.__dataLinkedPaths[path];\n        }\n      }\n\n      /**\n       * Notify that an array has changed.\n       *\n       * Example:\n       *\n       *     this.items = [ {name: 'Jim'}, {name: 'Todd'}, {name: 'Bill'} ];\n       *     ...\n       *     this.items.splice(1, 1, {name: 'Sam'});\n       *     this.items.push({name: 'Bob'});\n       *     this.notifySplices('items', [\n       *       { index: 1, removed: [{name: 'Todd'}], addedCount: 1, obect: this.items, type: 'splice' },\n       *       { index: 3, removed: [], addedCount: 1, object: this.items, type: 'splice'}\n       *     ]);\n       *\n       * @param {string} path Path that should be notified.\n       * @param {Array} splices Array of splice records indicating ordered\n       *   changes that occurred to the array. Each record should have the\n       *   following fields:\n       *    * index: index at which the change occurred\n       *    * removed: array of items that were removed from this index\n       *    * addedCount: number of new items added at this index\n       *    * object: a reference to the array in question\n       *    * type: the string literal 'splice'\n       *\n       *   Note that splice records _must_ be normalized such that they are\n       *   reported in index order (raw results from `Object.observe` are not\n       *   ordered and must be normalized/merged before notifying).\n      */\n      notifySplices(path, splices) {\n        let info = {};\n        let array = Polymer.Path.get(this, path, info);\n        notifySplices(this, array, info.path, splices);\n      }\n\n      /**\n       * Convienence method for reading a value from a path.\n       *\n       * Note, if any part in the path is undefined, this method returns\n       * `undefined` (this method does not throw when dereferencing undefined\n       * paths).\n       *\n       * @method get\n       * @param {(string|Array<(string|number)>)} path Path to the value\n       *   to read.  The path may be specified as a string (e.g. `foo.bar.baz`)\n       *   or an array of path parts (e.g. `['foo.bar', 'baz']`).  Note that\n       *   bracketed expressions are not supported; string-based path parts\n       *   *must* be separated by dots.  Note that when dereferencing array\n       *   indices, the index may be used as a dotted part directly\n       *   (e.g. `users.12.name` or `['users', 12, 'name']`).\n       * @param {Object=} root Root object from which the path is evaluated.\n       * @return {*} Value at the path, or `undefined` if any part of the path\n       *   is undefined.\n       */\n      get(path, root) {\n        return Polymer.Path.get(root || this, path);\n      }\n\n      /**\n       * Convienence method for setting a value to a path and notifying any\n       * elements bound to the same path.\n       *\n       * Note, if any part in the path except for the last is undefined,\n       * this method does nothing (this method does not throw when\n       * dereferencing undefined paths).\n       *\n       * @method set\n       * @param {(string|Array<(string|number)>)} path Path to the value\n       *   to write.  The path may be specified as a string (e.g. `'foo.bar.baz'`)\n       *   or an array of path parts (e.g. `['foo.bar', 'baz']`).  Note that\n       *   bracketed expressions are not supported; string-based path parts\n       *   *must* be separated by dots.  Note that when dereferencing array\n       *   indices, the index may be used as a dotted part directly\n       *   (e.g. `'users.12.name'` or `['users', 12, 'name']`).\n       * @param {*} value Value to set at the specified path.\n       * @param {Object=} root Root object from which the path is evaluated.\n       *   When specified, no notification will occur.\n      */\n      set(path, value, root) {\n        if (root) {\n          Polymer.Path.set(root, path, value);\n        } else {\n          if (!this._hasReadOnlyEffect(path)) {\n            if ((path = this._setPathOrUnmanagedProperty(path, value))) {\n              this._setProperty(path, value);\n            }\n          }          \n        }\n      }\n\n      _setPropertyFromNotification(path, value) {\n        this.set(path, value);\n      }\n\n      _dispatchNotifyingEvent(event) {\n        this.dispatchEvent(event);\n      }\n\n      _setPropertyToNodeFromAnnotation(node, prop, value) {\n        // TODO(sorvell): how do we know node has this api?\n        if (!node._hasReadOnlyEffect(prop)) {\n          node._setProperty(prop, value);\n        }\n      }\n\n      _setPropertyFromComputation(prop, value) {\n        this[prop] = value;\n      }\n\n      /**\n       * Adds items onto the end of the array at the path specified.\n       *\n       * The arguments after `path` and return value match that of\n       * `Array.prototype.push`.\n       *\n       * This method notifies other paths to the same array that a\n       * splice occurred to the array.\n       *\n       * @method push\n       * @param {String} path Path to array.\n       * @param {...any} var_args Items to push onto array\n       * @return {number} New length of the array.\n       */\n      push(path, ...items) {\n        let info = {};\n        let array = Polymer.Path.get(this, path, info);\n        let len = array.length;\n        let ret = array.push(...items);\n        if (items.length) {\n          notifySplice(this, array, info.path, len, items.length, []);\n        }\n        return ret;\n      }\n\n      /**\n       * Removes an item from the end of array at the path specified.\n       *\n       * The arguments after `path` and return value match that of\n       * `Array.prototype.pop`.\n       *\n       * This method notifies other paths to the same array that a\n       * splice occurred to the array.\n       *\n       * @method pop\n       * @param {String} path Path to array.\n       * @return {any} Item that was removed.\n       */\n      pop(path) {\n        let info = {};\n        let array = Polymer.Path.get(this, path, info);\n        let hadLength = Boolean(array.length);\n        let ret = array.pop();\n        if (hadLength) {\n          notifySplice(this, array, info.path, array.length, 0, [ret]);\n        }\n        return ret;\n      }\n\n      /**\n       * Starting from the start index specified, removes 0 or more items\n       * from the array and inserts 0 or more new itms in their place.\n       *\n       * The arguments after `path` and return value match that of\n       * `Array.prototype.splice`.\n       *\n       * This method notifies other paths to the same array that a\n       * splice occurred to the array.\n       *\n       * @method splice\n       * @param {String} path Path to array.\n       * @param {number} start Index from which to start removing/inserting.\n       * @param {number} deleteCount Number of items to remove.\n       * @param {...any} var_args Items to insert into array.\n       * @return {Array} Array of removed items.\n       */\n      splice(path, start, deleteCount, ...items) {\n        let info = {};\n        let array = Polymer.Path.get(this, path, info);\n        // Normalize fancy native splice handling of crazy start values\n        if (start < 0) {\n          start = array.length - Math.floor(-start);\n        } else {\n          start = Math.floor(start);\n        }\n        if (!start) {\n          start = 0;\n        }\n        let ret = array.splice(start, deleteCount, ...items);\n        if (items.length || ret.length) {\n          notifySplice(this, array, info.path, start, items.length, ret);\n        }\n        return ret;\n      }\n\n      /**\n       * Removes an item from the beginning of array at the path specified.\n       *\n       * The arguments after `path` and return value match that of\n       * `Array.prototype.pop`.\n       *\n       * This method notifies other paths to the same array that a\n       * splice occurred to the array.\n       *\n       * @method shift\n       * @param {String} path Path to array.\n       * @return {any} Item that was removed.\n       */\n      shift(path) {\n        let info = {};\n        let array = Polymer.Path.get(this, path, info);\n        let hadLength = Boolean(array.length);\n        let ret = array.shift();\n        if (hadLength) {\n          notifySplice(this, array, info.path, 0, 0, [ret]);\n        }\n        return ret;\n      }\n\n      /**\n       * Adds items onto the beginning of the array at the path specified.\n       *\n       * The arguments after `path` and return value match that of\n       * `Array.prototype.push`.\n       *\n       * This method notifies other paths to the same array that a\n       * splice occurred to the array.\n       *\n       * @method unshift\n       * @param {String} path Path to array.\n       * @param {...any} var_args Items to insert info array\n       * @return {number} New length of the array.\n       */\n      unshift(path, ...items) {\n        let info = {};\n        let array = Polymer.Path.get(this, path, info);\n        let ret = array.unshift(...items);\n        if (items.length) {\n          notifySplice(this, array, info.path, 0, items.length, []);\n        }\n        return ret;\n      }\n\n      /**\n       * Notify that a path has changed.\n       *\n       * Example:\n       *\n       *     this.item.user.name = 'Bob';\n       *     this.notifyPath('item.user.name');\n       *\n       * @param {string} path Path that should be notified.\n       * @param {*=} value Value at the path (optional).\n      */\n      notifyPath(path, value) {\n        if (arguments.length == 1) {\n          // Get value if not supplied\n          let info = {};\n          value = Polymer.Path.get(this, path, info);\n          path = info.path;\n        } else if (Array.isArray(path)) {\n          // Normalize path if needed\n          path = Polymer.Path.normalize(path);\n        }\n        this._setProperty(path, value);\n      }\n\n      // -- readOnly ----------------------------------------------\n\n      _createReadOnlyProperty(property, privateSetter) {\n        this._addPropertyEffect(property, TYPES.READ_ONLY);\n        if (privateSetter) {\n          this['_set' + upper(property)] = function(value) {\n            this._setProperty(property, value);\n          }\n        }\n      }\n\n      // -- observer ----------------------------------------------\n\n      _createObservedProperty(property, methodName, context) {\n        this._addPropertyEffect(property, TYPES.OBSERVE, {\n          fn: runObserverEffect,\n          info: {\n            methodName: methodName,\n            context: context ? this : null\n          }\n        });\n      }\n\n      // -- notify ----------------------------------------------\n\n      _createNotifyingProperty(property) {\n        this._addPropertyEffect(property, TYPES.NOTIFY, {\n          fn: runNotifyEffect,\n          info: {\n            eventName: CaseMap.camelToDashCase(property) + '-changed',\n            property: property\n          }\n        });\n      }\n\n      // -- reflect ----------------------------------------------\n\n      _createReflectedProperty(property) {\n        let attr = CaseMap.camelToDashCase(property);\n        if (attr[0] === '-') {\n          console.warn('Property ' + property + ' cannot be reflected to attribute ' +\n            attr + ' because \"-\" is not a valid starting attribute name. Use a lowercase first letter for the property thisead.');\n        } else {\n          this._addPropertyEffect(property, TYPES.REFLECT, {\n            fn: runReflectEffect,\n            info: {\n              attrName: attr\n            }\n          });\n        }\n      }\n\n      // -- complexObserver ----------------------------------------------\n\n      _createMethodObserver(expression) {\n        let sig = parseMethod(expression);\n        if (!sig) {\n          throw new Error(\"Malformed observer expression '\" + expression + \"'\");\n        }\n        createMethodEffect(this, sig, TYPES.OBSERVE, runMultiObserverEffect);\n      }\n\n      // -- computed ----------------------------------------------\n\n      _createComputedProperty(property, expression) {\n        let sig = parseMethod(expression);\n        if (!sig) {\n          throw new Error(\"Malformed computed expression '\" + expression + \"'\");\n        }\n        createMethodEffect(this, sig, TYPES.COMPUTE,\n          runComputedEffect, property);\n      }\n\n      // -- annotation ----------------------------------------------\n\n      _bindTemplate(template) {\n        bindTemplate(this, template);\n      }\n\n      _setupBindings(dom, notes) {\n        setupBindings(this, dom, notes);\n      }\n\n    }\n\n  });\n\n})();\n(function() {\n\n  'use strict';\n\n  let utils = Polymer.Utils;\n\n  let effectUid = 0;\n\n  function runComputedEffects(inst, changedProps, oldProps) {\n    const COMPUTE = inst.PROPERTY_EFFECT_TYPES.COMPUTE;\n    if (inst[COMPUTE]) {\n      let inputProps = changedProps;\n      let computedProps;\n      while (runEffects(inst, COMPUTE, inputProps)) {\n        utils.mixin(oldProps, inst.__dataOld);\n        utils.mixin(changedProps, inst.__dataPending);\n        computedProps = utils.mixin(computedProps || {}, inst.__dataPending);\n        inputProps = inst.__dataPending;\n        inst.__dataPending = null;\n      }\n      return computedProps;\n    }\n  }\n\n  function computeLinkedPaths(inst, changedProps, computedProps) {\n    const links = inst.__dataLinkedPaths;\n    if (links) {\n      computedProps = computedProps || {};\n      let link;\n      for (let a in links) {\n        let b = links[a];\n        for (let path in changedProps) {\n          if (Polymer.Path.isDescendant(a, path)) {\n            link = Polymer.Path.translate(a, b, path);\n            changedProps[link] = computedProps[link] =\n              inst.__data[link] = changedProps[path];\n          } else if (Polymer.Path.isDescendant(b, path)) {\n            link = Polymer.Path.translate(b, a, path);\n            changedProps[link] = computedProps[link] =\n              inst.__data[link] = changedProps[path];\n          }\n        }\n      }\n    }\n    return computedProps;\n  }\n\n  function notifyProperties(inst, changedProps, computedProps, oldProps) {\n    // Determine which props to notify\n    let props = inst.__dataFromAbove ? computedProps : changedProps;\n    // Save interim data for potential re-entry\n    let runId = (inst._runId = ((inst._runId || 0) + 1));\n    inst.__dataInterim = inst.__dataInterim ?\n      utils.mixin(inst.__dataInterim, changedProps) : changedProps;\n    inst.__dataInterimOld = inst.__dataInterimOld ?\n      utils.mixin(inst.__dataInterimOld, oldProps) : oldProps;\n    // Notify\n    let notified;\n    let notifyEffects = inst[inst.PROPERTY_EFFECT_TYPES.NOTIFY];\n    let id = effectUid++;\n    // Try normal notify effects; if none, fall back to try path notification\n    for (let prop in props) {\n      if (notifyEffects && runEffectsForProperty(inst, notifyEffects, id,\n        prop, oldProps && oldProps[prop])) {\n        notified = true;\n      } else if (notifyPath(inst, prop)) {\n        notified = true;\n      }\n    }\n    // Flush host if we actually notified and host was batching\n    let host;\n    if (notified && (host = inst.__dataHost) && host.setProperties) {\n      host._flushProperties();\n    }\n    // Combine & return interim data only for last entry\n    if (runId == inst._runId) {\n      changedProps = inst.__dataInterim;\n      oldProps = inst.__dataInterimOld;\n      inst.__dataInterim = null;\n      inst.__dataInterimOld = null;\n      return { changedProps, oldProps };\n    }\n  }\n\n  function notifyPath(inst, prop) {\n    let rootProperty = Polymer.Path.root(prop);\n    if (rootProperty !== prop) {\n      let name = Polymer.CaseMap.camelToDashCase(rootProperty) + '-changed';\n      let options = { detail: {value: inst.__data[prop], path: prop }};\n      inst._dispatchNotifyingEvent(new CustomEvent(name, options));\n      return true;\n    }\n  }\n\n  function runEffects(inst, type, props, oldProps) {\n    let ran;\n    let effects = inst[type];\n    if (effects) {\n      let id = effectUid++;\n      for (let prop in props) {\n        if (runEffectsForProperty(inst, effects, id, prop,\n          oldProps && oldProps[prop])) {\n          ran = true;\n        }\n      }\n    }\n    return ran;\n  }\n\n  function runEffectsForProperty(inst, effects, id, prop, old) {\n    let ran;\n    let rootProperty = Polymer.Path.root(prop);\n    let fxs = effects[rootProperty];\n    if (fxs) {\n      let fromAbove = inst.__dataFromAbove;\n      for (let i=0, l=fxs.length, fx; (i<l) && (fx=fxs[i]); i++) {\n        if (Polymer.Path.matches(fx.path, prop) &&\n          (!fx.info || fx.info.lastRun !== id)) {\n          fx.fn(inst, prop, inst.__data[prop], old, fx.info, fromAbove);\n          if (fx.info) {\n            fx.info.lastRun = id;\n          }\n          ran = true;\n        }\n      }\n    }\n    return ran;\n  }\n\n  Polymer.BatchedEffects = Polymer.Utils.dedupingMixin(function(superClass) {\n\n    return class BatchedEffects extends Polymer.PropertyEffects(superClass) {\n\n      constructor() {\n        super();\n        this.__dataPendingClients = null;\n      }\n\n      // -- set properties machinery\n\n      _propertiesChanged(currentProps, changedProps, oldProps) {\n        // ----------------------------\n        // let c = Object.getOwnPropertyNames(changedProps || {});\n        // console.group(this.localName + '#' + this.id + ': ' + c);\n        // ----------------------------\n        // Compute\n        let computedProps = runComputedEffects(this, changedProps, oldProps);\n        // Compute linked paths\n        computedProps = computeLinkedPaths(this, changedProps, computedProps);\n        // Notify\n        let props = notifyProperties(this, changedProps, computedProps, oldProps);\n        if (props) {\n          oldProps = props.oldProps;\n          changedProps = props.changedProps;\n          // Propagate\n          runEffects(this, this.PROPERTY_EFFECT_TYPES.PROPAGATE, changedProps);\n          // Flush clients\n          this._flushClients();\n          // Reflect\n          runEffects(this, this.PROPERTY_EFFECT_TYPES.REFLECT,\n            changedProps, oldProps);\n          // Observe\n          runEffects(this, this.PROPERTY_EFFECT_TYPES.OBSERVE,\n            changedProps, oldProps);\n        }\n        // ----------------------------\n        // console.groupEnd(this.localName + '#' + this.id + ': ' + c);\n        // ----------------------------\n      }\n\n      _setPropertyToNodeFromAnnotation(node, prop, value) {\n        // TODO(kschaaf): fix id of BatchedEffects client...\n        if (node.setProperties) {\n          if (!node._hasReadOnlyEffect(prop)) {\n            if (node._setPendingProperty(prop, value)) {\n              this._enqueueClient(node);\n            }\n          }\n        } else {\n          super._setPropertyToNodeFromAnnotation(node, prop, value);\n        }\n      }\n\n      _setPropertyFromNotification(path, value, event) {\n        let detail = event.detail;\n        if (detail && detail.queueProperty) {\n          if (!this._hasReadOnlyEffect(path)) {\n            if ((path = this._setPathOrUnmanagedProperty(path, value))) {\n              this._setPendingProperty(path, value);\n            }\n          }\n        } else {\n          super._setPropertyFromNotification(path, value, event);\n        }\n      }\n\n      _dispatchNotifyingEvent(event) {\n        event.detail.queueProperty = true;\n        super._dispatchNotifyingEvent(event);\n      }\n\n      _setPropertyFromComputation(prop, value) {\n        if (this._hasPropertyEffect(prop)) {\n          this._setPendingProperty(prop, value);\n        } else {\n          this[prop] = value;\n        }\n      }\n\n      _enqueueClient(client) {\n        this.__dataPendingClients = this.__dataPendingClients || new Map();\n        if (client !== this) {\n          this.__dataPendingClients.set(client, true);\n        }\n      }\n\n      _flushClients() {\n        // Flush all clients\n        let clients = this.__dataPendingClients;\n        if (clients) {\n          clients.forEach((v, client) => {\n            // TODO(kschaaf): more explicit check?\n            if (client._flushProperties) {\n              client._flushProperties(true);\n            }\n          });\n          this.__dataPendingClients = null;\n        }\n      }\n\n      setProperties(props) {\n        for (let path in props) {\n          if (!this._hasReadOnlyEffect(path)) {\n            let value = props[path];\n            if ((path = this._setPathOrUnmanagedProperty(path, value))) {\n              this._setPendingProperty(path, value);\n            }\n          }\n        }\n        this._invalidateProperties();\n      }\n\n    }\n\n  });\n\n})();\n(function() {\n  'use strict';\n\n  var StyleGather = {\n    MODULE_STYLES_SELECTOR: 'style, link[rel=import][type~=css], template',\n    INCLUDE_ATTR: 'include',\n    _importModule(moduleId) {\n      if (!Polymer.DomModule) {\n        return null;\n      }\n      return Polymer.DomModule.import(moduleId);\n    },\n    cssFromModules(moduleIds, warnIfNotFound) {\n      var modules = moduleIds.trim().split(' ');\n      var cssText = '';\n      for (var i=0; i < modules.length; i++) {\n        cssText += this.cssFromModule(modules[i], warnIfNotFound);\n      }\n      return cssText;\n    },\n\n    // returns cssText of styles in a given module; also un-applies any\n    // styles that apply to the document.\n    cssFromModule(moduleId, warnIfNotFound) {\n      var m = this._importModule(moduleId);\n      if (m && !m._cssText) {\n        m._cssText = this.cssFromElement(m);\n      }\n      if (!m && warnIfNotFound) {\n        console.warn('Could not find style data in module named', moduleId);\n      }\n      return m && m._cssText || '';\n    },\n\n    // support lots of ways to discover css...\n    cssFromElement(element) {\n      var cssText = '';\n      // if element is a template, get content from its .content\n      var content = element.content || element;\n      var e$ = content.querySelectorAll(this.MODULE_STYLES_SELECTOR);\n      for (var i=0, e; i < e$.length; i++) {\n        e = e$[i];\n        // look inside templates for elements\n        if (e.localName === 'template') {\n          cssText += this.cssFromElement(e);\n        } else {\n          // style elements inside dom-modules will apply to the main document\n          // we don't want this, so we remove them here.\n          if (e.localName === 'style') {\n            var include = e.getAttribute(this.INCLUDE_ATTR);\n            // now support module refs on 'styling' elements\n            if (include) {\n              cssText += this.cssFromModules(include, true);\n            }\n            // get style element applied to main doc via HTMLImports polyfill\n            e = e.__appliedElement || e;\n            e.parentNode.removeChild(e);\n            cssText += Polymer.ResolveUrl.resolveCss(e.textContent, element.ownerDocument);\n            // it's an import, assume this is a text file of css content.\n            // TODO(sorvell): plan is to deprecate this way to get styles;\n            // remember to add deprecation warning when this is done.\n          } else if (e.import && e.import.body) {\n            cssText += Polymer.ResolveUrl.resolveCss(e.import.body.textContent, e.import);\n          }\n        }\n      }\n      return cssText;\n    }\n  };\n\n  Polymer.StyleGather = StyleGather;\n})();\n(function() {\n    'use strict';\n\n    var StyleUtil = {\n\n      isTargetedBuild: function(buildType) {\n        return (!window.ShadyDOM || !ShadyDOM.inUse) ?\n          buildType === 'shadow' : buildType === 'shady';\n      },\n\n      cssBuildTypeForModule: function (module) {\n        var dm = Polymer.DomModule.import(module);\n        if (dm) {\n          return this.getCssBuildType(dm);\n        }\n      },\n\n      getCssBuildType: function(element) {\n        return element.getAttribute('css-build');\n      }\n\n    };\n\n    Polymer.StyleUtil = StyleUtil;\n\n  })();\n(function() {\n\n  'use strict';\n\n  let utils = Polymer.Utils;\n  let caseMap = Polymer.CaseMap;\n\n  Polymer.ElementMixin = Polymer.Utils.cachingMixin(function(base) {\n\n    return class PolymerElement extends Polymer.BatchedEffects(base) {\n\n      // returns the config object on specifically on `this` class (not super)\n      // config is used for:\n      // (1) super chain mixes togther to make `flattenedProperties` which is\n      // then used to make observedAttributes and set property defaults\n      // (2) properties effects and observers are created from it at `finalize` time.\n      static get _ownConfig() {\n        if (!this.hasOwnProperty('__ownConfig')) {\n          this.__ownConfig = this.hasOwnProperty('config') ? this.config : {};\n        }\n        return this.__ownConfig;\n      }\n\n      // a flattened list of properties mixed together from the chain of all\n      // constructor's `config.properties`\n      // This list is used to create\n      // (1) observedAttributes,\n      // (2) element default values\n      static get _flattenedProperties() {\n        if (!this.hasOwnProperty('__flattenedProperties')) {\n          this.__flattenedProperties = this._ownConfig.properties || {};\n          let superCtor = Object.getPrototypeOf(this.prototype).constructor;\n          if (superCtor.prototype instanceof PolymerElement) {\n            this.__flattenedProperties = utils.mixin(\n              Object.create(superCtor._flattenedProperties),\n              this.__flattenedProperties);\n          }\n        }\n        return this.__flattenedProperties;\n      }\n\n      static get observedAttributes() {\n        if (!this.hasOwnProperty('_observedAttributes')) {\n          // observedAttributes must be finalized at registration time\n          this._observedAttributes = this._addPropertiesToAttributes(\n            this._flattenedProperties, []);\n        }\n        return this._observedAttributes;\n      }\n\n      static _addPropertiesToAttributes(properties, list) {\n        for (let prop in properties) {\n          list.push(Polymer.CaseMap.camelToDashCase(prop));\n        }\n        return list;\n      }\n\n      static get finalized() {\n        return this.hasOwnProperty('_finalized');\n      }\n\n      static set finalized(value) {\n        this._finalized = value;\n      }\n\n      // TODO(sorvell): need to work on public api surrouding `finalize`.\n      // Due to meta-programming, it's awkward to make a subclass impl of this.\n      // However, a user might want to call `finalize` prior to define to do\n      // this work eagerly. Need to also decide on `finalizeConfig(config)` and\n      // `finalizeTemplate(template)`. Both are public but have simiarly\n      // awkward subclassing characteristics.\n      static finalize() {\n        let proto = this.prototype;\n        if (!this.finalized) {\n\n          let superProto = Object.getPrototypeOf(proto);\n          let superCtor = superProto && superProto.constructor;\n          if (superCtor.prototype instanceof PolymerElement) {\n            superCtor.finalize();\n          }\n          this.finalized = true;\n          if (this.hasOwnProperty('is') && this.is) {\n            Polymer.telemetry.register(proto);\n          }\n          let config = this._ownConfig;\n          if (config) {\n            this._finalizeConfig(config);\n          }\n          if (this.template) {\n            let template = this.template.cloneNode(true);\n            this._finalizeTemplate(template);\n          }\n        }\n      }\n\n      static _finalizeConfig(config) {\n        if (config.properties) {\n          // process properties\n          for (let p in config.properties) {\n            this.prototype._createPropertyFromConfig(p, config.properties[p]);\n          }\n        }\n        if (config.observers) {\n          for (let i=0; i < config.observers.length; i++) {\n            this.prototype._createMethodObserver(config.observers[i]);\n          }\n        }\n      }\n\n      static get template() {\n        if (!this.hasOwnProperty('_template')) {\n          // TODO(sorvell): support more ways to acquire template.\n          // this requires `is` on constructor...\n          this._template = Polymer.DomModule.import(this.is, 'template') ||\n            // note: implemented so a subclass can retrieve the super\n            // template; call the super impl this way so that `this` points\n            // to the superclass.\n            Object.getPrototypeOf(this.prototype).constructor.template;\n        }\n        return this._template;\n      }\n\n      static _finalizeTemplate(template) {\n        // support `include=\"module-name\"`\n        let cssText = Polymer.StyleGather.cssFromElement(template);\n        if (cssText) {\n          let style = document.createElement('style');\n          style.textContent = cssText;\n          template.content.insertBefore(style, template.content.firstChild);\n        }\n        if (window.ShadyCSS) {\n          window.ShadyCSS.prepareTemplate(template, this.is, this.extends);\n        }\n        var proto = this.prototype;\n        // clear any existing propagation effects inherited from superClass.\n        proto._propagateEffects = {};\n        this.prototype._bindTemplate(template);\n        proto._template = template;\n      }\n\n      constructor() {\n        super();\n        // note: `this.constructor.prototype` is wrong in Safari so make sure to\n        // use `__proto__`\n        Polymer.telemetry.instanceCount++;\n        // add self to host's pending client list\n        hostStack.registerHost(this);\n      }\n\n      _initializeProperties() {\n        if (!this.constructor.finalized) {\n          this.constructor.finalize();\n        }\n        super._initializeProperties();\n        // apply property defaults...\n        let p$ = this.constructor._flattenedProperties;\n        for (let p in p$) {\n          let info = p$[p];\n          if (('value' in info) && !this._isPropertyPending(p)) {\n            var value = typeof info.value == 'function' ?\n              info.value.call(this) :\n              info.value;\n            if (this._hasReadOnlyEffect(p)) {\n              this._setProperty(p, value)\n            } else {\n              this[p] = value;\n            }\n          }\n        }\n      }\n\n      // create a property using the metadata in the `config` object\n      _createPropertyFromConfig(name, info) {\n        // computed forces readOnly...\n        if (info.computed) {\n          info.readOnly = true;\n        }\n        // readOnly, computed, reflect, notify only if not already doing so...\n        if (info.readOnly && !this._hasReadOnlyEffect(name)) {\n          this._createReadOnlyProperty(name, !info.computed);\n        }\n        if (info.computed && !this._hasComputedEffect(name)) {\n          this._createComputedProperty(name, info.computed);\n        }\n        if (info.reflectToAttribute && !this._hasReflectEffect(name)) {\n          this._createReflectedProperty(name);\n        }\n        if (info.notify && !this._hasNotifyEffect(name)) {\n          this._createNotifyingProperty(name);\n        }\n        // always add observer\n        if (info.observer) {\n          this._createObservedProperty(name, info.observer);\n        }\n      }\n\n      // reserved for canonical behavior\n      connectedCallback() {\n        if (hostStack.isEmpty()) {\n          this._flushProperties();\n          this.updateStyles();\n        }\n      }\n\n      disconnectedCallback() {}\n\n      ready() {\n        super.ready();\n        if (this._template) {\n          hostStack.beginHosting(this);\n          this.root = this._stampTemplate(this._template);\n          this._flushProperties();\n          this.root = this._attachDom(this.root);\n          hostStack.endHosting(this);\n        } else {\n          this.root = this;\n          this._flushProperties();\n        }\n      }\n\n      /**\n       * Attach an element's stamped dom to itself. By default,\n       * this method creates a `shadowRoot` and adds the dom to it.\n       * However, this method may be overridden to allow an element\n       * to put its dom in another location.\n       *\n       * @method _attachDom\n       * @param {NodeList} dom to attach to the element.\n       * @returns {Node} node to which the dom has been attached.\n       */\n      _attachDom(dom) {\n        if (this.attachShadow) {\n          if (dom) {\n            if (!this.shadowRoot) {\n              this.attachShadow({mode: 'open'});\n            }\n            this.shadowRoot.appendChild(dom);\n            return this.shadowRoot;\n          }\n        } else {\n          throw new Error(`ShadowDOM not available. ` +\n            // BREAKME(sorvell): move to developer conditional when supported.\n           `Polymer.Element can\n              create dom as children instead of in ShadowDOM by setting\n              \\`this.root = this;\\` before \\`ready\\`.`);\n        }\n      }\n\n      attributeChangedCallback(name, old, value) {\n        let property = caseMap.dashToCamelCase(name);\n        let type = this.constructor._flattenedProperties[property].type;\n        if (!this._hasReadOnlyEffect(property)) {\n          this._attributeToProperty(name, value, type);\n        }\n      }\n\n      updateStyles(properties) {\n        if (window.ShadyCSS) {\n          ShadyCSS.applyStyle(this, properties);\n        }\n      }\n\n    }\n\n  });\n\n  let hostStack = {\n\n    stack: [],\n\n    isEmpty() {\n      return !this.stack.length;\n    },\n\n    registerHost(inst) {\n      if (this.stack.length) {\n        let host = this.stack[this.stack.length-1];\n        host._enqueueClient(inst);\n      }\n    },\n\n    beginHosting(inst) {\n      this.stack.push(inst);\n    },\n\n    endHosting(inst) {\n      let stackLen = this.stack.length;\n      if (stackLen && this.stack[stackLen-1] == inst) {\n        this.stack.pop();\n      }\n    }\n\n  }\n\n  // telemetry\n  Polymer.telemetry = {\n    instanceCount: 0,\n    registrations: [],\n    _regLog: function(prototype) {\n      console.log('[' + prototype.is + ']: registered')\n    },\n    register: function(prototype) {\n      this.registrations.push(prototype);\n      Polymer.log && this._regLog(prototype);\n    },\n    dumpRegistrations: function() {\n      this.registrations.forEach(this._regLog);\n    }\n  };\n\n  Polymer.Element = Polymer.ElementMixin(HTMLElement);\n\n  Polymer.updateStyles = function(props) {\n    if (window.ShadyCSS) {\n      ShadyCSS.updateStyles(props);\n    }\n  };\n\n})();\n(function() {\n\n    // TODO(sorvell): There is an implicit depency on `Polymer.Class` here\n    // that would be good to resolve. It's because (elements/class.html)\n    // because this file specially handles `Polymer`.\n\n    // Polymer is a Function, but of course this is also an Object, so we\n    // hang various other objects off of Polymer.*\n\n    var userPolymer = window.Polymer;\n\n    window.Polymer = function(info) {\n      // if input is a `class` (aka a function with a prototype), use the prototype\n      // remember that the `constructor` will never be called\n      var klass;\n      if (typeof info === 'function') {\n        klass = info;\n      } else {\n        klass = Polymer.Class(info);\n      }\n      var options = {};\n      if (klass.extends) {\n        options.extends = klass.extends;\n      }\n      customElements.define(klass.is, klass, options);\n      return klass;\n    };\n\n    if (userPolymer) {\n      for (var i in userPolymer) {\n        Polymer[i] = userPolymer[i];\n      }\n    }\n\n  })();\n(function() {\n\n  'use strict';\n\n  Polymer.Async = {\n\n    _currVal: 0,\n    _lastVal: 0,\n    _callbacks: [],\n    _twiddleContent: 0,\n    _twiddle: document.createTextNode(''),\n\n    run: function (callback, waitTime) {\n      if (waitTime > 0) {\n        return ~setTimeout(callback, waitTime);\n      } else {\n        this._twiddle.textContent = this._twiddleContent++;\n        this._callbacks.push(callback);\n        return this._currVal++;\n      }\n    },\n\n    cancel: function(handle) {\n      if (handle < 0) {\n        clearTimeout(~handle);\n      } else {\n        var idx = handle - this._lastVal;\n        if (idx >= 0) {\n          if (!this._callbacks[idx]) {\n            throw 'invalid async handle: ' + handle;\n          }\n          this._callbacks[idx] = null;\n        }\n      }\n    },\n\n    _atEndOfMicrotask: function() {\n      var len = this._callbacks.length;\n      for (var i=0; i<len; i++) {\n        var cb = this._callbacks[i];\n        if (cb) {\n          try {\n            cb();\n          } catch(e) {\n            // Clear queue up to this point & start over after throwing\n            i++;\n            this._callbacks.splice(0, i);\n            this._lastVal += i;\n            this._twiddle.textContent = this._twiddleContent++;\n            throw e;\n          }\n        }\n      }\n      this._callbacks.splice(0, len);\n      this._lastVal += len;\n    },\n\n    flush: function() {\n      this.observer.takeRecords();\n      this._atEndOfMicrotask();\n    }\n  };\n\n  Polymer.Async.observer = new window.MutationObserver(function() {\n    Polymer.Async._atEndOfMicrotask();\n  });\n  Polymer.Async.observer.observe(Polymer.Async._twiddle, {characterData: true});\n\n})();\nPolymer.Debouncer = function Debouncer(context) {\n  this.context = context;\n  var self = this;\n  this.boundFlush = function() {\n    self.flush();\n  };\n};\n\nPolymer.Utils.mixin(Polymer.Debouncer.prototype, {\n\n  go: function(callback, wait) {\n    var h;\n    this.finish = function() {\n      Polymer.Async.cancel(h);\n    };\n    h = Polymer.Async.run(this.boundFlush, wait);\n    this.callback = callback;\n  },\n\n  cancel: function() {\n    if (this.finish) {\n      this.finish();\n      this.finish = null;\n    }\n  },\n\n  flush: function() {\n    if (this.finish) {\n      this.cancel();\n      this.callback.call(this.context);\n    }\n  },\n\n  isActive: function() {\n    return Boolean(this.finish);\n  }\n\n});\n\nPolymer.Debouncer.debounce = function(debouncer, callback, wait, context) {\n  context = context || this;\n  if (debouncer) {\n    debouncer.cancel();\n  } else {\n    debouncer = new Polymer.Debouncer(context);\n  }\n  debouncer.go(callback, wait);\n  return debouncer;\n};\n(function() {\n\n  'use strict';\n\n  // let DIRECTION_MAP = {\n  //   x: 'pan-x',\n  //   y: 'pan-y',\n  //   none: 'none',\n  //   all: 'auto'\n  // };\n\n  let wrap = function(n) { return n; };\n\n  // detect native touch action support\n  let HAS_NATIVE_TA = typeof document.head.style.touchAction === 'string';\n  let GESTURE_KEY = '__polymerGestures';\n  let HANDLED_OBJ = '__polymerGesturesHandled';\n  let TOUCH_ACTION = '__polymerGesturesTouchAction';\n  // radius for tap and track\n  let TAP_DISTANCE = 25;\n  let TRACK_DISTANCE = 5;\n  // number of last N track positions to keep\n  let TRACK_LENGTH = 2;\n\n  // Disabling \"mouse\" handlers for 2500ms is enough\n  let MOUSE_TIMEOUT = 2500;\n  let MOUSE_EVENTS = ['mousedown', 'mousemove', 'mouseup', 'click'];\n  // an array of bitmask values for mapping MouseEvent.which to MouseEvent.buttons\n  let MOUSE_WHICH_TO_BUTTONS = [0, 1, 4, 2];\n  let MOUSE_HAS_BUTTONS = (function() {\n    try {\n      return new MouseEvent('test', {buttons: 1}).buttons === 1;\n    } catch (e) {\n      return false;\n    }\n  })();\n\n  // Check for touch-only devices\n  let IS_TOUCH_ONLY = navigator.userAgent.match(/iP(?:[oa]d|hone)|Android/);\n\n  // touch will make synthetic mouse events\n  // `preventDefault` on touchend will cancel them,\n  // but this breaks `<input>` focus and link clicks\n  // disable mouse handlers for MOUSE_TIMEOUT ms after\n  // a touchend to ignore synthetic mouse events\n  let mouseCanceller = function(mouseEvent) {\n    // skip synthetic mouse events\n    mouseEvent[HANDLED_OBJ] = {skip: true};\n    // disable \"ghost clicks\"\n    if (mouseEvent.type === 'click') {\n      let path = mouseEvent.composedPath && mouseEvent.composedPath();\n      if (path) {\n        for (let i = 0; i < path.length; i++) {\n          if (path[i] === POINTERSTATE.mouse.target) {\n            return;\n          }\n        }\n      }\n      mouseEvent.preventDefault();\n      mouseEvent.stopPropagation();\n    }\n  };\n\n  function setupTeardownMouseCanceller(setup) {\n    for (let i = 0, en; i < MOUSE_EVENTS.length; i++) {\n      en = MOUSE_EVENTS[i];\n      if (setup) {\n        document.addEventListener(en, mouseCanceller, true);\n      } else {\n        document.removeEventListener(en, mouseCanceller, true);\n      }\n    }\n  }\n\n  function ignoreMouse() {\n    if (IS_TOUCH_ONLY) {\n      return;\n    }\n    if (!POINTERSTATE.mouse.mouseIgnoreJob) {\n      setupTeardownMouseCanceller(true);\n    }\n    let unset = function() {\n      setupTeardownMouseCanceller();\n      POINTERSTATE.mouse.target = null;\n      POINTERSTATE.mouse.mouseIgnoreJob = null;\n    };\n    POINTERSTATE.mouse.mouseIgnoreJob = Polymer.Debouncer.debounce(\n      POINTERSTATE.mouse.mouseIgnoreJob, unset, MOUSE_TIMEOUT);\n  }\n\n  function hasLeftMouseButton(ev) {\n    let type = ev.type;\n    // exit early if the event is not a mouse event\n    if (MOUSE_EVENTS.indexOf(type) === -1) {\n      return false;\n    }\n    // ev.button is not reliable for mousemove (0 is overloaded as both left button and no buttons)\n    // instead we use ev.buttons (bitmask of buttons) or fall back to ev.which (deprecated, 0 for no buttons, 1 for left button)\n    if (type === 'mousemove') {\n      // allow undefined for testing events\n      let buttons = ev.buttons === undefined ? 1 : ev.buttons;\n      if ((ev instanceof window.MouseEvent) && !MOUSE_HAS_BUTTONS) {\n        buttons = MOUSE_WHICH_TO_BUTTONS[ev.which] || 0;\n      }\n      // buttons is a bitmask, check that the left button bit is set (1)\n      return Boolean(buttons & 1);\n    } else {\n      // allow undefined for testing events\n      let button = ev.button === undefined ? 0 : ev.button;\n      // ev.button is 0 in mousedown/mouseup/click for left button activation\n      return button === 0;\n    }\n  }\n\n  function isSyntheticClick(ev) {\n    if (ev.type === 'click') {\n      // ev.detail is 0 for HTMLElement.click in most browsers\n      if (ev.detail === 0) {\n        return true;\n      }\n      // in the worst case, check that the x/y position of the click is within\n      // the bounding box of the target of the event\n      // Thanks IE 10 >:(\n      let t = gestures.findOriginalTarget(ev);\n      let bcr = t.getBoundingClientRect();\n      // use page x/y to account for scrolling\n      let x = ev.pageX, y = ev.pageY;\n      // ev is a synthetic click if the position is outside the bounding box of the target\n      return !((x >= bcr.left && x <= bcr.right) && (y >= bcr.top && y <= bcr.bottom));\n    }\n    return false;\n  }\n\n  let POINTERSTATE = {\n    mouse: {\n      target: null,\n      mouseIgnoreJob: null\n    },\n    touch: {\n      x: 0,\n      y: 0,\n      id: -1,\n      scrollDecided: false\n    }\n  };\n\n  function firstTouchAction(ev) {\n    let ta = 'auto';\n    let path = ev.composedPath && ev.composedPath();\n    if (path) {\n      for (let i = 0, n; i < path.length; i++) {\n        n = path[i];\n        if (n[TOUCH_ACTION]) {\n          ta = n[TOUCH_ACTION];\n          break;\n        }\n      }\n    }\n    return ta;\n  }\n\n  function trackDocument(stateObj, movefn, upfn) {\n    stateObj.movefn = movefn;\n    stateObj.upfn = upfn;\n    document.addEventListener('mousemove', movefn);\n    document.addEventListener('mouseup', upfn);\n  }\n\n  function untrackDocument(stateObj) {\n    document.removeEventListener('mousemove', stateObj.movefn);\n    document.removeEventListener('mouseup', stateObj.upfn);\n    stateObj.movefn = null;\n    stateObj.upfn = null;\n  }\n\n  let gestures = {\n    gestures: {},\n    recognizers: [],\n\n    deepTargetFind: function(x, y) {\n      let node = document.elementFromPoint(x, y);\n      let next = node;\n      // this code path is only taken when native ShadowDOM is used\n      // if there is a shadowroot, it may have a node at x/y\n      // if there is not a shadowroot, exit the loop\n      while (next && next.shadowRoot) {\n        // if there is a node at x/y in the shadowroot, look deeper\n        next = next.shadowRoot.elementFromPoint(x, y);\n        if (next) {\n          node = next;\n        }\n      }\n      return node;\n    },\n    // a cheaper check than ev.composedPath()[0];\n    findOriginalTarget: function(ev) {\n      // shadowdom\n      if (ev.composedPath) {\n        return ev.composedPath()[0];\n      }\n      // shadydom\n      return ev.target;\n    },\n    handleNative: function(ev) {\n      let handled;\n      let type = ev.type;\n      let node = wrap(ev.currentTarget);\n      let gobj = node[GESTURE_KEY];\n      if (!gobj) {\n        return;\n      }\n      let gs = gobj[type];\n      if (!gs) {\n        return;\n      }\n      if (!ev[HANDLED_OBJ]) {\n        ev[HANDLED_OBJ] = {};\n        if (type.slice(0, 5) === 'touch') {\n          let t = ev.changedTouches[0];\n          if (type === 'touchstart') {\n            // only handle the first finger\n            if (ev.touches.length === 1) {\n              POINTERSTATE.touch.id = t.identifier;\n            }\n          }\n          if (POINTERSTATE.touch.id !== t.identifier) {\n            return;\n          }\n          if (!HAS_NATIVE_TA) {\n            if (type === 'touchstart' || type === 'touchmove') {\n              gestures.handleTouchAction(ev);\n            }\n          }\n          if (type === 'touchend') {\n            let rootTarget = ev.composedPath ? ev.composedPath()[0] : ev.target;\n            POINTERSTATE.mouse.target = rootTarget;\n            // ignore syntethic mouse events after a touch\n            ignoreMouse(true);\n          }\n        }\n      }\n      handled = ev[HANDLED_OBJ];\n      // used to ignore synthetic mouse events\n      if (handled.skip) {\n        return;\n      }\n      let recognizers = gestures.recognizers;\n      // reset recognizer state\n      for (let i = 0, r; i < recognizers.length; i++) {\n        r = recognizers[i];\n        if (gs[r.name] && !handled[r.name]) {\n          if (r.flow && r.flow.start.indexOf(ev.type) > -1) {\n            if (r.reset) {\n              r.reset();\n            }\n          }\n        }\n      }\n      // enforce gesture recognizer order\n      for (let i = 0, r; i < recognizers.length; i++) {\n        r = recognizers[i];\n        if (gs[r.name] && !handled[r.name]) {\n          handled[r.name] = true;\n          r[type](ev);\n        }\n      }\n    },\n\n    handleTouchAction: function(ev) {\n      let t = ev.changedTouches[0];\n      let type = ev.type;\n      if (type === 'touchstart') {\n        POINTERSTATE.touch.x = t.clientX;\n        POINTERSTATE.touch.y = t.clientY;\n        POINTERSTATE.touch.scrollDecided = false;\n      } else if (type === 'touchmove') {\n        if (POINTERSTATE.touch.scrollDecided) {\n          return;\n        }\n        POINTERSTATE.touch.scrollDecided = true;\n        let ta = firstTouchAction(ev);\n        let prevent = false;\n        let dx = Math.abs(POINTERSTATE.touch.x - t.clientX);\n        let dy = Math.abs(POINTERSTATE.touch.y - t.clientY);\n        if (!ev.cancelable) {\n          // scrolling is happening\n        } else if (ta === 'none') {\n          prevent = true;\n        } else if (ta === 'pan-x') {\n          prevent = dy > dx;\n        } else if (ta === 'pan-y') {\n          prevent = dx > dy;\n        }\n        if (prevent) {\n          ev.preventDefault();\n        } else {\n          gestures.prevent('track');\n        }\n      }\n    },\n\n    addListener: function(node, evType, handler) {\n      if (this.gestures[evType]) {\n        this.add(node, evType, handler);\n        return true;\n      }\n    },\n\n    removeListener: function(node, evType, handler) {\n      if (this.gestures[evType]) {\n        this.remove(node, evType, handler);\n        return true;\n      }\n    },\n\n    // automate the event listeners for the native events\n    add: function(node, evType, handler) {\n      // SD polyfill: handle case where `node` is unwrapped, like `document`\n      node = wrap(node);\n      let recognizer = this.gestures[evType];\n      let deps = recognizer.deps;\n      let name = recognizer.name;\n      let gobj = node[GESTURE_KEY];\n      if (!gobj) {\n        node[GESTURE_KEY] = gobj = {};\n      }\n      for (let i = 0, dep, gd; i < deps.length; i++) {\n        dep = deps[i];\n        // don't add mouse handlers on iOS because they cause gray selection overlays\n        if (IS_TOUCH_ONLY && MOUSE_EVENTS.indexOf(dep) > -1) {\n          continue;\n        }\n        gd = gobj[dep];\n        if (!gd) {\n          gobj[dep] = gd = {_count: 0};\n        }\n        if (gd._count === 0) {\n          node.addEventListener(dep, this.handleNative);\n        }\n        gd[name] = (gd[name] || 0) + 1;\n        gd._count = (gd._count || 0) + 1;\n      }\n      node.addEventListener(evType, handler);\n      if (recognizer.touchAction) {\n        this.setTouchAction(node, recognizer.touchAction);\n      }\n    },\n\n    // automate event listener removal for native events\n    remove: function(node, evType, handler) {\n      // SD polyfill: handle case where `node` is unwrapped, like `document`\n      node = wrap(node);\n      let recognizer = this.gestures[evType];\n      let deps = recognizer.deps;\n      let name = recognizer.name;\n      let gobj = node[GESTURE_KEY];\n      if (gobj) {\n        for (let i = 0, dep, gd; i < deps.length; i++) {\n          dep = deps[i];\n          gd = gobj[dep];\n          if (gd && gd[name]) {\n            gd[name] = (gd[name] || 1) - 1;\n            gd._count = (gd._count || 1) - 1;\n            if (gd._count === 0) {\n              node.removeEventListener(dep, this.handleNative);\n            }\n          }\n        }\n      }\n      node.removeEventListener(evType, handler);\n    },\n\n    register: function(recog) {\n      this.recognizers.push(recog);\n      for (let i = 0; i < recog.emits.length; i++) {\n        this.gestures[recog.emits[i]] = recog;\n      }\n    },\n\n    findRecognizerByEvent: function(evName) {\n      for (let i = 0, r; i < this.recognizers.length; i++) {\n        r = this.recognizers[i];\n        for (let j = 0, n; j < r.emits.length; j++) {\n          n = r.emits[j];\n          if (n === evName) {\n            return r;\n          }\n        }\n      }\n      return null;\n    },\n\n    // set scrolling direction on node to check later on first move\n    // must call this before adding event listeners!\n    setTouchAction: function(node, value) {\n      if (HAS_NATIVE_TA) {\n        node.style.touchAction = value;\n      }\n      node[TOUCH_ACTION] = value;\n    },\n\n    fire: function(target, type, detail) {\n      let ev = new Event(type, { bubbles: true, cancelable: true, composed: true });\n      ev.detail = detail;\n      target.dispatchEvent(ev);\n      // forward `preventDefault` in a clean way\n      if (ev.defaultPrevented) {\n        let se = detail.sourceEvent;\n        // sourceEvent may be a touch, which is not preventable this way\n        if (se && se.preventDefault) {\n          se.preventDefault();\n        }\n      }\n    },\n\n    prevent: function(evName) {\n      let recognizer = this.findRecognizerByEvent(evName);\n      if (recognizer.info) {\n        recognizer.info.prevent = true;\n      }\n    }\n  };\n\n  gestures.register({\n    name: 'downup',\n    deps: ['mousedown', 'touchstart', 'touchend'],\n    flow: {\n      start: ['mousedown', 'touchstart'],\n      end: ['mouseup', 'touchend']\n    },\n    emits: ['down', 'up'],\n\n    info: {\n      movefn: null,\n      upfn: null\n    },\n\n    reset: function() {\n      untrackDocument(this.info);\n    },\n\n    mousedown: function(e) {\n      if (!hasLeftMouseButton(e)) {\n        return;\n      }\n      let t = gestures.findOriginalTarget(e);\n      let self = this;\n      let movefn = function movefn(e) {\n        if (!hasLeftMouseButton(e)) {\n          self.fire('up', t, e);\n          untrackDocument(self.info);\n        }\n      };\n      let upfn = function upfn(e) {\n        if (hasLeftMouseButton(e)) {\n          self.fire('up', t, e);\n        }\n        untrackDocument(self.info);\n      };\n      trackDocument(this.info, movefn, upfn);\n      this.fire('down', t, e);\n    },\n    touchstart: function(e) {\n      this.fire('down', gestures.findOriginalTarget(e), e.changedTouches[0]);\n    },\n    touchend: function(e) {\n      this.fire('up', gestures.findOriginalTarget(e), e.changedTouches[0]);\n    },\n    fire: function(type, target, event) {\n      gestures.fire(target, type, {\n        x: event.clientX,\n        y: event.clientY,\n        sourceEvent: event,\n        prevent: function(e) {\n          return gestures.prevent(e);\n        }\n      });\n    }\n  });\n\n  gestures.register({\n    name: 'track',\n    touchAction: 'none',\n    deps: ['mousedown', 'touchstart', 'touchmove', 'touchend'],\n    flow: {\n      start: ['mousedown', 'touchstart'],\n      end: ['mouseup', 'touchend']\n    },\n    emits: ['track'],\n\n    info: {\n      x: 0,\n      y: 0,\n      state: 'start',\n      started: false,\n      moves: [],\n      addMove: function(move) {\n        if (this.moves.length > TRACK_LENGTH) {\n          this.moves.shift();\n        }\n        this.moves.push(move);\n      },\n      movefn: null,\n      upfn: null,\n      prevent: false\n    },\n\n    reset: function() {\n      this.info.state = 'start';\n      this.info.started = false;\n      this.info.moves = [];\n      this.info.x = 0;\n      this.info.y = 0;\n      this.info.prevent = false;\n      untrackDocument(this.info);\n    },\n\n    hasMovedEnough: function(x, y) {\n      if (this.info.prevent) {\n        return false;\n      }\n      if (this.info.started) {\n        return true;\n      }\n      let dx = Math.abs(this.info.x - x);\n      let dy = Math.abs(this.info.y - y);\n      return (dx >= TRACK_DISTANCE || dy >= TRACK_DISTANCE);\n    },\n\n    mousedown: function(e) {\n      if (!hasLeftMouseButton(e)) {\n        return;\n      }\n      let t = gestures.findOriginalTarget(e);\n      let self = this;\n      let movefn = function movefn(e) {\n        let x = e.clientX, y = e.clientY;\n        if (self.hasMovedEnough(x, y)) {\n          // first move is 'start', subsequent moves are 'move', mouseup is 'end'\n          self.info.state = self.info.started ? (e.type === 'mouseup' ? 'end' : 'track') : 'start';\n          self.info.addMove({x: x, y: y});\n          if (!hasLeftMouseButton(e)) {\n            // always fire \"end\"\n            self.info.state = 'end';\n            untrackDocument(self.info);\n          }\n          self.fire(t, e);\n          self.info.started = true;\n        }\n      };\n      let upfn = function upfn(e) {\n        if (self.info.started) {\n          gestures.prevent('tap');\n          movefn(e);\n        }\n\n        // remove the temporary listeners\n        untrackDocument(self.info);\n      };\n      // add temporary document listeners as mouse retargets\n      trackDocument(this.info, movefn, upfn);\n      this.info.x = e.clientX;\n      this.info.y = e.clientY;\n    },\n\n    touchstart: function(e) {\n      let ct = e.changedTouches[0];\n      this.info.x = ct.clientX;\n      this.info.y = ct.clientY;\n    },\n\n    touchmove: function(e) {\n      let t = gestures.findOriginalTarget(e);\n      let ct = e.changedTouches[0];\n      let x = ct.clientX, y = ct.clientY;\n      if (this.hasMovedEnough(x, y)) {\n        this.info.addMove({x: x, y: y});\n        this.fire(t, ct);\n        this.info.state = 'track';\n        this.info.started = true;\n      }\n    },\n\n    touchend: function(e) {\n      let t = gestures.findOriginalTarget(e);\n      let ct = e.changedTouches[0];\n      // only trackend if track was started and not aborted\n      if (this.info.started) {\n        // iff tracking, always prevent tap\n        gestures.prevent('tap');\n        // reset started state on up\n        this.info.state = 'end';\n        this.info.addMove({x: ct.clientX, y: ct.clientY});\n        this.fire(t, ct);\n      }\n    },\n\n    fire: function(target, touch) {\n      let secondlast = this.info.moves[this.info.moves.length - 2];\n      let lastmove = this.info.moves[this.info.moves.length - 1];\n      let dx = lastmove.x - this.info.x;\n      let dy = lastmove.y - this.info.y;\n      let ddx, ddy = 0;\n      if (secondlast) {\n        ddx = lastmove.x - secondlast.x;\n        ddy = lastmove.y - secondlast.y;\n      }\n      return gestures.fire(target, 'track', {\n        state: this.info.state,\n        x: touch.clientX,\n        y: touch.clientY,\n        dx: dx,\n        dy: dy,\n        ddx: ddx,\n        ddy: ddy,\n        sourceEvent: touch,\n        hover: function() {\n          return gestures.deepTargetFind(touch.clientX, touch.clientY);\n        }\n      });\n    }\n\n  });\n\n  gestures.register({\n    name: 'tap',\n    deps: ['mousedown', 'click', 'touchstart', 'touchend'],\n    flow: {\n      start: ['mousedown', 'touchstart'],\n      end: ['click', 'touchend']\n    },\n    emits: ['tap'],\n    info: {\n      x: NaN,\n      y: NaN,\n      prevent: false\n    },\n    reset: function() {\n      this.info.x = NaN;\n      this.info.y = NaN;\n      this.info.prevent = false;\n    },\n    save: function(e) {\n      this.info.x = e.clientX;\n      this.info.y = e.clientY;\n    },\n\n    mousedown: function(e) {\n      if (hasLeftMouseButton(e)) {\n        this.save(e);\n      }\n    },\n    click: function(e) {\n      if (hasLeftMouseButton(e)) {\n        this.forward(e);\n      }\n    },\n\n    touchstart: function(e) {\n      this.save(e.changedTouches[0]);\n    },\n    touchend: function(e) {\n      this.forward(e.changedTouches[0]);\n    },\n\n    forward: function(e) {\n      let dx = Math.abs(e.clientX - this.info.x);\n      let dy = Math.abs(e.clientY - this.info.y);\n      let t = gestures.findOriginalTarget(e);\n      // dx,dy can be NaN if `click` has been simulated and there was no `down` for `start`\n      if (isNaN(dx) || isNaN(dy) || (dx <= TAP_DISTANCE && dy <= TAP_DISTANCE) || isSyntheticClick(e)) {\n        // prevent taps from being generated if an event has canceled them\n        if (!this.info.prevent) {\n          gestures.fire(t, 'tap', {\n            x: e.clientX,\n            y: e.clientY,\n            sourceEvent: e\n          });\n        }\n      }\n    }\n  });\n\n  // expose for bc with Polymer 1.0 (e.g. add `tap` listener to document)\n  Polymer.Gestures = gestures;\n\n  Polymer.GestureEventListeners = Polymer.Utils.dedupingMixin(function(superClass) {\n\n    return class GestureEventListeners extends Polymer.EventListeners(superClass) {\n\n      _addEventListenerToNode(node, eventName, handler) {\n        if (!gestures.addListener(node, eventName, handler)) {\n          super._addEventListenerToNode(node, eventName, handler);\n        }\n      }\n\n      _removeEventListenerToNode(node, eventName, handler) {\n        if (!gestures.removeListener(node, eventName, handler)) {\n          super._addEventListenerToNode(node, eventName, handler);\n        }\n      }\n\n    }\n\n  });\n\n})();\n(function() {\n\n  'use strict';\n\n  Polymer.AsyncRender = {\n\n    _scheduled: false,\n\n    _beforeRenderQueue: [],\n\n    _afterRenderQueue: [],\n\n    beforeRender: function(cb) {\n      if (!this._scheduled) {\n        this._schedule();\n      }\n      this._beforeRenderQueue.push(cb);\n    },\n\n    afterRender: function(cb) {\n      if (!this._scheduled) {\n        this._schedule();\n      }\n      this._afterRenderQueue.push(cb);\n    },\n\n    _schedule: function() {\n      this._scheduled = true;\n      var self = this;\n      // before next render\n      requestAnimationFrame(function() {\n        self._scheduled = false;\n        self._flushQueue(self._beforeRenderQueue);\n        // after the render\n        setTimeout(function() {\n          self._flushQueue(self._afterRenderQueue);\n        });\n      });\n    },\n\n    flush: function() {\n      this.flushBeforeRender();\n      this.flushAfterRender();\n    },\n\n    flushBeforeRender: function() {\n      this._flushQueue(this._beforeRenderQueue);\n    },\n\n    flushAfterRender: function() {\n      this._flushQueue(this._afterRenderQueue);\n    },\n\n    _flushQueue: function(queue) {\n      for (var i=0; i<queue.length; i++) {\n        // TODO(sorvell): include exception handling from Async.\n        try {\n          queue[i]();\n        } catch(e) {\n          console.warn(e);\n        }\n      }\n      queue.splice(0, queue.length);\n    }\n\n  };\n\n  // bc\n  Polymer.RenderStatus = {\n    afterNextRender: function(context, fn, args) {\n      Polymer.AsyncRender.afterRender(function() {\n        fn.apply(context, args);\n      });\n    }\n  }\n\n})();\n(function() {\n\n  'use strict';\n\n  function newSplice(index, removed, addedCount) {\n    return {\n      index: index,\n      removed: removed,\n      addedCount: addedCount\n    };\n  }\n\n  const EDIT_LEAVE = 0;\n  const EDIT_UPDATE = 1;\n  const EDIT_ADD = 2;\n  const EDIT_DELETE = 3;\n\n  let ArraySplice = {\n\n    // Note: This function is *based* on the computation of the Levenshtein\n    // \"edit\" distance. The one change is that \"updates\" are treated as two\n    // edits - not one. With Array splices, an update is really a delete\n    // followed by an add. By retaining this, we optimize for \"keeping\" the\n    // maximum array items in the original array. For example:\n    //\n    //   'xxxx123' -> '123yyyy'\n    //\n    // With 1-edit updates, the shortest path would be just to update all seven\n    // characters. With 2-edit updates, we delete 4, leave 3, and add 4. This\n    // leaves the substring '123' intact.\n    calcEditDistances(current, currentStart, currentEnd,\n                                old, oldStart, oldEnd) {\n      // \"Deletion\" columns\n      let rowCount = oldEnd - oldStart + 1;\n      let columnCount = currentEnd - currentStart + 1;\n      let distances = new Array(rowCount);\n\n      // \"Addition\" rows. Initialize null column.\n      for (let i = 0; i < rowCount; i++) {\n        distances[i] = new Array(columnCount);\n        distances[i][0] = i;\n      }\n\n      // Initialize null row\n      for (let j = 0; j < columnCount; j++)\n        distances[0][j] = j;\n\n      for (let i = 1; i < rowCount; i++) {\n        for (let j = 1; j < columnCount; j++) {\n          if (this.equals(current[currentStart + j - 1], old[oldStart + i - 1]))\n            distances[i][j] = distances[i - 1][j - 1];\n          else {\n            let north = distances[i - 1][j] + 1;\n            let west = distances[i][j - 1] + 1;\n            distances[i][j] = north < west ? north : west;\n          }\n        }\n      }\n\n      return distances;\n    },\n\n    // This starts at the final weight, and walks \"backward\" by finding\n    // the minimum previous weight recursively until the origin of the weight\n    // matrix.\n    spliceOperationsFromEditDistances(distances) {\n      let i = distances.length - 1;\n      let j = distances[0].length - 1;\n      let current = distances[i][j];\n      let edits = [];\n      while (i > 0 || j > 0) {\n        if (i == 0) {\n          edits.push(EDIT_ADD);\n          j--;\n          continue;\n        }\n        if (j == 0) {\n          edits.push(EDIT_DELETE);\n          i--;\n          continue;\n        }\n        let northWest = distances[i - 1][j - 1];\n        let west = distances[i - 1][j];\n        let north = distances[i][j - 1];\n\n        let min;\n        if (west < north)\n          min = west < northWest ? west : northWest;\n        else\n          min = north < northWest ? north : northWest;\n\n        if (min == northWest) {\n          if (northWest == current) {\n            edits.push(EDIT_LEAVE);\n          } else {\n            edits.push(EDIT_UPDATE);\n            current = northWest;\n          }\n          i--;\n          j--;\n        } else if (min == west) {\n          edits.push(EDIT_DELETE);\n          i--;\n          current = west;\n        } else {\n          edits.push(EDIT_ADD);\n          j--;\n          current = north;\n        }\n      }\n\n      edits.reverse();\n      return edits;\n    },\n\n    /**\n     * Splice Projection functions:\n     *\n     * A splice map is a representation of how a previous array of items\n     * was transformed into a new array of items. Conceptually it is a list of\n     * tuples of\n     *\n     *   <index, removed, addedCount>\n     *\n     * which are kept in ascending index order of. The tuple represents that at\n     * the |index|, |removed| sequence of items were removed, and counting forward\n     * from |index|, |addedCount| items were added.\n     */\n\n    /**\n     * Lacking individual splice mutation information, the minimal set of\n     * splices can be synthesized given the previous state and final state of an\n     * array. The basic approach is to calculate the edit distance matrix and\n     * choose the shortest path through it.\n     *\n     * Complexity: O(l * p)\n     *   l: The length of the current array\n     *   p: The length of the old array\n     */\n    calcSplices(current, currentStart, currentEnd,\n                          old, oldStart, oldEnd) {\n      let prefixCount = 0;\n      let suffixCount = 0;\n      let splice;\n\n      let minLength = Math.min(currentEnd - currentStart, oldEnd - oldStart);\n      if (currentStart == 0 && oldStart == 0)\n        prefixCount = this.sharedPrefix(current, old, minLength);\n\n      if (currentEnd == current.length && oldEnd == old.length)\n        suffixCount = this.sharedSuffix(current, old, minLength - prefixCount);\n\n      currentStart += prefixCount;\n      oldStart += prefixCount;\n      currentEnd -= suffixCount;\n      oldEnd -= suffixCount;\n\n      if (currentEnd - currentStart == 0 && oldEnd - oldStart == 0)\n        return [];\n\n      if (currentStart == currentEnd) {\n        splice = newSplice(currentStart, [], 0);\n        while (oldStart < oldEnd)\n          splice.removed.push(old[oldStart++]);\n\n        return [ splice ];\n      } else if (oldStart == oldEnd)\n        return [ newSplice(currentStart, [], currentEnd - currentStart) ];\n\n      let ops = this.spliceOperationsFromEditDistances(\n          this.calcEditDistances(current, currentStart, currentEnd,\n                                 old, oldStart, oldEnd));\n\n      splice = undefined;\n      let splices = [];\n      let index = currentStart;\n      let oldIndex = oldStart;\n      for (let i = 0; i < ops.length; i++) {\n        switch(ops[i]) {\n          case EDIT_LEAVE:\n            if (splice) {\n              splices.push(splice);\n              splice = undefined;\n            }\n\n            index++;\n            oldIndex++;\n            break;\n          case EDIT_UPDATE:\n            if (!splice)\n              splice = newSplice(index, [], 0);\n\n            splice.addedCount++;\n            index++;\n\n            splice.removed.push(old[oldIndex]);\n            oldIndex++;\n            break;\n          case EDIT_ADD:\n            if (!splice)\n              splice = newSplice(index, [], 0);\n\n            splice.addedCount++;\n            index++;\n            break;\n          case EDIT_DELETE:\n            if (!splice)\n              splice = newSplice(index, [], 0);\n\n            splice.removed.push(old[oldIndex]);\n            oldIndex++;\n            break;\n        }\n      }\n\n      if (splice) {\n        splices.push(splice);\n      }\n      return splices;\n    },\n\n    sharedPrefix(current, old, searchLength) {\n      for (let i = 0; i < searchLength; i++)\n        if (!this.equals(current[i], old[i]))\n          return i;\n      return searchLength;\n    },\n\n    sharedSuffix(current, old, searchLength) {\n      let index1 = current.length;\n      let index2 = old.length;\n      let count = 0;\n      while (count < searchLength && this.equals(current[--index1], old[--index2]))\n        count++;\n\n      return count;\n    },\n\n    calculateSplices(current, previous) {\n      return this.calcSplices(current, 0, current.length, previous, 0,\n                              previous.length);\n    },\n\n    equals(currentValue, previousValue) {\n      return currentValue === previousValue;\n    }\n\n  };\n\n  Polymer.ArraySplice = {\n    calculateSplices(current, previous) {\n      return ArraySplice.calculateSplices(current, previous);\n    }\n  }\n\n})();\n(function() {\n\n  function isSlot(node) {\n    return (node.localName === 'slot');\n  }\n\n  function getEffectiveNodes(node) {\n    if (isSlot(node)) {\n      return node.assignedNodes({flatten: true});\n    } else {\n      return Array.from(node.childNodes).map(node => {\n        if (isSlot(node)) {\n          return node.assignedNodes({flatten: true});\n        } else {\n          return [node];\n        }\n      }).reduce((a, b) => a.concat(b), []);\n    }\n  }\n\n  let effectiveNodesObserverPromise = Promise.resolve();\n\n  class EffectiveNodesObserver {\n\n    constructor(target, callback) {\n      this.target = target;\n      this.callback = callback;\n      this.effectiveNodes = [];\n      this.observer = null;\n      this.scheduled = false;\n      this._boundSchedule = () => {\n        this.schedule();\n      }\n      this.connect();\n      this.schedule();\n    }\n\n    connect() {\n      if (isSlot(this.target)) {\n        this.listenSlots([this.target]);\n      } else {\n        this.listenSlots(this.target.children);\n        if (window.ShadyDOM) {\n          this.shadyChildrenObserver =\n            ShadyDOM.observeChildren(this.target, (mutations) => {\n              this.processMutations(mutations);\n            });\n        } else {\n          this.nativeChildrenObserver =\n            new MutationObserver((mutations) => {\n              this.processMutations(mutations);\n            });\n          this.nativeChildrenObserver.observe(this.target, {childList: true});\n        }\n      }\n      this.connected = true;\n    }\n\n    disconnect() {\n      if (isSlot(this.target)) {\n        this.unlistenSlots([this.target]);\n      } else {\n        this.unlistenSlots(this.target.children);\n        if (window.ShadyDOM && this.shadyChildrenObserver) {\n          ShadyDOM.unobserveChildren(this.shadyChildrenObserver);\n          this.shadyChildrenObserver = null;\n        } else if (this.nativeChildrenObserver) {\n          this.nativeChildrenObserver.disconnect();\n          this.nativeChildrenObserver = null;\n        }\n      }\n      this.connected = false;\n    }\n\n    schedule() {\n      if (!this.scheduled) {\n        this.scheduled = true;\n        effectiveNodesObserverPromise.then(() => {\n          this.flush();\n        });\n      }\n    }\n\n    processMutations(mutations) {\n      this.processSlotMutations(mutations);\n      this.flush();\n    }\n\n    processSlotMutations(mutations) {\n      if (mutations) {\n        for (let i=0; i < mutations.length; i++) {\n          let mutation = mutations[i];\n          if (mutation.addedNodes) {\n            this.listenSlots(mutation.addedNodes);\n          }\n          if (mutation.removedNodes) {\n            this.unlistenSlots(mutation.removedNodes);\n          }\n        }\n      }\n    }\n\n    flush() {\n      if (!this.connected) {\n        return;\n      }\n      if (window.ShadyDOM) {\n        ShadyDOM.flush();\n      }\n      if (this.nativeChildrenObserver) {\n        this.processSlotMutations(this.nativeChildrenObserver.takeRecords());\n      } else if (this.shadyChildrenObserver) {\n        this.processSlotMutations(this.shadyChildrenObserver.takeRecords());\n      }\n      this.scheduled = false;\n      let info = {\n        target: this.target,\n        addedNodes: [],\n        removedNodes: []\n      };\n      let newNodes = getEffectiveNodes(this.target);\n      let splices = Polymer.ArraySplice.calculateSplices(newNodes,\n        this.effectiveNodes);\n      // process removals\n      for (let i=0, s; (i<splices.length) && (s=splices[i]); i++) {\n        for (let j=0, n; (j < s.removed.length) && (n=s.removed[j]); j++) {\n          info.removedNodes.push(n);\n        }\n      }\n      // process adds\n      for (let i=0, s; (i<splices.length) && (s=splices[i]); i++) {\n        for (let j=s.index; j < s.index + s.addedCount; j++) {\n          info.addedNodes.push(newNodes[j]);\n        }\n      }\n      // update cache\n      this.effectiveNodes = newNodes;\n      if (info.addedNodes.length || info.removedNodes.length) {\n        this.callback.call(this.target, info);\n      }\n    }\n\n    listenSlots(nodeList) {\n      for (let i=0; i < nodeList.length; i++) {\n        let n = nodeList[i];\n        if (isSlot(n)) {\n          n.addEventListener('slotchange', this._boundSchedule);\n        }\n      }\n    }\n\n    unlistenSlots(nodeList) {\n      for (let i=0; i < nodeList.length; i++) {\n        let n = nodeList[i];\n        if (isSlot(n)) {\n          n.removeEventListener('slotchange', this._boundSchedule);\n        }\n      }\n    }\n\n  }\n\n  class DomApi {\n\n    constructor(node) {\n      if (window.ShadyDOM) {\n        ShadyDOM.patch(node);\n      }\n      this.node = node;\n    }\n\n    observeNodes(callback) {\n      if (window.ShadyDOM) {\n        ShadyDOM.flush();\n      }\n      return new EffectiveNodesObserver(this.node, callback);\n    }\n\n    unobserveNodes(observerHandle) {\n      observerHandle.disconnect();\n    }\n\n    notifyObserver() {}\n\n    deepContains(node) {\n      if (this.node.contains(node)) {\n        return true;\n      }\n      let n = node;\n      let doc = node.ownerDocument;\n      // walk from node to `this` or `document`\n      while (n && n !== doc && n !== this.node) {\n        // use logical parentnode, or native ShadowRoot host\n        n = Polymer.dom(n).parentNode || n.host;\n      }\n      return n === this.node;\n    }\n\n    getOwnerRoot() {\n      return this.node.getRootNode();\n    }\n\n    getDistributedNodes() {\n      return (this.node.localName === 'slot') ?\n        this.node.assignedNodes({flatten: true}) :\n        [];\n    }\n\n    getDestinationInsertionPoints() {\n      let ip$ = [];\n      let n = this.node.assignedSlot;\n      while (n) {\n        ip$.push(n);\n        n = n.assignedSlot;\n      }\n      return ip$;\n    }\n\n    importNode(externalNode, deep) {\n      let doc = this.node instanceof Document ? this.node :\n        this.node.ownerDocument;\n      return doc.importNode(externalNode, deep);\n    }\n\n    getEffectiveChildNodes() {\n      return getEffectiveNodes(this.node);\n    }\n\n    queryDistributedElements(selector) {\n      let c$ = this.getEffectiveChildNodes();\n      let list = [];\n      for (let i=0, l=c$.length, c; (i<l) && (c=c$[i]); i++) {\n        if ((c.nodeType === Node.ELEMENT_NODE) &&\n            Polymer.Utils.matchesSelector(c, selector)) {\n          list.push(c);\n        }\n      }\n      return list;\n    }\n\n  }\n\n  function forwardMethods(proto, methods) {\n    for (let i=0; i < methods.length; i++) {\n      let method = methods[i];\n      proto[method] = function() {\n        return this.node[method].apply(this.node, arguments);\n      }\n    }\n  }\n\n  function forwardReadOnlyProperties(proto, properties) {\n    for (let i=0; i < properties.length; i++) {\n      let name = properties[i];\n      Object.defineProperty(proto, name, {\n        get: function() {\n          return this.node[name];\n        },\n        configurable: true\n      });\n    }\n  }\n\n  function forwardProperties(proto, properties) {\n    for (let i=0; i < properties.length; i++) {\n      let name = properties[i];\n      Object.defineProperty(proto, name, {\n        get: function() {\n          return this.node[name];\n        },\n        set: function(value) {\n          this.node[name] = value;\n        },\n        configurable: true\n      });\n    }\n  }\n\n  forwardMethods(DomApi.prototype, [\n    'cloneNode', 'appendChild', 'insertBefore', 'removeChild',\n    'replaceChild', 'setAttribute', 'removeAttribute',\n    'querySelector', 'querySelectorAll'\n  ]);\n\n  forwardReadOnlyProperties(DomApi.prototype, [\n    'activeElement',\n    'parentNode', 'firstChild', 'lastChild',\n    'nextSibling', 'previousSibling', 'firstElementChild',\n    'lastElementChild', 'nextElementSibling', 'previousElementSibling',\n    'childNodes', 'children'\n  ]);\n\n  forwardProperties(DomApi.prototype, [\n    'textContent', 'innerHTML'\n  ]);\n\n\n  class EventApi {\n    constructor(event) {\n      this.event = event;\n    }\n\n    get rootTarget() {\n      return this.event.composedPath()[0];\n    }\n\n    get localTarget() {\n      return this.event.target;\n    }\n\n    get path() {\n      return this.event.composedPath();\n    }\n  }\n\n  Polymer.dom = function(obj) {\n    obj = obj || document;\n    let ctor = obj instanceof Event ? EventApi : DomApi;\n    if (!obj.__domApi) {\n      obj.__domApi = new ctor(obj);\n    }\n    return obj.__domApi;\n  };\n\n  Polymer.dom.flush = function() {\n    if (window.ShadyDOM) {\n      ShadyDOM.flush();\n    }\n    if (customElements.flush) {\n      customElements.flush();\n    }\n  }\n\n  Polymer.Settings = {\n    useShadow: true\n  };\n\n})();\n(function() {\n\n  // unresolved\n\n  function resolve() {\n    document.body.removeAttribute('unresolved');\n  }\n\n  if (window.WebComponents) {\n    addEventListener('WebComponentsReady', resolve);\n  } else {\n    if (document.readyState === 'interactive' || document.readyState === 'complete') {\n      resolve();\n    } else {\n      addEventListener('DOMContentLoaded', resolve);\n    }\n  }\n\n})();\n(function() {\n\n  'use strict';\n\n  var utils = Polymer.Utils;\n\n  // TODO(sorvell): same api as before.\n  Polymer._warn = function(warning) {\n    console.warn(warning);\n  }\n\n  Polymer.LegacyElementMixin = Polymer.Utils.cachingMixin(function(base) {\n\n    return class LegacyElement extends Polymer.GestureEventListeners(\n      Polymer.ElementMixin(base)) {\n\n      constructor() {\n        super();\n        this.created();\n      }\n\n      _applyListeners() {\n        this._applyConfigListeners(this.constructor._ownConfig);\n      }\n\n      _applyConfigListeners(config) {\n        if (config.listeners) {\n          for (let l in config.listeners) {\n            this._addMethodEventListenerToNode(this, l, config.listeners[l]);\n          }\n        }\n      }\n\n      _ensureAttributes() {\n        this._ensureConfigAttributes(this.constructor._ownConfig);\n      }\n\n      _ensureConfigAttributes(config) {\n        if (config.hostAttributes) {\n          for (let a in config.hostAttributes) {\n            this._ensureAttribute(a, config.hostAttributes[a]);\n          }\n        }\n      }\n\n      ready() {\n        this._applyListeners();\n        this._ensureAttributes();\n        super.ready();\n      }\n\n      connectedCallback() {\n        super.connectedCallback();\n        this.isAttached = true;\n        this.attached();\n      }\n\n      disconnectedCallback() {\n        this.isAttached = false;\n        super.disconnectedCallback();\n        this.detached();\n      }\n\n      attributeChangedCallback(name, old, value) {\n        super.attributeChangedCallback(name, old, value);\n        this.attributeChanged(name, old, value);\n      }\n\n      created() {}\n\n      attached() {}\n\n      detached() {}\n\n      attributeChanged() {}\n\n      serialize(value) {\n        return this._serializeAttribute(value);\n      }\n\n      deserialize(value, type) {\n        return this._deserializeAttribute(value, type);\n      }\n\n      reflectPropertyToAttribute(property, attribute, value) {\n        this._propertyToAttribute(this, property, attribute, value);\n      }\n\n      serializeValueToAttribute(value, attribute, node) {\n        this._valueToAttribute(node || this, value, attribute);\n      }\n\n      /**\n       * Copies own properties (including accessor descriptors) from a source\n       * object to a target object.\n       *\n       * @method extend\n       * @param {Object} prototype Target object to copy properties to.\n       * @param {Object} api Source object to copy properties from.\n       * @return {Object} prototype object that was passed as first argument.\n       */\n      extend(prototype, api) {\n        return utils.extend(prototype, api);\n      }\n\n      /**\n       * Copies props from a source object to a target object.\n       *\n       * Note, this method uses a simple `for...in` strategy for enumerating\n       * properties.  To ensure only `ownProperties` are copied from source\n       * to target and that accessor implementations are copied, use `extend`.\n       *\n       * @method mixin\n       * @param {Object} target Target object to copy properties to.\n       * @param {Object} source Source object to copy properties from.\n       * @return {Object} Target object that was passed as first argument.\n       */\n      mixin(target, source) {\n        return utils.mixin(target, source);\n      }\n\n      chainObject(object, inherited) {\n        if (object && inherited && object !== inherited) {\n          if (!Object.__proto__) {\n            object = this.extend(Object.create(inherited), object);\n          }\n          object.__proto__ = inherited;\n        }\n        return object;\n      }\n\n      /* **** Begin Template **** */\n      /**\n       * Calls `importNode` on the `content` of the `template` specified and\n       * returns a document fragment containing the imported content.\n       *\n       * @method instanceTemplate\n       * @param {HTMLTemplateElement} template HTML template element to instance.\n       * @return {DocumentFragment} Document fragment containing the imported\n       *   template content.\n      */\n      instanceTemplate(template) {\n        var dom =\n          document.importNode(template._content || template.content, true);\n        return dom;\n      }\n\n      /**\n       * Rewrites a given URL relative to the original location of the document\n       * containing the `dom-module` for this element.  This method will return\n       * the same URL before and after vulcanization.\n       *\n       * @method resolveUrl\n       * @param {string} url URL to resolve.\n       * @return {string} Rewritten URL relative to the import\n       */\n      resolveUrl(url) {\n        var module = Polymer.DomModule.import(this.is);\n        var root = '';\n        if (module) {\n          var assetPath = module.getAttribute('assetpath') || '';\n          root = Polymer.ResolveUrl.resolveUrl(\n            assetPath, module.ownerDocument.baseURI);\n        }\n        return Polymer.ResolveUrl.resolveUrl(url, root);\n      }\n\n      /* **** Begin Events **** */\n      /**\n       * Dispatches a custom event with an optional detail value.\n       *\n       * @method fire\n       * @param {String} type Name of event type.\n       * @param {*=} detail Detail value containing event-specific\n       *   payload.\n       * @param {Object=} options Object specifying options.  These may include:\n       *  `bubbles` (boolean, defaults to `true`),\n       *  `cancelable` (boolean, defaults to false), and\n       *  `node` on which to fire the event (HTMLElement, defaults to `this`).\n       * @return {CustomEvent} The new event that was fired.\n       */\n      fire(type, detail, options) {\n        options = options || {};\n        detail = (detail === null || detail === undefined) ? {} : detail;\n        var event = new Event(type, {\n          bubbles: options.bubbles === undefined ? true : options.bubbles,\n          cancelable: Boolean(options.cancelable),\n          composed: options.composed === undefined ? true: options.composed\n        });\n        event.detail = detail;\n        var node = options.node || this;\n        node.dispatchEvent(event)\n        return event;\n      }\n\n      /**\n       * Convenience method to add an event listener on a given element,\n       * late bound to a named method on this element.\n       *\n       * @method listen\n       * @param {Element} node Element to add event listener to.\n       * @param {string} eventName Name of event to listen for.\n       * @param {string} methodName Name of handler method on `this` to call.\n       */\n      listen(node, eventName, methodName) {\n        node = node || this;\n        var hbl = this.__boundListeners ||\n          (this.__boundListeners = new WeakMap());\n        var bl = hbl.get(node);\n        if (!bl) {\n          bl = {};\n          hbl.set(node, bl);\n        }\n        var key = eventName + methodName;\n        if (!bl[key]) {\n          bl[key] = this._addMethodEventListenerToNode(\n            node, eventName, methodName, this);\n        }\n      }\n\n      /**\n       * Convenience method to remove an event listener from a given element,\n       * late bound to a named method on this element.\n       *\n       * @method unlisten\n       * @param {Element} node Element to remove event listener from.\n       * @param {string} eventName Name of event to stop listening to.\n       * @param {string} methodName Name of handler method on `this` to not call\n       anymore.\n       */\n      unlisten(node, eventName, methodName) {\n        node = node || this;\n        var bl = this.__boundListeners && this.__boundListeners.get(node);\n        var key = eventName + methodName;\n        var handler = bl && bl[key];\n        if (handler) {\n          this._removeEventListenerFromNode(node, eventName, handler);\n          bl[key] = null;\n        }\n      }\n\n      /**\n       * Override scrolling behavior to all direction, one direction, or none.\n       *\n       * Valid scroll directions:\n       *   - 'all': scroll in any direction\n       *   - 'x': scroll only in the 'x' direction\n       *   - 'y': scroll only in the 'y' direction\n       *   - 'none': disable scrolling for this node\n       *\n       * @method setScrollDirection\n       * @param {String=} direction Direction to allow scrolling\n       * Defaults to `all`.\n       * @param {HTMLElement=} node Element to apply scroll direction setting.\n       * Defaults to `this`.\n       */\n      setScrollDirection(direction, node) {\n        Polymer.Gestures.setTouchAction(node || this, direction || 'auto');\n      }\n      /* **** End Events **** */\n\n      /**\n       * Convenience method to run `querySelector` on this local DOM scope.\n       *\n       * This function calls `Polymer.dom(this.root).querySelector(slctr)`.\n       *\n       * @method $$\n       * @param {string} slctr Selector to run on this local DOM scope\n       * @return {Element} Element found by the selector, or null if not found.\n       */\n      $$(slctr) {\n        return this.root.querySelector(slctr);\n      }\n\n      /**\n       * Return the element whose local dom within which this element\n       * is contained. This is a shorthand for\n       * `this.getRootNode().host`.\n       */\n      get domHost() {\n        var root = this.getRootNode();\n        return (root instanceof DocumentFragment) ? root.host : root;\n      }\n\n      /**\n       * Force this element to distribute its children to its local dom.\n       * This is necessary only when ShadyDOM is used and only in cases that\n       * are not automatically handled. For example,\n       * a user should call `distributeContent` if distribution has been\n       * invalidated due to an element being added or removed from the shadowRoot\n       * that contains an insertion point (<slot>) inside its subtree.\n       * @method distributeContent\n       */\n      distributeContent() {\n        if (window.ShadyDOM && this.shadowRoot) {\n          this.shadowRoot.forceRender();\n        }\n      }\n\n      /**\n       * Returns a list of nodes that are the effective childNodes. The effective\n       * childNodes list is the same as the element's childNodes except that\n       * any `<content>` elements are replaced with the list of nodes distributed\n       * to the `<content>`, the result of its `getDistributedNodes` method.\n       *\n       * @method getEffectiveChildNodes\n       * @return {Array<Node>} List of effctive child nodes.\n       */\n      getEffectiveChildNodes() {\n        return Polymer.dom(this).getEffectiveChildNodes();\n      }\n\n      /**\n       * Returns a list of nodes distributed within this element that match\n       * `selector`. These can be dom children or elements distributed to\n       * children that are insertion points.\n       * @method queryDistributedElements\n       * @param {string} selector Selector to run.\n       * @return {Array<Node>} List of distributed elements that match selector.\n       */\n      queryDistributedElements(selector) {\n        return Polymer.dom(this).queryDistributedElements(selector);\n      }\n\n      /**\n       * Returns a list of elements that are the effective children. The effective\n       * children list is the same as the element's children except that\n       * any `<content>` elements are replaced with the list of elements\n       * distributed to the `<content>`.\n       *\n       * @method getEffectiveChildren\n       * @return {Array<Node>} List of effctive children.\n       */\n      getEffectiveChildren() {\n        var list = this.getEffectiveChildNodes();\n        return list.filter(function(n) {\n          return (n.nodeType === Node.ELEMENT_NODE);\n        });\n      }\n\n      /**\n       * Returns a string of text content that is the concatenation of the\n       * text content's of the element's effective childNodes (the elements\n       * returned by <a href=\"#getEffectiveChildNodes>getEffectiveChildNodes</a>.\n       *\n       * @method getEffectiveTextContent\n       * @return {Array<Node>} List of effctive children.\n       */\n      getEffectiveTextContent() {\n        var cn = this.getEffectiveChildNodes();\n        var tc = [];\n        for (var i=0, c; (c = cn[i]); i++) {\n          if (c.nodeType !== Node.COMMENT_NODE) {\n            tc.push(c.textContent);\n          }\n        }\n        return tc.join('');\n      }\n\n      /**\n       * Returns the first effective childNode within this element that\n       * match `selector`. These can be dom child nodes or elements distributed\n       * to children that are insertion points.\n       * @method queryEffectiveChildren\n       * @param {string} selector Selector to run.\n       * @return {Object<Node>} First effective child node that matches selector.\n       */\n      queryEffectiveChildren(selector) {\n        var e$ = this.queryDistributedElements(selector);\n        return e$ && e$[0];\n      }\n\n      /**\n       * Returns a list of effective childNodes within this element that\n       * match `selector`. These can be dom child nodes or elements distributed\n       * to children that are insertion points.\n       * @method queryEffectiveChildren\n       * @param {string} selector Selector to run.\n       * @return {Array<Node>} List of effective child nodes that match selector.\n       */\n      queryAllEffectiveChildren(selector) {\n        return this.queryDistributedElements(selector);\n      }\n\n      /**\n       * Returns a list of nodes distributed to this element's `<content>`.\n       *\n       * If this element contains more than one `<content>` in its local DOM,\n       * an optional selector may be passed to choose the desired content.\n       *\n       * @method getContentChildNodes\n       * @param {String=} slctr CSS selector to choose the desired\n       *   `<content>`.  Defaults to `content`.\n       * @return {Array<Node>} List of distributed nodes for the `<content>`.\n       */\n      getContentChildNodes(slctr) {\n        var content = this.root.querySelector(slctr || 'content');\n        return content ? content.getDistributedNodes() : [];\n      }\n\n      /**\n       * Returns a list of element children distributed to this element's\n       * `<content>`.\n       *\n       * If this element contains more than one `<content>` in its\n       * local DOM, an optional selector may be passed to choose the desired\n       * content.  This method differs from `getContentChildNodes` in that only\n       * elements are returned.\n       *\n       * @method getContentChildNodes\n       * @param {String=} slctr CSS selector to choose the desired\n       *   `<content>`.  Defaults to `content`.\n       * @return {Array<HTMLElement>} List of distributed nodes for the\n       *   `<content>`.\n       */\n      getContentChildren(slctr) {\n        return this.getContentChildNodes(slctr).filter(function(n) {\n          return (n.nodeType === Node.ELEMENT_NODE);\n        });\n      }\n\n      /**\n       * Checks whether an element is in this element's light DOM tree.\n       *\n       * @method isLightDescendant\n       * @param {?Node} node The element to be checked.\n       * @return {Boolean} true if node is in this element's light DOM tree.\n       */\n      isLightDescendant(node) {\n        return this !== node && this.contains(node) &&\n            this.getRootNode() === node.getRootNode();\n      }\n\n      /**\n       * Checks whether an element is in this element's local DOM tree.\n       *\n       * @method isLocalDescendant\n       * @param {HTMLElement=} node The element to be checked.\n       * @return {Boolean} true if node is in this element's local DOM tree.\n       */\n      isLocalDescendant(node) {\n        return this.root === node.getRootNode();\n      }\n\n      // NOTE: should now be handled by ShadyCss library.\n      scopeSubtree(container, shouldObserve) { // eslint-disable-line no-unused-vars\n      }\n\n      /**\n       * Returns the computed style value for the given property.\n       * @param {String} property\n       * @return {String} the computed value\n       */\n      getComputedStyleValue(property) {\n        return ShadyCSS.getComputedStyleValue(this, property);\n      }\n\n      // debounce\n\n      /**\n       * Call `debounce` to collapse multiple requests for a named task into\n       * one invocation which is made after the wait time has elapsed with\n       * no new request.  If no wait time is given, the callback will be called\n       * at microtask timing (guaranteed before paint).\n       *\n       *     debouncedClickAction(e) {\n       *       // will not call `processClick` more than once per 100ms\n       *       this.debounce('click', function() {\n       *        this.processClick();\n       *       } 100);\n       *     }\n       *\n       * @method debounce\n       * @param {String} jobName String to indentify the debounce job.\n       * @param {Function} callback Function that is called (with `this`\n       *   context) when the wait time elapses.\n       * @param {number} wait Optional wait time in milliseconds (ms) after the\n       *   last signal that must elapse before invoking `callback`\n       */\n      debounce(jobName, callback, wait) {\n        this._debouncers = this._debouncers || {};\n        return this._debouncers[jobName] = Polymer.Debouncer.debounce(\n          this._debouncers[jobName], callback, wait, this);\n      }\n\n      /**\n       * Returns whether a named debouncer is active.\n       *\n       * @method isDebouncerActive\n       * @param {String} jobName The name of the debouncer started with `debounce`\n       * @return {boolean} Whether the debouncer is active (has not yet fired).\n       */\n      isDebouncerActive(jobName) {\n        this._debouncers = this._debouncers || {};\n        var debouncer = this._debouncers[jobName];\n        return !!(debouncer && debouncer.isActive());\n      }\n\n      /**\n       * Immediately calls the debouncer `callback` and inactivates it.\n       *\n       * @method flushDebouncer\n       * @param {String} jobName The name of the debouncer started with `debounce`\n       */\n      flushDebouncer(jobName) {\n        this._debouncers = this._debouncers || {};\n        var debouncer = this._debouncers[jobName];\n        if (debouncer) {\n          debouncer.flush();\n        }\n      }\n\n      /**\n       * Cancels an active debouncer.  The `callback` will not be called.\n       *\n       * @method cancelDebouncer\n       * @param {String} jobName The name of the debouncer started with `debounce`\n       */\n      cancelDebouncer(jobName) {\n        this._debouncers = this._debouncers || {}\n        var debouncer = this._debouncers[jobName];\n        if (debouncer) {\n          debouncer.cancel();\n        }\n      }\n\n      /**\n       * Runs a callback function asyncronously.\n       *\n       * By default (if no waitTime is specified), async callbacks are run at\n       * microtask timing, which will occur before paint.\n       *\n       * @method async\n       * @param {Function} callback The callback function to run, bound to `this`.\n       * @param {number=} waitTime Time to wait before calling the\n       *   `callback`.  If unspecified or 0, the callback will be run at microtask\n       *   timing (before paint).\n       * @return {number} Handle that may be used to cancel the async job.\n       */\n      async(callback, waitTime) {\n        var self = this;\n        return Polymer.Async.run(function() {\n          callback.call(self);\n        }, waitTime);\n      }\n\n      /**\n       * Cancels an async operation started with `async`.\n       *\n       * @method cancelAsync\n       * @param {number} handle Handle returned from original `async` call to\n       *   cancel.\n       */\n      cancelAsync(handle) {\n        Polymer.Async.cancel(handle);\n      }\n\n      // other\n\n      /**\n       * Convenience method for creating an element and configuring it.\n       *\n       * @method create\n       * @param {string} tag HTML element tag to create.\n       * @param {Object} props Object of properties to configure on the\n       *    instance.\n       * @return {Element} Newly created and configured element.\n       */\n      create(tag, props) {\n        var elt = document.createElement(tag);\n        if (props) {\n          if (elt.setProperties) {\n            elt.setProperties(props);\n          } else {\n            for (var n in props) {\n              elt[n] = props[n];\n            }\n          }\n        }\n        return elt;\n      }\n\n      /**\n       * Convenience method for importing an HTML document imperatively.\n       *\n       * This method creates a new `<link rel=\"import\">` element with\n       * the provided URL and appends it to the document to start loading.\n       * In the `onload` callback, the `import` property of the `link`\n       * element will contain the imported document contents.\n       *\n       * @method importHref\n       * @param {string} href URL to document to load.\n       * @param {Function} onload Callback to notify when an import successfully\n       *   loaded.\n       * @param {Function} onerror Callback to notify when an import\n       *   unsuccessfully loaded.\n       * @param {boolean} optAsync True if the import should be loaded `async`.\n       *   Defaults to `false`.\n       * @return {HTMLLinkElement} The link element for the URL to be loaded.\n       */\n      importHref(href, onload, onerror, optAsync) {\n        var l = document.createElement('link');\n        l.rel = 'import';\n        l.href = href;\n\n        optAsync = Boolean(optAsync);\n        if (optAsync) {\n          l.setAttribute('async', '');\n        }\n\n        var self = this;\n        if (onload) {\n          l.onload = function(e) {\n            // NOTE: Push load handler until after `HTMLImports.whenReady`,\n            // if available, to better coordinate with use of customElements\n            // polyfill's document upgrade ordering guarantees (ensures,\n            // for example, a dom-module for an element in an async import\n            // customizes before any elements matching a define call).\n            if (window.HTMLImports) {\n              // wait until any other pending imports are ready\n              HTMLImports.whenReady(function() {\n                // wait until the CustomElements polyfill has upgraded elements.\n                // (needed because CE's whenReady is installed afer this one)\n                setTimeout(function() {\n                  onload.call(self, e);\n                });\n              });\n            } else {\n              onload.call(self, e);\n            }\n          }\n        }\n        if (onerror) {\n          l.onerror = function(e) {\n            onerror.call(self, e);\n          }\n        }\n        document.head.appendChild(l);\n        return l;\n      }\n\n      /**\n       * Polyfill for Element.prototype.matches, which is sometimes still\n       * prefixed.\n       *\n       * @method elementMatches\n       * @param {string} selector Selector to test.\n       * @param {Element=} node Element to test the selector against.\n       * @return {boolean} Whether the element matches the selector.\n       */\n      elementMatches(selector, node) {\n        return Polymer.Utils.matchesSelector(node || this, selector);\n      }\n\n      /**\n       * Toggles an HTML attribute on or off.\n       *\n       * @method toggleAttribute\n       * @param {String} name HTML attribute name\n       * @param {boolean=} bool Boolean to force the attribute on or off.\n       *    When unspecified, the state of the attribute will be reversed.\n       * @param {HTMLElement=} node Node to target.  Defaults to `this`.\n       */\n      toggleAttribute(name, bool, node) {\n        node = node || this;\n        if (arguments.length == 1) {\n          bool = !node.hasAttribute(name);\n        }\n        if (bool) {\n          node.setAttribute(name, '');\n        } else {\n          node.removeAttribute(name);\n        }\n      }\n\n\n      /**\n       * Toggles a CSS class on or off.\n       *\n       * @method toggleClass\n       * @param {String} name CSS class name\n       * @param {boolean=} bool Boolean to force the class on or off.\n       *    When unspecified, the state of the class will be reversed.\n       * @param {HTMLElement=} node Node to target.  Defaults to `this`.\n       */\n      toggleClass(name, bool, node) {\n        node = node || this;\n        if (arguments.length == 1) {\n          bool = !node.classList.contains(name);\n        }\n        if (bool) {\n          node.classList.add(name);\n        } else {\n          node.classList.remove(name);\n        }\n      }\n\n      /**\n       * Cross-platform helper for setting an element's CSS `transform` property.\n       *\n       * @method transformText\n       * @param {String} transform Transform setting.\n       * @param {HTMLElement=} node Element to apply the transform to.\n       * Defaults to `this`\n       */\n      transform(transformText, node) {\n        node = node || this;\n        node.style.webkitTransform = transformText;\n        node.style.transform = transformText;\n      }\n\n      /**\n       * Cross-platform helper for setting an element's CSS `translate3d`\n       * property.\n       *\n       * @method translate3d\n       * @param {number} x X offset.\n       * @param {number} y Y offset.\n       * @param {number} z Z offset.\n       * @param {HTMLElement=} node Element to apply the transform to.\n       * Defaults to `this`.\n       */\n      translate3d(x, y, z, node) {\n        node = node || this;\n        this.transform('translate3d(' + x + ',' + y + ',' + z + ')', node);\n      }\n\n      /**\n       * Removes an item from an array, if it exists.\n       *\n       * If the array is specified by path, a change notification is\n       * generated, so that observers, data bindings and computed\n       * properties watching that path can update.\n       *\n       * If the array is passed directly, **no change\n       * notification is generated**.\n       *\n       * @method arrayDelete\n       * @param {String|Array} path Path to array from which to remove the item\n       *   (or the array itself).\n       * @param {any} item Item to remove.\n       * @return {Array} Array containing item removed.\n       */\n      arrayDelete(arrayOrPath, item) {\n        var index;\n        if (Array.isArray(arrayOrPath)) {\n          index = arrayOrPath.indexOf(item);\n          if (index >= 0) {\n            return arrayOrPath.splice(index, 1);\n          }\n        } else {\n          var arr = Polymer.Path.get(this, arrayOrPath);\n          index = arr.indexOf(item);\n          if (index >= 0) {\n            return this.splice(arrayOrPath, index, 1);\n          }\n        }\n      }\n\n    }\n\n  });\n\n  // bc\n  Polymer.LegacyElement = Polymer.LegacyElementMixin(HTMLElement);\n  Polymer.Base = Polymer.LegacyElement.prototype;\n\n})();\n(function() {\n\n    'use strict';\n\n    var utils = Polymer.Utils;\n    var LegacyElementMixin = Polymer.LegacyElementMixin;\n\n    var metaProps = {\n      attached: true,\n      detached: true,\n      ready: true,\n      created: true,\n      beforeRegister: true,\n      registered: true,\n      attributeChanged: true,\n      // meta objects\n      behaviors: true,\n      hostAttributes: true,\n      properties: true,\n      observers: true,\n      listeners: true\n    }\n\n    var mixinBehaviors = function(behaviors, klass) {\n      for (var i=0; i<behaviors.length; i++) {\n        var b = behaviors[i];\n        if (b) {\n          klass = Array.isArray(b) ? mixinBehaviors(b, klass) :\n            MixinBehavior(b, klass);\n        }\n      }\n      return klass;\n    }\n\n    var flattenBehaviors = function(behaviors, list) {\n      list = list || [];\n      if (behaviors) {\n        for (var i=0; i < behaviors.length; i++) {\n          var b = behaviors[i];\n          if (b) {\n            if (Array.isArray(b)) {\n              flattenBehaviors(b, list);\n            } else {\n              if (list.indexOf(b) < 0) {\n                list.push(b);\n              }\n            }\n          } else {\n            Polymer._warn('behavior is null, check for missing or 404 import');\n          }\n        }\n      }\n      return list;\n    }\n\n    var MixinBehavior = function(behavior, Base) {\n\n      var config = {\n        properties: behavior.properties,\n        observers: behavior.observers\n      };\n\n      class PolymerGenerated extends Base {\n\n        static get config() {\n          return config;\n        }\n\n        _invokeFunction(fn, args) {\n          if (fn) {\n            fn.apply(this, args);\n          }\n        }\n\n        constructor() {\n          super();\n          // call `registered` only if it was not called for *this* constructor\n          if (!PolymerGenerated.hasOwnProperty('__registered')) {\n            PolymerGenerated.__registered = true;\n            if (behavior.registered) {\n              behavior.registered.call(Object.getPrototypeOf(this));\n            }\n          }\n        }\n\n        created() {\n          super.created();\n          this._invokeFunction(behavior.created);\n        }\n\n        _applyConfigMetaData() {\n          super._applyConfigMetaData();\n          this._applyConfigMetaDataFrom(behavior);\n        }\n\n        _applyListeners() {\n          super._applyListeners();\n          this._applyConfigListeners(behavior);\n        }\n\n        _ensureAttributes() {\n          // ensure before calling super so that subclasses can override defaults\n          this._ensureConfigAttributes(behavior);\n          super._ensureAttributes();\n        }\n\n        ready() {\n          super.ready();\n          this._invokeFunction(behavior.ready);\n        }\n\n        attached() {\n          super.attached();\n          this._invokeFunction(behavior.attached);\n        }\n\n        detached() {\n          super.detached();\n          this._invokeFunction(behavior.detached);\n        }\n\n        attributeChanged(name, old, value) {\n          super.attributeChanged(name, old, value);\n          this._invokeFunction(behavior.attributeChanged, [name, old, value]);\n        }\n      }\n\n      for (var p in behavior) {\n        if (!(p in metaProps))\n          utils.copyOwnProperty(p, behavior, PolymerGenerated.prototype);\n      }\n\n      return PolymerGenerated;\n    }\n\n    //var nativeConstructors = {};\n\n    /**\n     * Returns the native element constructor for the tag specified.\n     *\n     * @method getNativeConstructor\n     * @param {string} tag  HTML tag name.\n     * @return {Object} Native constructor for specified tag.\n    */\n    var getNativeConstructor = function(tag) {\n      if (tag) {\n        // TODO(kschaaf): hack, for now, needs to be removed; needed to allow\n        // subclassing from overwridden constructors in CEv1 polyfill\n        return window['HTML' + tag[0].toUpperCase() + tag.slice(1) + 'Element'];\n        // var c = nativeConstructors[tag];\n        // if (!c) {\n        //   c = document.createElement(tag).constructor;\n        //   nativeConstructors[tag] = c;\n        // }\n        // return c;\n      } else {\n        return HTMLElement;\n      }\n    }\n\n    Polymer.Class = function(info) {\n      if (!info) {\n        Polymer._warn('Polymer.Class requires `info` argument');\n      }\n      var klass = LegacyElementMixin(getNativeConstructor(info.extends));\n      var behaviors = flattenBehaviors(info.behaviors);\n      if (behaviors.length) {\n        klass = mixinBehaviors(behaviors, klass);\n      }\n      klass = MixinBehavior(info, klass);\n      // decorate klass with registration info\n      klass.is = info.is;\n      klass.extends = info.extends;\n      // behaviors on prototype for BC...\n      behaviors.reverse();\n      klass.prototype.behaviors = behaviors;\n      // NOTE: while we could call `beforeRegister` here to maintain\n      // some BC, the state of the element at this point is not as it was in 1.0\n      // In 1.0, the method was called *after* mixing prototypes together\n      // but before processing of meta-objects. Since this is now done\n      // in 1 step via `MixinBehavior`, this is no longer possible.\n      // However, *most* work (not setting `is`) that was previously done in\n      // `beforeRegister` should be possible in `registered`.\n      return klass;\n    }\n\n  })();\n(function() {\n\n    class DomBind extends Polymer.BatchedEffects(HTMLElement) {\n\n      connectedCallback() {\n        this.render();\n      }\n\n      disconnectedCallback() {\n        this._removeChildren();\n      }\n\n      _insertChildren() {\n        this.parentNode.insertBefore(this.root, this);\n      }\n\n      _removeChildren() {\n        if (this._children) {\n          for (var i=0; i<this._children.length; i++) {\n            this.root.appendChild(this._children[i]);\n          }\n        }\n      }\n\n      /**\n       * Forces the element to render its content. This is typically only\n       * necessary to call if HTMLImports with the async attribute are used.\n       */\n      render() {\n        if (!this._children) {\n          var template = this.querySelector('template');\n          if (!template) {\n            throw new Error('dom-bind requires a <template> child');\n          }\n          this._bindTemplate(template);\n          this.root = this._stampTemplate(template);\n          this._children = [];\n          for (var n=this.root.firstChild; n; n=n.nextSibling) {\n            this._children[this._children.length] = n;\n          }\n          this._flushProperties(this);\n        }\n        this._insertChildren();\n        this.dispatchEvent(new CustomEvent('dom-change'));\n      }\n\n    }\n\n    customElements.define('dom-bind', DomBind);\n\n  })();\n(function() {\n    'use strict';\n\n    let TemplateInstanceBase = Polymer.BatchedEffects(class{});\n\n    function PatchedHTMLTemplateElement() {\n      return PatchedHTMLTemplateElement._newInstance;\n    }\n    PatchedHTMLTemplateElement.prototype = Object.create(HTMLTemplateElement.prototype, {\n      constructor: {\n        value: PatchedHTMLTemplateElement\n      }\n    });\n    PatchedHTMLTemplateElement._newInstance = null;\n\n    class DataTemplate extends Polymer.BatchedEffects(PatchedHTMLTemplateElement) {\n      static upgradeTemplate(template) {\n        PatchedHTMLTemplateElement._newInstance = template;\n        Object.setPrototypeOf(template, DataTemplate.prototype);\n        new DataTemplate();\n        PatchedHTMLTemplateElement._newInstance = null;\n      }\n    }\n\n    class Templatizer {\n\n      static enqueueDebouncer(debouncer) {\n        this._debouncerQueue = this._debouncerQueue || [];\n        this._debouncerQueue.push(debouncer);\n      }\n\n      static flush() {\n        if (this._debouncerQueue) {\n          while (this._debouncerQueue.length) {\n            this._debouncerQueue.shift().flush();\n          }\n        }\n      }\n\n      templatize(template, options) {\n        let klass = template.__templatizerClass;\n        // Return memoized class if already templatized (allows calling\n        // templatize on same template more than once)\n        if (klass) {\n          return klass;\n        }\n        // Ensure template has _content\n        template._content = template._content || template.content;\n        // Get memoized base class for the prototypical template\n        let baseClass = template._content.__templatizerClass;\n        if (!baseClass) {\n          baseClass = template._content.__templatizerClass =\n            this._createTemplatizerClass(template, options);\n        }\n        // Host property forwarding must be installed onto template instance\n        this._prepHostProperties(template, options);\n        // Subclass base class to add template reference for this specific\n        // template\n        klass = class TemplateInstance extends baseClass {};\n        klass.prototype.__template = template;\n        klass.instCount = 0;   \n        template.__templatizerClass = klass;         \n        return klass;\n      }\n\n      _createTemplatizerClass(template, options) {\n        // Anonymous class created by the templatizer\n        var klass = class extends TemplateInstanceBase {\n          //TODO(kschaaf): for debugging; remove?\n          get localName() { return 'template#' + this.__template.id + '/TemplateInstance' }\n          constructor(host, props) {\n            super();\n            //TODO(kschaaf): for debugging; remove?\n            this.id = this.constructor.instCount;\n            this.constructor.instCount++;\n            this.__dataHost = this.__template;\n            // Root data host is always calculated based on the template, which\n            // is guaranteed to have a dataHost (due to being in _nodes for\n            // purposes of getting templateContent)\n            let templateHost = this.__template.__dataHost;\n            this._rootDataHost = \n              templateHost && templateHost._rootDataHost || templateHost;\n            this._hostProps = template._content._hostProps;\n            this._configureProperties(props);\n            //TODO(kschaaf): id marshalling unnecessary\n            this.root = this._stampTemplate(template);\n            // Save list of stamped children\n            var children = this.children = [];\n            for (var n = this.root.firstChild; n; n=n.nextSibling) {\n              children.push(n);\n              n._templateInstance = this;\n            }\n            if (host.__hideTemplateChildren__) {\n              this._showHideChildren(true);\n            }\n            this._flushProperties(true);\n          }\n          _showHideChildren(hide) {\n            var c = this.children;\n            for (var i=0; i<c.length; i++) {\n              var n = c[i];\n              // Ignore non-changes\n              if (Boolean(hide) != Boolean(n.__hideTemplateChildren__)) {\n                if (n.nodeType === Node.TEXT_NODE) {\n                  if (hide) {\n                    n.__polymerTextContent__ = n.textContent;\n                    n.textContent = '';\n                  } else {\n                    n.textContent = n.__polymerTextContent__;\n                  }\n                } else if (n.style) {\n                  if (hide) {\n                    n.__polymerDisplay__ = n.style.display;\n                    n.style.display = 'none';\n                  } else {\n                    n.style.display = n.__polymerDisplay__;\n                  }\n                }\n              }\n              n.__hideTemplateChildren__ = hide;\n              if (n._showHideChildren) {\n                n._showHideChildren(hide);\n              }\n            }\n          }\n          _configureProperties(props) {\n            if (props) {\n              for (var iprop in options.instanceProps) {\n                if (iprop in props) {\n                  this[iprop] = props[iprop];\n                }\n              }\n            }\n            for (var hprop in this._hostProps) {\n              this[hprop] = this.__template['_host_' + hprop];\n            }\n          }\n          forwardProperty(prop, value, host) {\n            this._setPendingProperty(prop, value);\n            if (host) {\n              host._enqueueClient(this);\n            }\n          }\n          flushProperties() {\n            this._flushProperties(true);\n          }\n          dispatchEvent() { }\n          _addEventListenerToNode(node, eventName, handler) {\n            if (this._rootDataHost) {\n              this._rootDataHost._addEventListenerToNode(node, eventName, (e) => {\n                e.model = this;\n                handler(e);\n              });              \n            }\n          }\n        }\n        klass.prototype._bindTemplate(template);\n        this._prepInstanceProperties(klass, template, options);\n        return klass;\n      }\n\n      _prepHostProperties(template, options) {\n        if (options.fwdHostPropToInstance) {\n          // Provide data API\n          // TODO(kschaaf): memoize template proto\n          DataTemplate.upgradeTemplate(template);\n          // Add template - >instances effects\n          // and host <- template effects\n          var hostProps = template._content._hostProps;\n          for (var prop in hostProps) {\n            template._addPropertyEffect('_host_' + prop,\n              template.PROPERTY_EFFECT_TYPES.PROPAGATE,\n              {fn: this._createHP2IEffector(prop, options)});\n            template._createNotifyingProperty('_host_' + prop);\n          }\n          // Mix any pre-bound data into __data; no need to flush this to\n          // instances since they pull from the template at instance-time\n          if (template.__dataProto) {\n            Polymer.Utils.mixin(template.__data, template.__dataProto);\n          }\n        }\n      }\n\n      _createHP2IEffector(hostProp, options) {\n        return function(template, prop, value) {\n          options.fwdHostPropToInstance.call(template, template,\n            prop.substring('_host_'.length), value);\n        }\n      }\n\n      _prepInstanceProperties(klass, template, options) {\n        var hostProps = template._content._hostProps || {};\n        for (var iprop in options.instanceProps) {\n          delete hostProps[iprop];\n          if (options.fwdInstancePropToHost) {\n            klass.prototype._addPropertyEffect(iprop,\n              klass.prototype.PROPERTY_EFFECT_TYPES.NOTIFY,\n              {fn: this._createIP2HEffector(iprop, options)});\n          }\n        }\n        if (options.fwdHostPropToInstance && template.__dataHost) {\n          for (var hprop in hostProps) {\n            klass.prototype._addPropertyEffect(hprop,\n              klass.prototype.PROPERTY_EFFECT_TYPES.NOTIFY,\n              {fn: this._createHP2HEffector()})\n          }\n        }\n      }\n\n      _createIP2HEffector(instProp, options) {\n        return function fwdInstPropToHost(inst, prop, value, old, info, fromAbove) {\n          if (!fromAbove) {\n            options.fwdInstancePropToHost.call(inst, inst, prop, value);\n          }\n        }\n      }\n\n      _createHP2HEffector() {\n        return function fwdHostPropToHost(inst, prop, value, old, info, fromAbove) {\n          if (!fromAbove) {\n            // TODO(kschaaf) This does not take advantage of the efficient\n            // upward flow in batched effects\n            inst.__template._setProperty('_host_' + prop, value);\n          }\n        }\n      }\n\n      /**\n       * Returns the template \"model\" associated with a given element, which\n       * serves as the binding scope for the template instance the element is\n       * contained in. A template model is an instance of `Polymer.Base`, and\n       * should be used to manipulate data associated with this template instance.\n       *\n       * Example:\n       *\n       *   var model = modelForElement(el);\n       *   if (model.index < 10) {\n       *     model.set('item.checked', true);\n       *   }\n       *\n       * @method modelForElement\n       * @param {HTMLElement} el Element for which to return a template model.\n       * @return {Object<Polymer.Base>} Model representing the binding scope for\n       *   the element.\n       */\n      modelForElement(host, el) {\n        var model;\n        while (el) {\n          // An element with a _templateInstance marks the top boundary\n          // of a scope; walk up until we find one, and then ensure that\n          // its __dataHost matches `this`, meaning this dom-repeat stamped it\n          if ((model = el._templateInstance)) {\n            // Found an element stamped by another template; keep walking up\n            // from its __dataHost\n            if (model.__dataHost != host) {\n              el = model.__dataHost;\n            } else {\n              return model;\n            }\n          } else {\n            // Still in a template scope, keep going up until\n            // a _templateInstance is found\n            el = el.parentNode;\n          }\n        }\n      }\n    }\n\n    Polymer.Templatizer = Templatizer;\n\n  })();\n(function() {\n  'use strict';\n\n  var templatizer = new Polymer.Templatizer();\n\n  Polymer({\n\n    is: 'dom-repeat',\n\n    _template: null,\n\n    /**\n     * Fired whenever DOM is added or removed by this template (by\n     * default, rendering occurs lazily).  To force immediate rendering, call\n     * `render`.\n     *\n     * @event dom-change\n     */\n\n    properties: {\n\n      /**\n       * An array containing items determining how many instances of the template\n       * to stamp and that that each template instance should bind to.\n       */\n      items: {\n        type: Array\n      },\n\n      /**\n       * The name of the variable to add to the binding scope for the array\n       * element associated with a given template instance.\n       */\n      as: {\n        type: String,\n        value: 'item'\n      },\n\n      /**\n       * The name of the variable to add to the binding scope with the index\n       * for the inst.  If `sort` is provided, the index will reflect the\n       * sorted order (rather than the original array order).\n       */\n      indexAs: {\n        type: String,\n        value: 'index'\n      },\n\n      /**\n       * The name of the variable to add to the binding scope with the index\n       * for the inst.  If `sort` is provided, the index will reflect the\n       * sorted order (rather than the original array order).\n       */\n      itemsIndexAs: {\n        type: String,\n        value: 'itemsIndex'\n      },\n\n      /**\n       * A function that should determine the sort order of the items.  This\n       * property should either be provided as a string, indicating a method\n       * name on the element's host, or else be an actual function.  The\n       * function should match the sort function passed to `Array.sort`.\n       * Using a sort function has no effect on the underlying `items` array.\n       */\n      sort: {\n        type: Function,\n        observer: '_sortChanged'\n      },\n\n      /**\n       * A function that can be used to filter items out of the view.  This\n       * property should either be provided as a string, indicating a method\n       * name on the element's host, or else be an actual function.  The\n       * function should match the sort function passed to `Array.filter`.\n       * Using a filter function has no effect on the underlying `items` array.\n       */\n      filter: {\n        type: Function,\n        observer: '_filterChanged'\n      },\n\n      /**\n       * When using a `filter` or `sort` function, the `observe` property\n       * should be set to a space-separated list of the names of item\n       * sub-fields that should trigger a re-sort or re-filter when changed.\n       * These should generally be fields of `item` that the sort or filter\n       * function depends on.\n       */\n      observe: {\n        type: String,\n        observer: '_observeChanged'\n      },\n\n      /**\n       * When using a `filter` or `sort` function, the `delay` property\n       * determines a debounce time after a change to observed item\n       * properties that must pass before the filter or sort is re-run.\n       * This is useful in rate-limiting shuffing of the view when\n       * item changes may be frequent.\n       */\n      delay: Number,\n\n      /**\n       * Count of currently rendered items after `filter` (if any) has been applied.\n       * If \"chunking mode\" is enabled, `renderedItemCount` is updated each time a\n       * set of template instances is rendered.\n       *\n       */\n      renderedItemCount: {\n        type: Number,\n        notify: true,\n        readOnly: true\n      },\n\n      /**\n       * Defines an initial count of template instances to render after setting\n       * the `items` array, before the next paint, and puts the `dom-repeat`\n       * into \"chunking mode\".  The remaining items will be created and rendered\n       * incrementally at each animation frame therof until all instances have\n       * been rendered.\n       */\n      initialCount: {\n        type: Number,\n        observer: '_initializeChunking'\n      },\n\n      /**\n       * When `initialCount` is used, this property defines a frame rate to\n       * target by throttling the number of instances rendered each frame to\n       * not exceed the budget for the target frame rate.  Setting this to a\n       * higher number will allow lower latency and higher throughput for\n       * things like event handlers, but will result in a longer time for the\n       * remaining items to complete rendering.\n       */\n      targetFramerate: {\n        type: Number,\n        value: 20\n      },\n\n      _targetFrameTime: {\n        type: Number,\n        computed: '_computeFrameTime(targetFramerate)'\n      }\n\n    },\n\n    observers: [\n      '_itemsChanged(items.*)'\n    ],\n\n    created: function() {\n      this._instances = [];\n      this._pool = [];\n      this._limit = Infinity;\n      var self = this;\n      this._boundRenderChunk = function() {\n        self._renderChunk();\n      };\n    },\n\n    detached: function() {\n      this.__isDetached = true;\n      for (var i=0; i<this._instances.length; i++) {\n        this._detachInstance(i);\n      }\n    },\n\n    attached: function() {\n      // only perform attachment if the element was previously detached.\n      if (this.__isDetached) {\n        this.__isDetached = false;\n        var parent = this.parentNode;\n        for (var i=0; i<this._instances.length; i++) {\n          this._attachInstance(i, parent);\n        }\n      }\n    },\n\n    ensureTemplatized: function() {\n      // Templatizing (generating the instance constructor) needs to wait\n      // until ready, since won't have its template content handed back to\n      // it until then\n      if (!this._ctor) {\n        var template = this.template = this.querySelector('template');\n        template.__domRepeat = this;\n        if (!template) {\n          throw new Error('dom-repeat requires a <template> child');\n        }\n        // Template instance props that should be excluded from forwarding\n        var instanceProps = {};\n        instanceProps[this.as] = true;\n        instanceProps[this.indexAs] = true;\n        instanceProps[this.itemsIndexAs] = true;\n        this._ctor = templatizer.templatize(template, {\n          instanceProps: instanceProps,\n          fwdHostPropToInstance: function(template, prop, value) {\n            let repeater = template.__domRepeat;\n            var i$ = repeater._instances;\n            for (var i=0, inst; (i<i$.length) && (inst=i$[i]); i++) {\n              inst.forwardProperty(prop, value, template);\n            }\n          },\n          fwdInstancePropToHost: function(inst, prop, value) {\n            let repeater = inst.__template.__domRepeat;\n            if (Polymer.Path.matches(repeater.as, prop)) {\n              let idx = inst[repeater.itemsIndexAs];\n              if (prop == repeater.as) {\n                repeater.items[idx] = value;\n              }\n              let path = Polymer.Path.translate(repeater.as, 'items.' + idx, prop);\n              repeater.notifyPath(path, value);\n            }\n          }\n        });\n      }\n    },\n\n    _getRootDataHost: function() {\n      return this.__dataHost._rootDataHost || this.__dataHost;\n    },\n\n    _sortChanged: function(sort) {\n      var dataHost = this._getRootDataHost();\n      this._sortFn = sort && (typeof sort == 'function' ? sort :\n        function() { return dataHost[sort].apply(dataHost, arguments); });\n      this._needFullRefresh = true;\n      if (this.items) {\n        this._debounceRender();\n      }\n    },\n\n    _filterChanged: function(filter) {\n      var dataHost = this._getRootDataHost();\n      this._filterFn = filter && (typeof filter == 'function' ? filter :\n        function() { return dataHost[filter].apply(dataHost, arguments); });\n      this._needFullRefresh = true;\n      if (this.items) {\n        this._debounceRender();\n      }\n    },\n\n    _computeFrameTime: function(rate) {\n      return Math.ceil(1000/rate);\n    },\n\n    _initializeChunking: function() {\n      if (this.initialCount) {\n        this._limit = this.initialCount;\n        this._chunkCount = this.initialCount;\n        this._lastChunkTime = performance.now();\n      }\n    },\n\n    _tryRenderChunk: function() {\n      // Debounced so that multiple calls through `_render` between animation\n      // frames only queue one new rAF (e.g. array mutation & chunked render)\n      if (this.items && this._limit < this.items.length) {\n        this.debounce('renderChunk', this._requestRenderChunk);\n      }\n    },\n\n    _requestRenderChunk: function() {\n      requestAnimationFrame(this._boundRenderChunk);\n    },\n\n    _renderChunk: function() {\n      // Simple auto chunkSize throttling algorithm based on feedback loop:\n      // measure actual time between frames and scale chunk count by ratio\n      // of target/actual frame time\n      var currChunkTime = performance.now();\n      var ratio = this._targetFrameTime / (currChunkTime - this._lastChunkTime);\n      this._chunkCount = Math.round(this._chunkCount * ratio) || 1;\n      this._limit += this._chunkCount;\n      this._lastChunkTime = currChunkTime;\n      this._debounceRender();\n    },\n\n    _observeChanged: function() {\n      this._observePaths = this.observe &&\n        this.observe.replace('.*', '.').split(' ');\n    },\n\n    _itemsChanged: function(change) {\n      if (this.items && !Array.isArray(this.items)) {\n        console.warn('dom-repeat expected array for `items`, found', this.items);\n      }\n      // If path was to an item (e.g. 'items.3' or 'items.3.foo'), forward the\n      // path to that instance synchronously (retuns false for non-item paths)\n      if (!this._forwardItemPath(change.path, change.value)) {\n        // Otherwise, the array was reset ('items') or spliced ('items.splices'),\n        // so queue a full refresh\n        this._needFullRefresh = true;\n        this._initializeChunking();\n        this._debounceRender();\n      }\n    },\n\n    _checkObservedPaths: function(path) {\n      if (this._observePaths) {\n        path = path.substring(path.indexOf('.') + 1);\n        var paths = this._observePaths;\n        for (var i=0; i<paths.length; i++) {\n          if (path.indexOf(paths[i]) === 0) {\n            this._needFullRefresh = true;\n            if (this.delay) {\n              this.debounce('render', this._render, this.delay);\n            } else {\n              this._debounceRender();\n            }\n            return true;\n          }\n        }\n      }\n    },\n\n    _debounceRender: function() {\n      Polymer.Templatizer.enqueueDebouncer(this.debounce('_render', this._render));\n    },\n\n    /**\n     * Forces the element to render its content. Normally rendering is\n     * asynchronous to a provoking change. This is done for efficiency so\n     * that multiple changes trigger only a single render. The render method\n     * should be called if, for example, template rendering is required to\n     * validate application state.\n     */\n    render: function() {\n      // Queue this repeater, then flush all in order\n      this._needFullRefresh = true;\n      this._debounceRender();\n      Polymer.Templatizer.flush();\n    },\n\n    _render: function() {\n      this.ensureTemplatized();\n      this._applyFullRefresh();\n      // Reset the pool\n      // TODO(kschaaf): Reuse pool across turns and nested templates\n      // Requires updating hostProps and dealing with the fact that path\n      // notifications won't reach instances sitting in the pool, which\n      // could result in out-of-sync instances since simply re-setting\n      // `item` may not be sufficient if the pooled instance happens to be\n      // the same item.\n      this._pool.length = 0;\n      // Set rendered item count\n      this._setRenderedItemCount(this._instances.length);\n      // Notify users\n      this.fire('dom-change');\n      // Check to see if we need to render more items\n      this._tryRenderChunk();\n    },\n\n    _applyFullRefresh: function() {\n      const items = this.items || [];\n      let isntIdxToItemsIdx = new Array(items.length);\n      for (let i=0; i<items.length; i++) {\n        isntIdxToItemsIdx[i] = i;\n      }\n      // Apply user filter\n      if (this._filterFn) {\n        isntIdxToItemsIdx = isntIdxToItemsIdx.filter((i, idx, array) =>\n          this._filterFn(items[i], idx, array));\n      }\n      // Apply user sort\n      if (this._sortFn) {\n        isntIdxToItemsIdx.sort((a, b) => this._sortFn(items[a], items[b]));\n      }\n      // items->inst map kept for item path forwarding\n      const itemsIdxToInstIdx = this._itemsIdxToInstIdx = {};\n      let instIdx = 0;\n      // Generate instances and assign items\n      const limit = Math.min(isntIdxToItemsIdx.length, this._limit);\n      for (; instIdx<limit; instIdx++) {\n        let inst = this._instances[instIdx];\n        let itemIdx = isntIdxToItemsIdx[instIdx];\n        let item = items[itemIdx];\n        itemsIdxToInstIdx[itemIdx] = instIdx;\n        if (inst && instIdx < this._limit) {\n          inst.forwardProperty(this.as, item);\n          inst.forwardProperty(this.indexAs, instIdx);\n          inst.forwardProperty(this.itemsIndexAs, itemIdx);\n          inst.flushProperties();\n        } else {\n          this._insertInstance(item, instIdx, itemIdx);\n        }\n      }\n      // Remove any extra instances from previous state\n      for (let i=this._instances.length-1; i>=instIdx; i--) {\n        this._detachAndRemoveInstance(i);\n      }\n    },\n\n    _detachInstance: function(idx) {\n      var inst = this._instances[idx];\n      //TODO(sorvell): why is this necessary?\n      if (inst.children) {\n        for (var i=0; i<inst.children.length; i++) {\n          var el = inst.children[i];\n          inst.root.appendChild(el);\n        }\n      }\n      return inst;\n    },\n\n    _attachInstance: function(idx, parent) {\n      var inst = this._instances[idx];\n      parent.insertBefore(inst.root, this);\n    },\n\n    _detachAndRemoveInstance: function(idx) {\n      var inst = this._detachInstance(idx);\n      if (inst) {\n        this._pool.push(inst);\n      }\n      this._instances.splice(idx, 1);\n    },\n\n    _stampInstance: function(item, instIdx, itemIdx) {\n      var model = {};\n      model[this.as] = item;\n      model[this.indexAs] = instIdx;\n      model[this.itemsIndexAs] = itemIdx;\n      return new this._ctor(this, model);\n    },\n\n    _insertInstance: function(item, instIdx, itemIdx) {\n      var inst = this._pool.pop();\n      if (inst) {\n        // TODO(kschaaf): If the pool is shared across turns, hostProps\n        // need to be re-set to reused instances in addition to item\n        inst.forwardProperty(this.as, item);\n        inst.forwardProperty(this.indexAs, instIdx);\n        inst.forwardProperty(this.itemsIndexAs, itemIdx);\n      } else {\n        inst = this._stampInstance(item, instIdx, itemIdx);\n      }\n      var beforeRow = this._instances[instIdx + 1];\n      var beforeNode = beforeRow ? beforeRow.children[0] : this;\n      // TODO(sorvell): remove when fragment patching is auto-magic.\n      if (window.ShadyDOM) {\n        ShadyDOM.patch(inst.root);\n      }\n      this.parentNode.insertBefore(inst.root, beforeNode);\n      this._instances[instIdx] = inst;\n      return inst;\n    },\n\n    // Implements extension point from Templatizer mixin\n    _showHideChildren: function(hidden) {\n      for (var i=0; i<this._instances.length; i++) {\n        this._instances[i]._showHideChildren(hidden);\n      }\n    },\n\n    // Called as a side effect of a host items.<key>.<path> path change,\n    // responsible for notifying item.<path> changes to inst for key\n    _forwardItemPath: function(path, value) {\n      if (this._itemsIdxToInstIdx) {\n        path = path.slice(6); // 'items.'.length == 6\n        var dot = path.indexOf('.');\n        var itemsIdx = dot < 0 ? path : path.substring(0, dot);\n        var instIdx = this._itemsIdxToInstIdx[itemsIdx];\n        var inst = this._instances[instIdx];\n        if (inst) {\n          path = dot < 0 ? '' : path.substring(dot+1);\n          if (!this._checkObservedPaths(path)) {\n            inst.forwardProperty(this.as + (path ? '.' + path : ''), value);\n            inst.flushProperties();\n            return true;\n          }        \n        }\n      }\n    },\n\n    /**\n     * Returns the item associated with a given element stamped by\n     * this `dom-repeat`.\n     *\n     * Note, to modify sub-properties of the item,\n     * `modelForElement(el).set('item.<sub-prop>', value)`\n     * should be used.\n     *\n     * @method itemForElement\n     * @param {HTMLElement} el Element for which to return the item.\n     * @return {any} Item associated with the element.\n     */\n    itemForElement: function(el) {\n      var instance = this.modelForElement(el);\n      return instance && instance[this.as];\n    },\n\n    /**\n     * Returns the inst index for a given element stamped by this `dom-repeat`.\n     * If `sort` is provided, the index will reflect the sorted order (rather\n     * than the original array order).\n     *\n     * @method indexForElement\n     * @param {HTMLElement} el Element for which to return the index.\n     * @return {any} Row index associated with the element (note this may\n     *   not correspond to the array index if a user `sort` is applied).\n     */\n    indexForElement: function(el) {\n      var instance = this.modelForElement(el);\n      return instance && instance[this.indexAs];\n    },\n\n    /**\n     * Returns the template \"model\" associated with a given element, which\n     * serves as the binding scope for the template instance the element is\n     * contained in. A template model is an instance of `Polymer.Base`, and\n     * should be used to manipulate data associated with this template instance.\n     *\n     * Example:\n     *\n     *   var model = modelForElement(el);\n     *   if (model.index < 10) {\n     *     model.set('item.checked', true);\n     *   }\n     *\n     * @method modelForElement\n     * @param {HTMLElement} el Element for which to return a template model.\n     * @return {Object<Polymer.Base>} Model representing the binding scope for\n     *   the element.\n     */\n    modelForElement: function(el) {\n      return templatizer.modelForElement(this.template, el);\n    }\n\n  });\n\n})();\n(function() {\n\n  var templatizer = new Polymer.Templatizer();\n\n  /**\n   * Stamps the template iff the `if` property is truthy.\n   *\n   * When `if` becomes falsey, the stamped content is hidden but not\n   * removed from dom. When `if` subsequently becomes truthy again, the content\n   * is simply re-shown. This approach is used due to its favorable performance\n   * characteristics: the expense of creating template content is paid only\n   * once and lazily.\n   *\n   * Set the `restamp` property to true to force the stamped content to be\n   * created / destroyed when the `if` condition changes.\n   */\n  Polymer({\n\n    is: 'dom-if',\n\n    _template: null,\n\n    /**\n     * Fired whenever DOM is added or removed/hidden by this template (by\n     * default, rendering occurs lazily).  To force immediate rendering, call\n     * `render`.\n     *\n     * @event dom-change\n     */\n\n    properties: {\n\n      /**\n       * A boolean indicating whether this template should stamp.\n       */\n      'if': {\n        type: Boolean,\n        observer: '_queueRender'\n      },\n\n      /**\n       * When true, elements will be removed from DOM and discarded when `if`\n       * becomes false and re-created and added back to the DOM when `if`\n       * becomes true.  By default, stamped elements will be hidden but left\n       * in the DOM when `if` becomes false, which is generally results\n       * in better performance.\n       */\n      restamp: {\n        type: Boolean,\n        observer: '_queueRender'\n      }\n\n    },\n\n    _queueRender: function() {\n      Polymer.Templatizer.enqueueDebouncer(this.debounce('_render', this._render));\n    },\n\n    detached: function() {\n      if (!this.parentNode ||\n          (this.parentNode.nodeType == Node.DOCUMENT_FRAGMENT_NODE &&\n           !this.parentNode.host)) {\n        this._teardownInstance();\n      }\n    },\n\n    attached: function() {\n      if (this.if) {\n        // NOTE: ideally should not be async, but node can be attached\n        // when shady dom is in the act of distributing/composing so push it out\n        this.async(this._ensureInstance);\n      }\n    },\n\n    /**\n     * Forces the element to render its content. Normally rendering is\n     * asynchronous to a provoking change. This is done for efficiency so\n     * that multiple changes trigger only a single render. The render method\n     * should be called if, for example, template rendering is required to\n     * validate application state.\n     */\n    render: function() {\n      Polymer.Templatizer.flush();\n    },\n\n    _render: function() {\n      if (this.if) {\n        this._ensureInstance();\n        this._showHideChildren();\n      } else if (this.restamp) {\n        this._teardownInstance();\n      }\n      if (!this.restamp && this._instance) {\n        this._showHideChildren();\n      }\n      if (this.if != this._lastIf) {\n        this.fire('dom-change');\n        this._lastIf = this.if;\n      }\n    },\n\n    _ensureInstance: function() {\n      var parentNode = this.parentNode;\n      // Guard against element being detached while render was queued\n      if (parentNode) {\n        if (!this._ctor) {\n          var template = this.querySelector('template');\n          template.__domIf = this;\n          if (!template) {\n            throw new Error('dom-if requires a <template> child');\n          }\n          this._ctor = templatizer.templatize(template, {\n            fwdHostPropToInstance: function(host, prop, value) {\n              let domif = template.__domIf;\n              if (domif._instance) {\n                domif._instance.forwardProperty(prop, value, host);\n              }\n            }\n          });\n        }\n        if (!this._instance) {\n          this._instance = new this._ctor(this);\n          var root = this._instance.root;\n          parentNode.insertBefore(root, this);\n        } else {\n          var c$ = this._instance.children;\n          if (c$ && c$.length) {\n            // Detect case where dom-if was re-attached in new position\n            var lastChild = this.previousSibling;\n            if (lastChild !== c$[c$.length-1]) {\n              for (var i=0, n; (i<c$.length) && (n=c$[i]); i++) {\n                parentNode.insertBefore(n, this);\n              }\n            }\n          }\n        }\n      }\n    },\n\n    _teardownInstance: function() {\n      if (this._instance) {\n        var c$ = this._instance.children;\n        if (c$ && c$.length) {\n          // use first child parent, for case when dom-if may have been detached\n          var parent = c$[0].parentNode;\n          for (var i=0, n; (i<c$.length) && (n=c$[i]); i++) {\n            parent.removeChild(n);\n          }\n        }\n        this._instance = null;\n      }\n    },\n\n    _showHideChildren: function() {\n      var hidden = this.__hideTemplateChildren__ || !this.if;\n      if (this._instance) {\n        this._instance._showHideChildren(hidden);\n      }\n    }\n\n  });\n\n})();\n(function() {\n  'use strict';\n  // NOTE: CustomStyle must be loaded prior to loading Polymer.\n  // To support asynchronous loading of custom-style, an async import\n  // can be made that loads custom-style and then polymer.\n  if (window.CustomStyle) {\n    var attr = 'include';\n    window.CustomStyle.processHook = function(style) {\n      var include = style.getAttribute(attr);\n      if (!include) {\n        return;\n      }\n      style.removeAttribute(attr);\n      style.textContent = Polymer.StyleGather.cssFromModules(include) + style.textContent;\n    };\n  }\n\n})();\n(function () {\n  var _bindingRegex_patch = {\n    // Issue with https://github.com/Polymer/polymer/issues/3349 \n    _bindingRegex_1_2_4: (function() {\n      var IDENT  = '(?:' + '[a-zA-Z_$][\\\\w.:$-*]*' + ')';\n      var NUMBER = '(?:' + '[-+]?[0-9]*\\\\.?[0-9]+(?:[eE][-+]?[0-9]+)?' + ')';\n      var SQUOTE_STRING = '(?:' + '\\'(?:[^\\'\\\\\\\\]|\\\\\\\\.)*\\'' + ')';\n      var DQUOTE_STRING = '(?:' + '\"(?:[^\"\\\\\\\\]|\\\\\\\\.)*\"' + ')';\n      var STRING = '(?:' + SQUOTE_STRING + '|' + DQUOTE_STRING + ')';\n      var ARGUMENT = '(?:' + IDENT + '|' + NUMBER + '|' +  STRING + '\\\\s*' + ')';\n      var ARGUMENTS = '(?:' + ARGUMENT + '(?:,\\\\s*' + ARGUMENT + ')*' + ')';\n      var ARGUMENT_LIST = '(?:' + '\\\\(\\\\s*' +\n                                    '(?:' + ARGUMENTS + '?' + ')' +\n                                  '\\\\)\\\\s*' + ')';\n      var BINDING = '(' + IDENT + '\\\\s*' + ARGUMENT_LIST + '?' + ')'; // Group 3\n      var OPEN_BRACKET = '(\\\\[\\\\[|{{)' + '\\\\s*';\n      var CLOSE_BRACKET = '(?:]]|}})';\n      var NEGATE = '(?:(!)\\\\s*)?'; // Group 2\n      var EXPRESSION = OPEN_BRACKET + NEGATE + BINDING + CLOSE_BRACKET;\n      return new RegExp(EXPRESSION, \"g\");\n    })(),\n\n    // Fix from https://github.com/TimvdLippe/polymer/blob/fix-binding-with-dash/src/lib/annotations/annotations.html\n    _bindingRegex_1_2_4_patched: (function() {\n      var IDENT  = '(?:' + '[a-zA-Z_\\\\$][\\\\w\\\\.:\\\\$\\\\-\\\\*]*' + ')';\n      var NUMBER = '(?:' + '[-+]?[0-9]*\\\\.?[0-9]+(?:[eE][-+]?[0-9]+)?' + ')';\n      var SQUOTE_STRING = '(?:' + '\\'(?:[^\\'\\\\\\\\]|\\\\\\\\.)*\\'' + ')';\n      var DQUOTE_STRING = '(?:' + '\"(?:[^\"\\\\\\\\]|\\\\\\\\.)*\"' + ')';\n      var STRING = '(?:' + SQUOTE_STRING + '|' + DQUOTE_STRING + ')';\n      var ARGUMENT = '(?:' + IDENT + '|' + NUMBER + '|' +  STRING + '\\\\s*' + ')';\n      var ARGUMENTS = '(?:' + ARGUMENT + '(?:,\\\\s*' + ARGUMENT + ')*' + ')';\n      var ARGUMENT_LIST = '(?:' + '\\\\(\\\\s*' +\n                                    '(?:' + ARGUMENTS + '?' + ')' +\n                                  '\\\\)\\\\s*' + ')';\n      var BINDING = '(' + IDENT + '\\\\s*' + ARGUMENT_LIST + '?' + ')'; // Group 3\n      var OPEN_BRACKET = '(\\\\[\\\\[|{{)' + '\\\\s*';\n      var CLOSE_BRACKET = '(?:]]|}})';\n      var NEGATE = '(?:(!)\\\\s*)?'; // Group 2\n      var EXPRESSION = OPEN_BRACKET + NEGATE + BINDING + CLOSE_BRACKET;\n      return new RegExp(EXPRESSION, \"g\");\n    })()\n  };\n    \n  if (!Polymer.Element && Polymer.Annotations._bindingRegex.toString() === \n      _bindingRegex_patch._bindingRegex_1_2_4.toString()) {\n    console.log('Fixing Polymer issue#3349 by patching Polymer.Annotations._bindingRegex for Polymer 1.2.4');\n    Polymer.Annotations._bindingRegex = _bindingRegex_patch._bindingRegex_1_2_4_patched;\n  }\n})();\n'use strict';\n\n  Polymer({\n    is: 'iron-request',\n\n    hostAttributes: {\n      hidden: true\n    },\n\n    properties: {\n\n      /**\n       * A reference to the XMLHttpRequest instance used to generate the\n       * network request.\n       *\n       * @type {XMLHttpRequest}\n       */\n      xhr: {\n        type: Object,\n        notify: true,\n        readOnly: true,\n        value: function() {\n          return new XMLHttpRequest();\n        }\n      },\n\n      /**\n       * A reference to the parsed response body, if the `xhr` has completely\n       * resolved.\n       *\n       * @type {*}\n       * @default null\n       */\n      response: {\n        type: Object,\n        notify: true,\n        readOnly: true,\n        value: function() {\n          return null;\n        }\n      },\n\n      /**\n       * A reference to the status code, if the `xhr` has completely resolved.\n       */\n      status: {\n        type: Number,\n        notify: true,\n        readOnly: true,\n        value: 0\n      },\n\n      /**\n       * A reference to the status text, if the `xhr` has completely resolved.\n       */\n      statusText: {\n        type: String,\n        notify: true,\n        readOnly: true,\n        value: ''\n      },\n\n      /**\n       * A promise that resolves when the `xhr` response comes back, or rejects\n       * if there is an error before the `xhr` completes.\n       *\n       * @type {Promise}\n       */\n      completes: {\n        type: Object,\n        readOnly: true,\n        notify: true,\n        value: function() {\n          return new Promise(function (resolve, reject) {\n            this.resolveCompletes = resolve;\n            this.rejectCompletes = reject;\n          }.bind(this));\n        }\n      },\n\n      /**\n       * An object that contains progress information emitted by the XHR if\n       * available.\n       *\n       * @default {}\n       */\n      progress: {\n        type: Object,\n        notify: true,\n        readOnly: true,\n        value: function() {\n          return {};\n        }\n      },\n\n      /**\n       * Aborted will be true if an abort of the request is attempted.\n       */\n      aborted: {\n        type: Boolean,\n        notify: true,\n        readOnly: true,\n        value: false,\n      },\n\n      /**\n       * Errored will be true if the browser fired an error event from the\n       * XHR object (mainly network errors).\n       */\n      errored: {\n        type: Boolean,\n        notify: true,\n        readOnly: true,\n        value: false\n      },\n\n      /**\n       * TimedOut will be true if the XHR threw a timeout event.\n       */\n      timedOut: {\n        type: Boolean,\n        notify: true,\n        readOnly: true,\n        value: false\n      }\n    },\n\n    /**\n     * Succeeded is true if the request succeeded. The request succeeded if it\n     * loaded without error, wasn't aborted, and the status code is ≥ 200, and\n     * < 300, or if the status code is 0.\n     *\n     * The status code 0 is accepted as a success because some schemes - e.g.\n     * file:// - don't provide status codes.\n     *\n     * @return {boolean}\n     */\n    get succeeded() {\n      if (this.errored || this.aborted || this.timedOut) {\n        return false;\n      }\n      var status = this.xhr.status || 0;\n\n      // Note: if we are using the file:// protocol, the status code will be 0\n      // for all outcomes (successful or otherwise).\n      return status === 0 ||\n        (status >= 200 && status < 300);\n    },\n\n    /**\n     * Sends an HTTP request to the server and returns the XHR object.\n     *\n     * The handling of the `body` parameter will vary based on the Content-Type\n     * header. See the docs for iron-ajax's `body` param for details.\n     *\n     * @param {{\n     *   url: string,\n     *   method: (string|undefined),\n     *   async: (boolean|undefined),\n     *   body: (ArrayBuffer|ArrayBufferView|Blob|Document|FormData|null|string|undefined|Object),\n     *   headers: (Object|undefined),\n     *   handleAs: (string|undefined),\n     *   jsonPrefix: (string|undefined),\n     *   withCredentials: (boolean|undefined)}} options -\n     *     url The url to which the request is sent.\n     *     method The HTTP method to use, default is GET.\n     *     async By default, all requests are sent asynchronously. To send synchronous requests,\n     *         set to false.\n     *     body The content for the request body for POST method.\n     *     headers HTTP request headers.\n     *     handleAs The response type. Default is 'text'.\n     *     withCredentials Whether or not to send credentials on the request. Default is false.\n     *   timeout: (Number|undefined)\n     * @return {Promise}\n     */\n    send: function (options) {\n      var xhr = this.xhr;\n\n      if (xhr.readyState > 0) {\n        return null;\n      }\n\n      xhr.addEventListener('progress', function (progress) {\n        this._setProgress({\n          lengthComputable: progress.lengthComputable,\n          loaded: progress.loaded,\n          total: progress.total\n        });\n      }.bind(this))\n\n      xhr.addEventListener('error', function (error) {\n        this._setErrored(true);\n        this._updateStatus();\n        this.rejectCompletes(error);\n      }.bind(this));\n\n      xhr.addEventListener('timeout', function (error) {\n        this._setTimedOut(true);\n        this._updateStatus();\n        this.rejectCompletes(error);\n      }.bind(this));\n\n      xhr.addEventListener('abort', function () {\n        this._updateStatus();\n        this.rejectCompletes(new Error('Request aborted.'));\n      }.bind(this));\n\n      // Called after all of the above.\n      xhr.addEventListener('loadend', function () {\n        this._updateStatus();\n        this._setResponse(this.parseResponse());\n\n        if (!this.succeeded) {\n          this.rejectCompletes(new Error('The request failed with status code: ' + this.xhr.status));\n          return;\n        }\n\n        this.resolveCompletes(this);\n      }.bind(this));\n\n      this.url = options.url;\n      xhr.open(\n        options.method || 'GET',\n        options.url,\n        options.async !== false\n      );\n\n      var acceptType = {\n        'json': 'application/json',\n        'text': 'text/plain',\n        'html': 'text/html',\n        'xml': 'application/xml',\n        'arraybuffer': 'application/octet-stream'\n      }[options.handleAs];\n      var headers = options.headers || Object.create(null);\n      var newHeaders = Object.create(null);\n      for (var key in headers) {\n        newHeaders[key.toLowerCase()] = headers[key];\n      }\n      headers = newHeaders;\n\n      if (acceptType && !headers['accept']) {\n        headers['accept'] = acceptType;\n      }\n      Object.keys(headers).forEach(function (requestHeader) {\n        if (/[A-Z]/.test(requestHeader)) {\n          Polymer.Base._error('Headers must be lower case, got', requestHeader);\n        }\n        xhr.setRequestHeader(\n          requestHeader,\n          headers[requestHeader]\n        );\n      }, this);\n\n      if (options.async !== false) {\n        if (options.async) {\n          xhr.timeout = options.timeout;\n        }\n\n        var handleAs = options.handleAs;\n\n        // If a JSON prefix is present, the responseType must be 'text' or the\n        // browser won’t be able to parse the response.\n        if (!!options.jsonPrefix || !handleAs) {\n          handleAs = 'text';\n        }\n\n        // In IE, `xhr.responseType` is an empty string when the response\n        // returns. Hence, caching it as `xhr._responseType`.\n        xhr.responseType = xhr._responseType = handleAs;\n\n        // Cache the JSON prefix, if it exists.\n        if (!!options.jsonPrefix) {\n          xhr._jsonPrefix = options.jsonPrefix;\n        }\n      }\n\n      xhr.withCredentials = !!options.withCredentials;\n\n\n      var body = this._encodeBodyObject(options.body, headers['content-type']);\n\n      xhr.send(\n        /** @type {ArrayBuffer|ArrayBufferView|Blob|Document|FormData|\n                   null|string|undefined} */\n        (body));\n\n      return this.completes;\n    },\n\n    /**\n     * Attempts to parse the response body of the XHR. If parsing succeeds,\n     * the value returned will be deserialized based on the `responseType`\n     * set on the XHR.\n     *\n     * @return {*} The parsed response,\n     * or undefined if there was an empty response or parsing failed.\n     */\n    parseResponse: function () {\n      var xhr = this.xhr;\n      var responseType = xhr.responseType || xhr._responseType;\n      var preferResponseText = !this.xhr.responseType;\n      var prefixLen = (xhr._jsonPrefix && xhr._jsonPrefix.length) || 0;\n\n      try {\n        switch (responseType) {\n          case 'json':\n            // If the xhr object doesn't have a natural `xhr.responseType`,\n            // we can assume that the browser hasn't parsed the response for us,\n            // and so parsing is our responsibility. Likewise if response is\n            // undefined, as there's no way to encode undefined in JSON.\n            if (preferResponseText || xhr.response === undefined) {\n              // Try to emulate the JSON section of the response body section of\n              // the spec: https://xhr.spec.whatwg.org/#response-body\n              // That is to say, we try to parse as JSON, but if anything goes\n              // wrong return null.\n              try {\n                return JSON.parse(xhr.responseText);\n              } catch (_) {\n                return null;\n              }\n            }\n\n            return xhr.response;\n          case 'xml':\n            return xhr.responseXML;\n          case 'blob':\n          case 'document':\n          case 'arraybuffer':\n            return xhr.response;\n          case 'text':\n          default: {\n            // If `prefixLen` is set, it implies the response should be parsed\n            // as JSON once the prefix of length `prefixLen` is stripped from\n            // it. Emulate the behavior above where null is returned on failure\n            // to parse.\n            if (prefixLen) {\n              try {\n                return JSON.parse(xhr.responseText.substring(prefixLen));\n              } catch (_) {\n                return null;\n              }\n            }\n            return xhr.responseText;\n          }\n        }\n      } catch (e) {\n        this.rejectCompletes(new Error('Could not parse response. ' + e.message));\n      }\n    },\n\n    /**\n     * Aborts the request.\n     */\n    abort: function () {\n      this._setAborted(true);\n      this.xhr.abort();\n    },\n\n    /**\n     * @param {*} body The given body of the request to try and encode.\n     * @param {?string} contentType The given content type, to infer an encoding\n     *     from.\n     * @return {*} Either the encoded body as a string, if successful,\n     *     or the unaltered body object if no encoding could be inferred.\n     */\n    _encodeBodyObject: function(body, contentType) {\n      if (typeof body == 'string') {\n        return body;  // Already encoded.\n      }\n      var bodyObj = /** @type {Object} */ (body);\n      switch(contentType) {\n        case('application/json'):\n          return JSON.stringify(bodyObj);\n        case('application/x-www-form-urlencoded'):\n          return this._wwwFormUrlEncode(bodyObj);\n      }\n      return body;\n    },\n\n    /**\n     * @param {Object} object The object to encode as x-www-form-urlencoded.\n     * @return {string} .\n     */\n    _wwwFormUrlEncode: function(object) {\n      if (!object) {\n        return '';\n      }\n      var pieces = [];\n      Object.keys(object).forEach(function(key) {\n        // TODO(rictic): handle array values here, in a consistent way with\n        //   iron-ajax params.\n        pieces.push(\n            this._wwwFormUrlEncodePiece(key) + '=' +\n            this._wwwFormUrlEncodePiece(object[key]));\n      }, this);\n      return pieces.join('&');\n    },\n\n    /**\n     * @param {*} str A key or value to encode as x-www-form-urlencoded.\n     * @return {string} .\n     */\n    _wwwFormUrlEncodePiece: function(str) {\n      // Spec says to normalize newlines to \\r\\n and replace %20 spaces with +.\n      // jQuery does this as well, so this is likely to be widely compatible.\n      if (str === null) {\n        return '';\n      }\n      return encodeURIComponent(str.toString().replace(/\\r?\\n/g, '\\r\\n'))\n          .replace(/%20/g, '+');\n    },\n\n    /**\n     * Updates the status code and status text.\n     */\n    _updateStatus: function() {\n      this._setStatus(this.xhr.status);\n      this._setStatusText((this.xhr.statusText === undefined) ? '' : this.xhr.statusText);\n    }\n  });\n'use strict';\n\n  Polymer({\n\n    is: 'iron-ajax',\n\n    /**\n     * Fired when a request is sent.\n     *\n     * @event request\n     * @event iron-ajax-request\n     */\n\n    /**\n     * Fired when a response is received.\n     *\n     * @event response\n     * @event iron-ajax-response\n     */\n\n    /**\n     * Fired when an error is received.\n     *\n     * @event error\n     * @event iron-ajax-error\n     */\n\n    hostAttributes: {\n      hidden: true\n    },\n\n    properties: {\n      /**\n       * The URL target of the request.\n       */\n      url: {\n        type: String\n      },\n\n      /**\n       * An object that contains query parameters to be appended to the\n       * specified `url` when generating a request. If you wish to set the body\n       * content when making a POST request, you should use the `body` property\n       * instead.\n       */\n      params: {\n        type: Object,\n        value: function() {\n          return {};\n        }\n      },\n\n      /**\n       * The HTTP method to use such as 'GET', 'POST', 'PUT', or 'DELETE'.\n       * Default is 'GET'.\n       */\n      method: {\n        type: String,\n        value: 'GET'\n      },\n\n      /**\n       * HTTP request headers to send.\n       *\n       * Example:\n       *\n       *     <iron-ajax\n       *         auto\n       *         url=\"http://somesite.com\"\n       *         headers='{\"X-Requested-With\": \"XMLHttpRequest\"}'\n       *         handle-as=\"json\"></iron-ajax>\n       *\n       * Note: setting a `Content-Type` header here will override the value\n       * specified by the `contentType` property of this element.\n       */\n      headers: {\n        type: Object,\n        value: function() {\n          return {};\n        }\n      },\n\n      /**\n       * Content type to use when sending data. If the `contentType` property\n       * is set and a `Content-Type` header is specified in the `headers`\n       * property, the `headers` property value will take precedence.\n       *\n       * Varies the handling of the `body` param.\n       */\n      contentType: {\n        type: String,\n        value: null\n      },\n\n      /**\n       * Body content to send with the request, typically used with \"POST\"\n       * requests.\n       *\n       * If body is a string it will be sent unmodified.\n       *\n       * If Content-Type is set to a value listed below, then\n       * the body will be encoded accordingly.\n       *\n       *    * `content-type=\"application/json\"`\n       *      * body is encoded like `{\"foo\":\"bar baz\",\"x\":1}`\n       *    * `content-type=\"application/x-www-form-urlencoded\"`\n       *      * body is encoded like `foo=bar+baz&x=1`\n       *\n       * Otherwise the body will be passed to the browser unmodified, and it\n       * will handle any encoding (e.g. for FormData, Blob, ArrayBuffer).\n       *\n       * @type (ArrayBuffer|ArrayBufferView|Blob|Document|FormData|null|string|undefined|Object)\n       */\n      body: {\n        type: Object,\n        value: null\n      },\n\n      /**\n       * Toggle whether XHR is synchronous or asynchronous. Don't change this\n       * to true unless You Know What You Are Doing™.\n       */\n      sync: {\n        type: Boolean,\n        value: false\n      },\n\n      /**\n       * Specifies what data to store in the `response` property, and\n       * to deliver as `event.detail.response` in `response` events.\n       *\n       * One of:\n       *\n       *    `text`: uses `XHR.responseText`.\n       *\n       *    `xml`: uses `XHR.responseXML`.\n       *\n       *    `json`: uses `XHR.responseText` parsed as JSON.\n       *\n       *    `arraybuffer`: uses `XHR.response`.\n       *\n       *    `blob`: uses `XHR.response`.\n       *\n       *    `document`: uses `XHR.response`.\n       */\n      handleAs: {\n        type: String,\n        value: 'json'\n      },\n\n      /**\n       * Set the withCredentials flag on the request.\n       */\n      withCredentials: {\n        type: Boolean,\n        value: false\n      },\n\n      /**\n       * Set the timeout flag on the request.\n       */\n      timeout: {\n        type: Number,\n        value: 0\n      },\n\n      /**\n       * If true, automatically performs an Ajax request when either `url` or\n       * `params` changes.\n       */\n      auto: {\n        type: Boolean,\n        value: false\n      },\n\n      /**\n       * If true, error messages will automatically be logged to the console.\n       */\n      verbose: {\n        type: Boolean,\n        value: false\n      },\n\n      /**\n       * The most recent request made by this iron-ajax element.\n       */\n      lastRequest: {\n        type: Object,\n        notify: true,\n        readOnly: true\n      },\n\n      /**\n       * True while lastRequest is in flight.\n       */\n      loading: {\n        type: Boolean,\n        notify: true,\n        readOnly: true\n      },\n\n      /**\n       * lastRequest's response.\n       *\n       * Note that lastResponse and lastError are set when lastRequest finishes,\n       * so if loading is true, then lastResponse and lastError will correspond\n       * to the result of the previous request.\n       *\n       * The type of the response is determined by the value of `handleAs` at\n       * the time that the request was generated.\n       *\n       * @type {Object}\n       */\n      lastResponse: {\n        type: Object,\n        notify: true,\n        readOnly: true\n      },\n\n      /**\n       * lastRequest's error, if any.\n       *\n       * @type {Object}\n       */\n      lastError: {\n        type: Object,\n        notify: true,\n        readOnly: true\n      },\n\n      /**\n       * An Array of all in-flight requests originating from this iron-ajax\n       * element.\n       */\n      activeRequests: {\n        type: Array,\n        notify: true,\n        readOnly: true,\n        value: function() {\n          return [];\n        }\n      },\n\n      /**\n       * Length of time in milliseconds to debounce multiple automatically generated requests.\n       */\n      debounceDuration: {\n        type: Number,\n        value: 0,\n        notify: true\n      },\n\n      /**\n       * Prefix to be stripped from a JSON response before parsing it.\n       *\n       * In order to prevent an attack using CSRF with Array responses\n       * (http://haacked.com/archive/2008/11/20/anatomy-of-a-subtle-json-vulnerability.aspx/)\n       * many backends will mitigate this by prefixing all JSON response bodies\n       * with a string that would be nonsensical to a JavaScript parser.\n       *\n       */\n      jsonPrefix: {\n        type: String,\n        value: ''\n      },\n\n      /**\n       * By default, iron-ajax's events do not bubble. Setting this attribute will cause its\n       * request and response events as well as its iron-ajax-request, -response,  and -error\n       * events to bubble to the window object. The vanilla error event never bubbles when\n       * using shadow dom even if this.bubbles is true because a scoped flag is not passed with\n       * it (first link) and because the shadow dom spec did not used to allow certain events,\n       * including events named error, to leak outside of shadow trees (second link).\n       * https://www.w3.org/TR/shadow-dom/#scoped-flag\n       * https://www.w3.org/TR/2015/WD-shadow-dom-20151215/#events-that-are-not-leaked-into-ancestor-trees\n       */\n      bubbles: {\n        type: Boolean,\n        value: false\n      },\n\n      _boundHandleResponse: {\n        type: Function,\n        value: function() {\n          return this._handleResponse.bind(this);\n        }\n      }\n    },\n\n    observers: [\n      '_requestOptionsChanged(url, method, params.*, headers, contentType, ' +\n          'body, sync, handleAs, jsonPrefix, withCredentials, timeout, auto)'\n    ],\n\n    /**\n     * The query string that should be appended to the `url`, serialized from\n     * the current value of `params`.\n     *\n     * @return {string}\n     */\n    get queryString () {\n      var queryParts = [];\n      var param;\n      var value;\n\n      for (param in this.params) {\n        value = this.params[param];\n        param = window.encodeURIComponent(param);\n\n        if (Array.isArray(value)) {\n          for (var i = 0; i < value.length; i++) {\n            queryParts.push(param + '=' + window.encodeURIComponent(value[i]));\n          }\n        } else if (value !== null) {\n          queryParts.push(param + '=' + window.encodeURIComponent(value));\n        } else {\n          queryParts.push(param);\n        }\n      }\n\n      return queryParts.join('&');\n    },\n\n    /**\n     * The `url` with query string (if `params` are specified), suitable for\n     * providing to an `iron-request` instance.\n     *\n     * @return {string}\n     */\n    get requestUrl() {\n      var queryString = this.queryString;\n      var url = this.url || '';\n\n      if (queryString) {\n        var bindingChar = url.indexOf('?') >= 0 ? '&' : '?';\n        return url + bindingChar + queryString;\n      }\n\n      return url;\n    },\n\n    /**\n     * An object that maps header names to header values, first applying the\n     * the value of `Content-Type` and then overlaying the headers specified\n     * in the `headers` property.\n     *\n     * @return {Object}\n     */\n    get requestHeaders() {\n      var headers = {};\n      var contentType = this.contentType;\n      if (contentType == null && (typeof this.body === 'string')) {\n        contentType = 'application/x-www-form-urlencoded';\n      }\n      if (contentType) {\n        headers['content-type'] = contentType;\n      }\n      var header;\n\n      if (this.headers instanceof Object) {\n        for (header in this.headers) {\n          headers[header] = this.headers[header].toString();\n        }\n      }\n\n      return headers;\n    },\n\n    /**\n     * Request options suitable for generating an `iron-request` instance based\n     * on the current state of the `iron-ajax` instance's properties.\n     *\n     * @return {{\n     *   url: string,\n     *   method: (string|undefined),\n     *   async: (boolean|undefined),\n     *   body: (ArrayBuffer|ArrayBufferView|Blob|Document|FormData|null|string|undefined|Object),\n     *   headers: (Object|undefined),\n     *   handleAs: (string|undefined),\n     *   jsonPrefix: (string|undefined),\n     *   withCredentials: (boolean|undefined)}}\n     */\n    toRequestOptions: function() {\n      return {\n        url: this.requestUrl || '',\n        method: this.method,\n        headers: this.requestHeaders,\n        body: this.body,\n        async: !this.sync,\n        handleAs: this.handleAs,\n        jsonPrefix: this.jsonPrefix,\n        withCredentials: this.withCredentials,\n        timeout: this.timeout\n      };\n    },\n\n    /**\n     * Performs an AJAX request to the specified URL.\n     *\n     * @return {!IronRequestElement}\n     */\n    generateRequest: function() {\n      var request = /** @type {!IronRequestElement} */ (document.createElement('iron-request'));\n      var requestOptions = this.toRequestOptions();\n\n      this.push('activeRequests', request);\n\n      request.completes.then(\n        this._boundHandleResponse\n      ).catch(\n        this._handleError.bind(this, request)\n      ).then(\n        this._discardRequest.bind(this, request)\n      );\n\n      request.send(requestOptions);\n\n      this._setLastRequest(request);\n      this._setLoading(true);\n\n      this.fire('request', {\n        request: request,\n        options: requestOptions\n      }, {\n        bubbles: this.bubbles,\n        composed: true\n      });\n\n      this.fire('iron-ajax-request', {\n        request: request,\n        options: requestOptions\n      }, {\n        bubbles: this.bubbles,\n        composed: true\n      });\n\n      return request;\n    },\n\n    _handleResponse: function(request) {\n      if (request === this.lastRequest) {\n        this._setLastResponse(request.response);\n        this._setLastError(null);\n        this._setLoading(false);\n      }\n      this.fire('response', request, {\n        bubbles: this.bubbles,\n        composed: true\n      });\n      this.fire('iron-ajax-response', request, {\n        bubbles: this.bubbles,\n        composed: true\n      });\n    },\n\n    _handleError: function(request, error) {\n      if (this.verbose) {\n        Polymer.Base._error(error);\n      }\n\n      if (request === this.lastRequest) {\n        this._setLastError({\n          request: request,\n          error: error,\n          status: request.xhr.status,\n          statusText: request.xhr.statusText,\n          response: request.xhr.response\n        });\n        this._setLastResponse(null);\n        this._setLoading(false);\n      }\n\n      // Tests fail if this goes after the normal this.fire('error', ...)\n      this.fire('iron-ajax-error', {\n        request: request,\n        error: error\n      }, {\n        bubbles: this.bubbles,\n        composed: true\n      });\n\n      this.fire('error', {\n        request: request,\n        error: error\n      }, {\n        bubbles: this.bubbles,\n        composed: true\n      });\n    },\n\n    _discardRequest: function(request) {\n      var requestIndex = this.activeRequests.indexOf(request);\n\n      if (requestIndex > -1) {\n        this.splice('activeRequests', requestIndex, 1);\n      }\n    },\n\n    _requestOptionsChanged: function() {\n      this.debounce('generate-request', function() {\n        if (this.url == null) {\n          return;\n        }\n\n        if (this.auto) {\n          this.generateRequest();\n        }\n      }, this.debounceDuration);\n    },\n\n  });\n(function () {\n  var intlLibraryScript;\n  var intlLibraryLoadingStatus = 'initializing';\n  var _setupIntlPolyfillCalled = false;\n\n  /**\n   * Set up Intl polyfill if required\n   */\n  function _setupIntlPolyfill () {\n    // Polyfill Intl if required\n    var intlLibraryUrl = this.resolveUrl('../intl/dist/Intl.min.js');\n    if (window.Intl) {\n      if (window.IntlPolyfill && window.Intl === window.IntlPolyfill) {\n        intlLibraryLoadingStatus = 'loaded';\n      }\n      else {\n        intlLibraryLoadingStatus = 'native';\n      }\n    }\n    else {\n      intlLibraryLoadingStatus = 'loading';\n      intlLibraryScript = document.createElement('script');\n      intlLibraryScript.setAttribute('src', intlLibraryUrl);\n      intlLibraryScript.setAttribute('id', 'intl-js-library');\n      intlLibraryScript.addEventListener('load', function intlLibraryLoaded (e) {\n        intlLibraryLoadingStatus = 'loaded';\n        e.target.removeEventListener('load', intlLibraryLoaded);\n        return false;\n      });\n      var s = document.querySelector('script') || document.body;\n      s.parentNode.insertBefore(intlLibraryScript, s);\n    }\n  }\n\n  /**\n   * Set up polyfill locale of Intl if required\n   *\n   * @param {String} locale Target locale to polyfill\n   * @param {Function} callback Callback function to handle locale load\n   * @return {Boolean} true if supported; false if callback will be called\n   */\n  function _setupIntlPolyfillLocale (locale, callback) {\n    if (!window.IntlPolyfill) {\n      switch (intlLibraryLoadingStatus) {\n      case 'loading':\n        if (intlLibraryScript) {\n          var libraryLoadedBindThis = function (e) {\n            _setupIntlPolyfillLocale.call(this, locale, callback);\n            e.target.removeEventListener('load', libraryLoadedBindThis);\n          }.bind(this);\n          intlLibraryScript.addEventListener('load', libraryLoadedBindThis);\n          return false;\n        }\n        else {\n          console.error('Intl.js is not being loaded');\n        }\n        break;\n      // impossible cases\n      case 'initializing':\n      case 'loaded':\n      case 'native':\n      default:\n        /* istanbul ignore next: these cases are impossible */\n        break;\n      }\n    }\n    else {\n      if (intlLibraryLoadingStatus !== 'native') {\n        var supported = Intl.NumberFormat.supportedLocalesOf(locale, { localeMatcher: 'lookup' });\n        var script;\n        var intlScript;\n        if (supported.length === 0) {\n          // load the locale\n          var fallbackLanguages = _enumerateFallbackLanguages(locale);\n          locale = fallbackLanguages.shift();\n          script = document.querySelector('script#intl-js-locale-' + locale);\n          if (!script) {\n            script = document.createElement('script');\n            script.setAttribute('id', 'intl-js-locale-' + locale);\n            script.setAttribute('src', this.resolveUrl('../intl/locale-data/jsonp/' + locale + '.js'));\n            var intlLocaleLoadedBindThis = function (e) {\n              if (e.target === script) {\n                e.target.removeEventListener('load', intlLocaleLoadedBindThis);\n                callback.call(this, locale);\n              }\n              return false;\n            }.bind(this);\n            var intlLocaleLoadErrorBindThis = function (e) {\n              if (e.target === script) {\n                e.target.removeEventListener('error', intlLocaleLoadErrorBindThis);\n                script.setAttribute('loaderror','');\n                locale = fallbackLanguages.shift();\n                if (!locale) {\n                  locale = this.DEFAULT_LANG;\n                }\n                var fallbackSupport = Intl.NumberFormat.supportedLocalesOf(locale, { localeMatcher: 'lookup'});\n                if (fallbackSupport.length > 0) {\n                  callback.call(this, locale);\n                }\n                else {\n                  _setupIntlPolyfillLocale.call(this, locale, callback);\n                }\n                return false;\n              }\n            }.bind(this);\n            script.addEventListener('load', intlLocaleLoadedBindThis);\n            script.addEventListener('error', intlLocaleLoadErrorBindThis);\n            intlScript = document.querySelector('script#intl-js-library') || document.body;\n            intlScript.parentNode.insertBefore(script, intlScript.nextSibling);\n          }\n          else if (!script.hasAttribute('loaderror')) {\n            // already loading\n            var anotherIntlLocaleLoadedBindThis = function (e) {\n              if (e.target === script) {\n                callback.call(this, locale);\n                e.target.removeEventListener('load', anotherIntlLocaleLoadedBindThis);\n                return false;\n              }\n            }.bind(this);\n            var anotherIntlLocaleLoadErrorBindThis = function (e) {\n              if (e.target === script) {\n                e.target.removeEventListener('error', anotherIntlLocaleLoadErrorBindThis);\n                locale = fallbackLanguages.shift();\n                if (!locale) {\n                  locale = this.DEFAULT_LANG;\n                }\n                var fallbackSupport = Intl.NumberFormat.supportedLocalesOf(locale, { localeMatcher: 'lookup'});\n                if (fallbackSupport.length > 0) {\n                  callback.call(this, locale);\n                }\n                else {\n                  _setupIntlPolyfillLocale.call(this, locale, callback);\n                }\n                return false;\n              }\n            }.bind(this);\n            script.addEventListener('load', anotherIntlLocaleLoadedBindThis);\n            script.addEventListener('error', anotherIntlLocaleLoadErrorBindThis);\n          }\n          else {\n            var enSupport = Intl.NumberFormat.supportedLocalesOf(this.DEFAULT_LANG, { localeMatcher: 'lookup'});\n            if (enSupport.length > 0) {\n              callback.call(this, this.DEFAULT_LANG);\n            }\n            else {\n              _setupIntlPolyfillLocale.call(this, this.DEFAULT_LANG, callback);\n            }\n          }\n          return false;\n        }\n      }\n    }\n    return true;\n  }\n\n  /**\n   * Enumerate fallback locales for the target locale.\n   * \n   * Subset implementation of BCP47 (https://tools.ietf.org/html/bcp47).\n   *\n   * ### Examples:\n   *\n   *| Target Locale | Fallback 1 | Fallback 2 | Fallback 3 |\n   *|:--------------|:-----------|:-----------|:-----------|\n   *| ru            | N/A        | N/A        | N/A        |\n   *| en-GB         | en         | N/A        | N/A        |\n   *| en-Latn-GB    | en-GB      | en-Latn    | en         |\n   *| fr-CA         | fr         | N/A        | N/A        |\n   *| zh-Hans-CN    | zh-Hans    | zh         | N/A        |\n   *| zh-CN         | zh-Hans    | zh         | N/A        |\n   *| zh-TW         | zh-Hant    | zh         | N/A        |\n   *\n   * #### Note:\n   *\n   * For zh language, the script Hans or Hant is supplied as its default script when a country/region code is supplied.\n   *\n   * @param {string} lang Target locale.\n   * @return {Array} List of fallback locales including the target locale at the index 0.\n   */\n  function _enumerateFallbackLanguages (lang) {\n    var result = [];\n    var parts;\n    var match;\n    var isExtLangCode = 0;\n    var extLangCode;\n    var isScriptCode = 0;\n    var scriptCode;\n    var isCountryCode = 0;\n    var countryCode;\n    var n;\n    if (!lang || lang.length === 0) {\n      result.push('');\n    }\n    else {\n      parts = lang.split(/[-_]/);\n      // normalize ISO-639-1 language codes\n      if (parts.length > 0 &&\n          parts[0].match(/^[A-Za-z]{2,3}$/)) {\n        // language codes have to be lowercased\n        // e.g. JA -> ja, FR -> fr\n        // TODO: normalize 3-letter codes to 2-letter codes\n        parts[0] = parts[0].toLowerCase();\n      }\n      // normalize ISO-639-3 extension language codes\n      if (parts.length >= 2 &&\n          parts[1].match(/^[A-Za-z]{3}$/) &&\n          !parts[1].match(/^[Cc][Hh][SsTt]$/)) { // exclude CHS,CHT\n        // extension language codes have to be lowercased\n        // e.g. YUE -> yue\n        isExtLangCode = 1;\n        extLangCode = parts[1] = parts[1].toLowerCase();\n      }\n      // normalize ISO-15924 script codes\n      if (parts.length >= isExtLangCode + 2 &&\n          (match = parts[isExtLangCode + 1].match(/^([A-Za-z])([A-Za-z]{3})$/))) {\n        // script codes have to be capitalized only at the first character\n        // e.g. HANs -> Hans, lAtN -> Latn\n        isScriptCode = 1;\n        scriptCode = parts[isExtLangCode + 1] = match[1].toUpperCase() + match[2].toLowerCase();\n      }\n      // normalize ISO-3166-1 country/region codes\n      if (parts.length >= isExtLangCode + isScriptCode + 2 &&\n          (match = parts[isExtLangCode + isScriptCode + 1].match(/^[A-Za-z0-9]{2,3}$/))) {\n        // country/region codes have to be capitalized\n        // e.g. cn -> CN, jP -> JP\n        isCountryCode = 1;\n        countryCode = parts[isExtLangCode + isScriptCode + 1] = match[0].toUpperCase();\n      }\n      // extensions have to be in lowercases\n      // e.g. U-cA-Buddhist -> u-ca-buddhist, X-LiNux -> x-linux\n      if (parts.length >= isExtLangCode + isScriptCode + isCountryCode + 2) {\n        for (n = isExtLangCode + isScriptCode + isCountryCode + 1; n < parts.length; n++) {\n          parts[n] = parts[n].toLowerCase();\n        }\n      }\n      // enumerate fallback languages\n      while (parts.length > 0) {\n        // normalize delimiters as -\n        // e.g. ja_JP -> ja-JP\n        result.push(parts.join('-'));\n        if (isScriptCode &&\n            isCountryCode &&\n            parts.length == isExtLangCode + isScriptCode + 2) {\n          // script code can be omitted to default\n          // e.g. en-Latn-GB -> en-GB, zh-Hans-CN -> zh-CN\n          parts.splice(isExtLangCode + isScriptCode, 1);\n          result.push(parts.join('-'));\n          parts.splice(isExtLangCode + isScriptCode, 0, scriptCode);\n        }\n        if (isExtLangCode &&\n            isCountryCode &&\n            parts.length == isExtLangCode + isScriptCode + 2) {\n          // ext lang code can be omitted to default\n          // e.g. zh-yue-Hans-CN -> zh-Hans-CN\n          parts.splice(isExtLangCode, 1);\n          result.push(parts.join('-'));\n          parts.splice(isExtLangCode, 0, extLangCode);\n        }\n        if (isExtLangCode &&\n            isScriptCode &&\n            parts.length == isExtLangCode + isScriptCode + 1) {\n          // ext lang code can be omitted to default\n          // e.g. zh-yue-Hans -> zh-Hans\n          parts.splice(isExtLangCode, 1);\n          result.push(parts.join('-'));\n          parts.splice(isExtLangCode, 0, extLangCode);\n        }\n        if (!isScriptCode &&\n            !isExtLangCode &&\n            isCountryCode &&\n            parts.length == 2) {\n          // default script code can be added in certain cases with country codes\n          // e.g. zh-CN -> zh-Hans-CN, zh-TW -> zh-Hant-TW\n          switch (result[result.length - 1]) {\n          case 'zh-CN':\n          case 'zh-CHS':\n            result.push('zh-Hans');\n            break;\n          case 'zh-TW':\n          case 'zh-SG':\n          case 'zh-HK':\n          case 'zh-CHT':\n            result.push('zh-Hant');\n            break;\n          default:\n            break;\n          }\n        }\n        parts.pop();\n      }\n    }\n    return result;\n  }\n\n  Polymer({\n    is: 'i18n-number',\n\n    /**\n     * Fired whenever the formatted text is rendered.\n     *\n     * @event rendered\n     */\n    \n    properties: {\n      /**\n       * The locale for the formatted number.\n       * The typical value is bound to `{{effectiveLang}}` when the containing element has\n       * `BehaviorsStore.I18nBehavior`.\n       */\n      _lang: {\n        type: String,\n        value: 'en',\n        observer: '_langChanged',\n        reflectToAttribute: false\n      },\n\n      /**\n       * Options object for Intl.NumberFormat \n       * (https://developer.mozilla.org/en-US/docs/Web/JavaScript/Reference/Global_Objects/NumberFormat)\n       */\n      options: {\n        type: Object,\n        observer: '_optionsChanged',\n        notify: true\n      },\n\n      /**\n       * Raw string synchronized with textContent\n       */\n      raw: {\n        type: String,\n        observer: '_rawChanged'\n      },\n\n      /**\n       * Offset for number\n       *\n       * Note: number = rawNumber - offset \n       */\n      offset: {\n        type: Number,\n        value: 0,\n        observer: '_offsetChanged'\n      },\n\n      /**\n       * Raw number parsed from raw\n       */\n      rawNumber: {\n        type: Number,\n        notify: true\n      },\n\n      /**\n       * Number calculated from rawNumber and offset\n       */\n      number: {\n        type: Number,\n        notify: true\n      },\n\n      /**\n       * Formatted string rendered for UI\n       *\n       * Note:\n       *   - While Intl.js Polyfill locale module is being loaded, the value is set as `undefined` until load completion.\n       */\n      formatted: {\n        type: String,\n        notify: true\n      }\n    },\n\n    observers: [\n      '_onOptionsPropertyChanged(options.*)'\n    ],\n\n    /**\n     * Default locale constant 'en'\n     */\n    DEFAULT_LANG: 'en',\n\n    /**\n     * Start loading Intl polyfill only once\n     */\n    registered: function () {\n      if (!_setupIntlPolyfillCalled) {\n        _setupIntlPolyfillCalled = true;\n        _setupIntlPolyfill.call(this);\n      }\n    },\n\n    ready: function () {\n      this._setupObservers();\n      this.raw = this.textNode.data;\n      if (!this.lang) {\n        // Polyfill non-functional default value for lang property in Safari 7\n        this.lang = this.DEFAULT_LANG;\n      }\n    },\n\n    attached: function () {\n      this.raw = this.textNode.data;\n    },\n\n    /**\n     * Set up observers of textContent mutations\n     */\n    _setupObservers: function () {\n      this.textNode = Polymer.dom(this).childNodes[0];\n      if (!this.textNode) {\n        Polymer.dom(this).appendChild(document.createTextNode(''));\n        this.textNode = Polymer.dom(this).childNodes[0];\n      }\n      this.observer = new MutationObserver(this._textMutated.bind(this));\n      this.observer.observe(this.textNode, { characterData: true });\n      this.observer.observe(this, { attributes: true, attributeFilter: [ 'lang' ] });\n      this.nodeObserver = Polymer.dom(this).observeNodes(function (info) {\n        if (info.addedNodes[0] && \n            info.addedNodes[0].nodeType === info.addedNodes[0].TEXT_NODE) {\n          this.textNode = info.addedNodes[0];\n          this.raw = this.textNode.data;\n          //console.log('i18n-number: text node added with ' + this.raw);\n          this.observer.observe(this.textNode, { characterData: true });\n        }\n      }.bind(this));\n    },\n\n    /**\n     * MutationObserver callback of the child text node to re-render on text mutations.\n     *\n     * @param {Array} mutations Array of MutationRecord (https://developer.mozilla.org/en-US/docs/Web/API/MutationObserver).\n     */\n    _textMutated: function (mutations) {\n      mutations.forEach(function(mutation) {\n        switch (mutation.type) {\n        case 'characterData':\n          //console.log('i18n-number: _textMutated: raw = ' + mutation.target.data);\n          if (this.raw !== mutation.target.data) {\n            this.raw = mutation.target.data;\n          }\n          break;\n        case 'attributes':\n          if (mutation.attributeName === 'lang') {\n            this._lang = this.lang;\n          }\n          break;\n        default:\n          /* istanbul ignore next: mutation.type is characterData or attributes */\n          break;\n        }\n      }, this);\n    },\n\n    /**\n     * Observer of `raw` property to re-render the formatted number.\n     *\n     * @param {string} raw New raw number string.\n     */\n    _rawChanged: function (raw) {\n      if (this.textNode) {\n        if (raw !== this.textNode.data) {\n          this.textNode.data = raw;\n        }\n        //console.log('i18n-number: _rawChanged: raw = ' + raw);\n        this._render(this.lang, this.options, raw, this.offset);\n      }\n    },\n\n    /**\n     * Observer of `lang` property to re-render the formatted number.\n     *\n     * @param {string} lang New locale.\n     */\n    _langChanged: function (lang) {\n      if (!lang) {\n        this.lang = this.DEFAULT_LANG;\n        lang = this.lang;\n      }\n      if (this.textNode) {\n        //console.log('i18n-number: _langChanged: lang = ' + lang);\n        this._render(lang, this.options, this.raw, this.offset);\n      }\n    },\n\n    /**\n     * Observer of `options` property to re-render the formatted number.\n     *\n     * @param {Object} options New options for Intl.NumberFormat.\n     */\n    _optionsChanged: function (options) {\n      if (this.textNode) {\n        //console.log('i18n-number: _optionsChanged: options = ' + JSON.stringify(options));\n        this._render(this.lang, options, this.raw, this.offset);\n      }\n    },\n\n    /**\n     * Observer of `options` sub-properties to re-render the formatted number.\n     */\n    _onOptionsPropertyChanged: function (/* changeRecord */) {\n      if (this.textNode) {\n        //console.log('_onOptionsPropertyChanged: path = ' + changeRecord.path + ' value = ' + JSON.stringify(changeRecord.value));\n        this._render(this.lang, this.options, this.raw, this.offset);\n      }\n    },\n\n    /**\n     * Observer of `offset` property to re-render the formatted number.\n     *\n     * @param {number} offset New offset.\n     */\n    _offsetChanged: function (offset) {\n      if (this.textNode) {\n        //console.log('i18n-number: _offsetChanged: offset = ' + offset);\n        this._render(this.lang, this.options, this.raw, offset);\n      }\n    },\n\n    /**\n     * Formats the number\n     *\n     * @param {string} lang Locale for formatting.\n     * @param {Object} options Options for Intl.NumberFormat.\n     * @param {number} number Number to format.\n     * @return {string} Formatted number string.\n     */\n    _formatNumber: function (lang, options, number) {\n      if (!lang) {\n        lang = this.DEFAULT_LANG;\n      }\n      switch (intlLibraryLoadingStatus) {\n      case 'loaded':\n      case 'loading':\n      default:\n        try {\n          if (_setupIntlPolyfillLocale.call(this, lang, function (locale) {\n            this.effectiveLang = locale;\n            this._render.call(this, locale, this.options, this.raw, this.offset);\n          }.bind(this))) {\n            return new Intl.NumberFormat(lang, options).format(number);\n          }\n          else {\n            // waiting for callback\n            return undefined;\n          }\n        }\n        catch (e) {\n          return number.toString();\n        }\n        /* istanbul ignore next: unreachable code due to returns in the same case */\n        break;\n      case 'native':\n        // native\n        try {\n          return new Intl.NumberFormat(lang, options).format(number);\n        }\n        catch (e) {\n          return number.toString();\n        }\n        /* istanbul ignore next: unreachable code due to returns in the same case */\n        break;\n      }\n    },\n\n    /**\n     * Renders the formatted number\n     *\n     * @param {string} lang Locale for formatting.\n     * @param {Object} options Options for Intl.NumberFormat.\n     * @param {string} raw Raw number string.\n     * @param {number} offset Offset for number.\n     */\n    _render: function (lang, options, raw, offset) {\n      // TODO: rendering may be done redundantly on property initializations\n      raw = raw.trim();\n      if (!raw && !this.formatted) {\n        //console.log('i18n-number: skipping _render as raw is null');\n        return;\n      }\n      if (raw) {\n        this.rawNumber = Number(raw);\n        this.number = this.rawNumber - offset;\n        this.formatted = this._formatNumber(lang, options, this.number);\n      }\n      else {\n        this.rawNumber = undefined;\n        this.number = undefined;\n        this.formatted = '';\n      }\n      this.$.number.textContent = this.formatted ? this.formatted : '';\n      //console.log('i18n-number: _render ' + this.formatted);\n      if (typeof this.formatted !== 'undefined') {\n        this.fire('rendered');\n      }\n    },\n\n    /**\n     * Renders the formatted number with the current parameters\n     *\n     * Note: (As of Polymer 1.2.3)\n     *   Explicit render() call is needed whenever the observer \n     *   `_onOptionsPropertyChanged(options.*)` is NOT invoked \n     *   after a property of `options` is changed.  An explicit call \n     *   `this.notifyPath('options', this.options, true)` can also \n     *   trigger re-rendering.\n     *\n     *   If the changed property of `options` is bound in an annotation\n     *   like `{{options.currency}}`, the observer `_onOptionsPropertyChanged(options.*)`\n     *   is automatically called whenever the property value is changed\n     *   and thus no explicit call of `render()` or `notifyPath()` is\n     *   required.\n     */\n    render: function () {\n      this._render(this.lang, this.options, this.raw, this.offset);\n    }\n  });\n  })();\nvar _cp = [\nfunction(n, ord) {\n  if (ord) return 'other';\n  return 'other';\n},\nfunction(n, ord) {\n  if (ord) return 'other';\n  return (n == 1) ? 'one' : 'other';\n},\nfunction(n, ord) {\n  if (ord) return 'other';\n  return ((n == 0\n          || n == 1)) ? 'one' : 'other';\n},\nfunction(n, ord) {\n  var s = String(n).split('.'), v0 = !s[1];\n  if (ord) return 'other';\n  return (n == 1 && v0) ? 'one' : 'other';\n}\n];\n\n(function (root, plurals) {\n  if (typeof define === 'function' && define.amd) {\n    define(plurals);\n  } else if (typeof exports === 'object') {\n    module.exports = plurals;\n  } else {\n    root.plurals = plurals;\n  }\n}(this, {\naf: _cp[1],\n\nak: _cp[2],\n\nam: function(n, ord) {\n  if (ord) return 'other';\n  return (n >= 0 && n <= 1) ? 'one' : 'other';\n},\n\nar: function(n, ord) {\n  var s = String(n).split('.'), t0 = Number(s[0]) == n,\n      n100 = t0 && s[0].slice(-2);\n  if (ord) return 'other';\n  return (n == 0) ? 'zero'\n      : (n == 1) ? 'one'\n      : (n == 2) ? 'two'\n      : ((n100 >= 3 && n100 <= 10)) ? 'few'\n      : ((n100 >= 11 && n100 <= 99)) ? 'many'\n      : 'other';\n},\n\nas: function(n, ord) {\n  if (ord) return ((n == 1 || n == 5 || n == 7 || n == 8 || n == 9\n          || n == 10)) ? 'one'\n      : ((n == 2\n          || n == 3)) ? 'two'\n      : (n == 4) ? 'few'\n      : (n == 6) ? 'many'\n      : 'other';\n  return (n >= 0 && n <= 1) ? 'one' : 'other';\n},\n\nasa: _cp[1],\n\nast: _cp[3],\n\naz: function(n, ord) {\n  var s = String(n).split('.'), i = s[0], i10 = i.slice(-1),\n      i100 = i.slice(-2), i1000 = i.slice(-3);\n  if (ord) return ((i10 == 1 || i10 == 2 || i10 == 5 || i10 == 7 || i10 == 8)\n          || (i100 == 20 || i100 == 50 || i100 == 70\n          || i100 == 80)) ? 'one'\n      : ((i10 == 3 || i10 == 4) || (i1000 == 100 || i1000 == 200\n          || i1000 == 300 || i1000 == 400 || i1000 == 500 || i1000 == 600 || i1000 == 700\n          || i1000 == 800\n          || i1000 == 900)) ? 'few'\n      : (i == 0 || i10 == 6 || (i100 == 40 || i100 == 60\n          || i100 == 90)) ? 'many'\n      : 'other';\n  return (n == 1) ? 'one' : 'other';\n},\n\nbe: function(n, ord) {\n  var s = String(n).split('.'), t0 = Number(s[0]) == n,\n      n10 = t0 && s[0].slice(-1), n100 = t0 && s[0].slice(-2);\n  if (ord) return ((n10 == 2\n          || n10 == 3) && n100 != 12 && n100 != 13) ? 'few' : 'other';\n  return (n10 == 1 && n100 != 11) ? 'one'\n      : ((n10 >= 2 && n10 <= 4) && (n100 < 12\n          || n100 > 14)) ? 'few'\n      : (t0 && n10 == 0 || (n10 >= 5 && n10 <= 9)\n          || (n100 >= 11 && n100 <= 14)) ? 'many'\n      : 'other';\n},\n\nbem: _cp[1],\n\nbez: _cp[1],\n\nbg: _cp[1],\n\nbh: _cp[2],\n\nbm: _cp[0],\n\nbn: function(n, ord) {\n  if (ord) return ((n == 1 || n == 5 || n == 7 || n == 8 || n == 9\n          || n == 10)) ? 'one'\n      : ((n == 2\n          || n == 3)) ? 'two'\n      : (n == 4) ? 'few'\n      : (n == 6) ? 'many'\n      : 'other';\n  return (n >= 0 && n <= 1) ? 'one' : 'other';\n},\n\nbo: _cp[0],\n\nbr: function(n, ord) {\n  var s = String(n).split('.'), t0 = Number(s[0]) == n,\n      n10 = t0 && s[0].slice(-1), n100 = t0 && s[0].slice(-2),\n      n1000000 = t0 && s[0].slice(-6);\n  if (ord) return 'other';\n  return (n10 == 1 && n100 != 11 && n100 != 71 && n100 != 91) ? 'one'\n      : (n10 == 2 && n100 != 12 && n100 != 72 && n100 != 92) ? 'two'\n      : (((n10 == 3 || n10 == 4) || n10 == 9) && (n100 < 10\n          || n100 > 19) && (n100 < 70 || n100 > 79) && (n100 < 90\n          || n100 > 99)) ? 'few'\n      : (n != 0 && t0 && n1000000 == 0) ? 'many'\n      : 'other';\n},\n\nbrx: _cp[1],\n\nbs: function(n, ord) {\n  var s = String(n).split('.'), i = s[0], f = s[1] || '', v0 = !s[1],\n      i10 = i.slice(-1), i100 = i.slice(-2), f10 = f.slice(-1), f100 = f.slice(-2);\n  if (ord) return 'other';\n  return (v0 && i10 == 1 && i100 != 11\n          || f10 == 1 && f100 != 11) ? 'one'\n      : (v0 && (i10 >= 2 && i10 <= 4) && (i100 < 12 || i100 > 14)\n          || (f10 >= 2 && f10 <= 4) && (f100 < 12\n          || f100 > 14)) ? 'few'\n      : 'other';\n},\n\nca: function(n, ord) {\n  var s = String(n).split('.'), v0 = !s[1];\n  if (ord) return ((n == 1\n          || n == 3)) ? 'one'\n      : (n == 2) ? 'two'\n      : (n == 4) ? 'few'\n      : 'other';\n  return (n == 1 && v0) ? 'one' : 'other';\n},\n\nce: _cp[1],\n\ncgg: _cp[1],\n\nchr: _cp[1],\n\nckb: _cp[1],\n\ncs: function(n, ord) {\n  var s = String(n).split('.'), i = s[0], v0 = !s[1];\n  if (ord) return 'other';\n  return (n == 1 && v0) ? 'one'\n      : ((i >= 2 && i <= 4) && v0) ? 'few'\n      : (!v0) ? 'many'\n      : 'other';\n},\n\ncy: function(n, ord) {\n  if (ord) return ((n == 0 || n == 7 || n == 8\n          || n == 9)) ? 'zero'\n      : (n == 1) ? 'one'\n      : (n == 2) ? 'two'\n      : ((n == 3\n          || n == 4)) ? 'few'\n      : ((n == 5\n          || n == 6)) ? 'many'\n      : 'other';\n  return (n == 0) ? 'zero'\n      : (n == 1) ? 'one'\n      : (n == 2) ? 'two'\n      : (n == 3) ? 'few'\n      : (n == 6) ? 'many'\n      : 'other';\n},\n\nda: function(n, ord) {\n  var s = String(n).split('.'), i = s[0], t0 = Number(s[0]) == n;\n  if (ord) return 'other';\n  return (n == 1 || !t0 && (i == 0\n          || i == 1)) ? 'one' : 'other';\n},\n\nde: _cp[3],\n\ndsb: function(n, ord) {\n  var s = String(n).split('.'), i = s[0], f = s[1] || '', v0 = !s[1],\n      i100 = i.slice(-2), f100 = f.slice(-2);\n  if (ord) return 'other';\n  return (v0 && i100 == 1\n          || f100 == 1) ? 'one'\n      : (v0 && i100 == 2\n          || f100 == 2) ? 'two'\n      : (v0 && (i100 == 3 || i100 == 4) || (f100 == 3\n          || f100 == 4)) ? 'few'\n      : 'other';\n},\n\ndv: _cp[1],\n\ndz: _cp[0],\n\nee: _cp[1],\n\nel: _cp[1],\n\nen: function(n, ord) {\n  var s = String(n).split('.'), v0 = !s[1], t0 = Number(s[0]) == n,\n      n10 = t0 && s[0].slice(-1), n100 = t0 && s[0].slice(-2);\n  if (ord) return (n10 == 1 && n100 != 11) ? 'one'\n      : (n10 == 2 && n100 != 12) ? 'two'\n      : (n10 == 3 && n100 != 13) ? 'few'\n      : 'other';\n  return (n == 1 && v0) ? 'one' : 'other';\n},\n\neo: _cp[1],\n\nes: _cp[1],\n\net: _cp[3],\n\neu: _cp[1],\n\nfa: function(n, ord) {\n  if (ord) return 'other';\n  return (n >= 0 && n <= 1) ? 'one' : 'other';\n},\n\nff: function(n, ord) {\n  if (ord) return 'other';\n  return (n >= 0 && n < 2) ? 'one' : 'other';\n},\n\nfi: _cp[3],\n\nfil: function(n, ord) {\n  var s = String(n).split('.'), i = s[0], f = s[1] || '', v0 = !s[1],\n      i10 = i.slice(-1), f10 = f.slice(-1);\n  if (ord) return (n == 1) ? 'one' : 'other';\n  return (v0 && (i == 1 || i == 2 || i == 3)\n          || v0 && i10 != 4 && i10 != 6 && i10 != 9\n          || !v0 && f10 != 4 && f10 != 6 && f10 != 9) ? 'one' : 'other';\n},\n\nfo: _cp[1],\n\nfr: function(n, ord) {\n  if (ord) return (n == 1) ? 'one' : 'other';\n  return (n >= 0 && n < 2) ? 'one' : 'other';\n},\n\nfur: _cp[1],\n\nfy: _cp[3],\n\nga: function(n, ord) {\n  var s = String(n).split('.'), t0 = Number(s[0]) == n;\n  if (ord) return (n == 1) ? 'one' : 'other';\n  return (n == 1) ? 'one'\n      : (n == 2) ? 'two'\n      : ((t0 && n >= 3 && n <= 6)) ? 'few'\n      : ((t0 && n >= 7 && n <= 10)) ? 'many'\n      : 'other';\n},\n\ngd: function(n, ord) {\n  var s = String(n).split('.'), t0 = Number(s[0]) == n;\n  if (ord) return 'other';\n  return ((n == 1\n          || n == 11)) ? 'one'\n      : ((n == 2\n          || n == 12)) ? 'two'\n      : (((t0 && n >= 3 && n <= 10)\n          || (t0 && n >= 13 && n <= 19))) ? 'few'\n      : 'other';\n},\n\ngl: _cp[3],\n\ngsw: _cp[1],\n\ngu: function(n, ord) {\n  if (ord) return (n == 1) ? 'one'\n      : ((n == 2\n          || n == 3)) ? 'two'\n      : (n == 4) ? 'few'\n      : (n == 6) ? 'many'\n      : 'other';\n  return (n >= 0 && n <= 1) ? 'one' : 'other';\n},\n\nguw: _cp[2],\n\ngv: function(n, ord) {\n  var s = String(n).split('.'), i = s[0], v0 = !s[1], i10 = i.slice(-1),\n      i100 = i.slice(-2);\n  if (ord) return 'other';\n  return (v0 && i10 == 1) ? 'one'\n      : (v0 && i10 == 2) ? 'two'\n      : (v0 && (i100 == 0 || i100 == 20 || i100 == 40 || i100 == 60\n          || i100 == 80)) ? 'few'\n      : (!v0) ? 'many'\n      : 'other';\n},\n\nha: _cp[1],\n\nhaw: _cp[1],\n\nhe: function(n, ord) {\n  var s = String(n).split('.'), i = s[0], v0 = !s[1], t0 = Number(s[0]) == n,\n      n10 = t0 && s[0].slice(-1);\n  if (ord) return 'other';\n  return (n == 1 && v0) ? 'one'\n      : (i == 2 && v0) ? 'two'\n      : (v0 && (n < 0\n          || n > 10) && t0 && n10 == 0) ? 'many'\n      : 'other';\n},\n\nhi: function(n, ord) {\n  if (ord) return (n == 1) ? 'one'\n      : ((n == 2\n          || n == 3)) ? 'two'\n      : (n == 4) ? 'few'\n      : (n == 6) ? 'many'\n      : 'other';\n  return (n >= 0 && n <= 1) ? 'one' : 'other';\n},\n\nhr: function(n, ord) {\n  var s = String(n).split('.'), i = s[0], f = s[1] || '', v0 = !s[1],\n      i10 = i.slice(-1), i100 = i.slice(-2), f10 = f.slice(-1), f100 = f.slice(-2);\n  if (ord) return 'other';\n  return (v0 && i10 == 1 && i100 != 11\n          || f10 == 1 && f100 != 11) ? 'one'\n      : (v0 && (i10 >= 2 && i10 <= 4) && (i100 < 12 || i100 > 14)\n          || (f10 >= 2 && f10 <= 4) && (f100 < 12\n          || f100 > 14)) ? 'few'\n      : 'other';\n},\n\nhsb: function(n, ord) {\n  var s = String(n).split('.'), i = s[0], f = s[1] || '', v0 = !s[1],\n      i100 = i.slice(-2), f100 = f.slice(-2);\n  if (ord) return 'other';\n  return (v0 && i100 == 1\n          || f100 == 1) ? 'one'\n      : (v0 && i100 == 2\n          || f100 == 2) ? 'two'\n      : (v0 && (i100 == 3 || i100 == 4) || (f100 == 3\n          || f100 == 4)) ? 'few'\n      : 'other';\n},\n\nhu: function(n, ord) {\n  if (ord) return ((n == 1\n          || n == 5)) ? 'one' : 'other';\n  return (n == 1) ? 'one' : 'other';\n},\n\nhy: function(n, ord) {\n  if (ord) return (n == 1) ? 'one' : 'other';\n  return (n >= 0 && n < 2) ? 'one' : 'other';\n},\n\nid: _cp[0],\n\nig: _cp[0],\n\nii: _cp[0],\n\n\"in\": _cp[0],\n\nis: function(n, ord) {\n  var s = String(n).split('.'), i = s[0], t0 = Number(s[0]) == n,\n      i10 = i.slice(-1), i100 = i.slice(-2);\n  if (ord) return 'other';\n  return (t0 && i10 == 1 && i100 != 11\n          || !t0) ? 'one' : 'other';\n},\n\nit: function(n, ord) {\n  var s = String(n).split('.'), v0 = !s[1];\n  if (ord) return ((n == 11 || n == 8 || n == 80\n          || n == 800)) ? 'many' : 'other';\n  return (n == 1 && v0) ? 'one' : 'other';\n},\n\niu: function(n, ord) {\n  if (ord) return 'other';\n  return (n == 1) ? 'one'\n      : (n == 2) ? 'two'\n      : 'other';\n},\n\niw: function(n, ord) {\n  var s = String(n).split('.'), i = s[0], v0 = !s[1], t0 = Number(s[0]) == n,\n      n10 = t0 && s[0].slice(-1);\n  if (ord) return 'other';\n  return (n == 1 && v0) ? 'one'\n      : (i == 2 && v0) ? 'two'\n      : (v0 && (n < 0\n          || n > 10) && t0 && n10 == 0) ? 'many'\n      : 'other';\n},\n\nja: _cp[0],\n\njbo: _cp[0],\n\njgo: _cp[1],\n\nji: _cp[3],\n\njmc: _cp[1],\n\njv: _cp[0],\n\njw: _cp[0],\n\nka: function(n, ord) {\n  var s = String(n).split('.'), i = s[0], i100 = i.slice(-2);\n  if (ord) return (i == 1) ? 'one'\n      : (i == 0 || ((i100 >= 2 && i100 <= 20) || i100 == 40 || i100 == 60\n          || i100 == 80)) ? 'many'\n      : 'other';\n  return (n == 1) ? 'one' : 'other';\n},\n\nkab: function(n, ord) {\n  if (ord) return 'other';\n  return (n >= 0 && n < 2) ? 'one' : 'other';\n},\n\nkaj: _cp[1],\n\nkcg: _cp[1],\n\nkde: _cp[0],\n\nkea: _cp[0],\n\nkk: function(n, ord) {\n  var s = String(n).split('.'), t0 = Number(s[0]) == n,\n      n10 = t0 && s[0].slice(-1);\n  if (ord) return (n10 == 6 || n10 == 9\n          || t0 && n10 == 0 && n != 0) ? 'many' : 'other';\n  return (n == 1) ? 'one' : 'other';\n},\n\nkkj: _cp[1],\n\nkl: _cp[1],\n\nkm: _cp[0],\n\nkn: function(n, ord) {\n  if (ord) return 'other';\n  return (n >= 0 && n <= 1) ? 'one' : 'other';\n},\n\nko: _cp[0],\n\nks: _cp[1],\n\nksb: _cp[1],\n\nksh: function(n, ord) {\n  if (ord) return 'other';\n  return (n == 0) ? 'zero'\n      : (n == 1) ? 'one'\n      : 'other';\n},\n\nku: _cp[1],\n\nkw: function(n, ord) {\n  if (ord) return 'other';\n  return (n == 1) ? 'one'\n      : (n == 2) ? 'two'\n      : 'other';\n},\n\nky: _cp[1],\n\nlag: function(n, ord) {\n  var s = String(n).split('.'), i = s[0];\n  if (ord) return 'other';\n  return (n == 0) ? 'zero'\n      : ((i == 0\n          || i == 1) && n != 0) ? 'one'\n      : 'other';\n},\n\nlb: _cp[1],\n\nlg: _cp[1],\n\nlkt: _cp[0],\n\nln: _cp[2],\n\nlo: function(n, ord) {\n  if (ord) return (n == 1) ? 'one' : 'other';\n  return 'other';\n},\n\nlt: function(n, ord) {\n  var s = String(n).split('.'), f = s[1] || '', t0 = Number(s[0]) == n,\n      n10 = t0 && s[0].slice(-1), n100 = t0 && s[0].slice(-2);\n  if (ord) return 'other';\n  return (n10 == 1 && (n100 < 11\n          || n100 > 19)) ? 'one'\n      : ((n10 >= 2 && n10 <= 9) && (n100 < 11\n          || n100 > 19)) ? 'few'\n      : (f != 0) ? 'many'\n      : 'other';\n},\n\nlv: function(n, ord) {\n  var s = String(n).split('.'), f = s[1] || '', v = f.length,\n      t0 = Number(s[0]) == n, n10 = t0 && s[0].slice(-1),\n      n100 = t0 && s[0].slice(-2), f100 = f.slice(-2), f10 = f.slice(-1);\n  if (ord) return 'other';\n  return (t0 && n10 == 0 || (n100 >= 11 && n100 <= 19)\n          || v == 2 && (f100 >= 11 && f100 <= 19)) ? 'zero'\n      : (n10 == 1 && n100 != 11 || v == 2 && f10 == 1 && f100 != 11\n          || v != 2 && f10 == 1) ? 'one'\n      : 'other';\n},\n\nmas: _cp[1],\n\nmg: _cp[2],\n\nmgo: _cp[1],\n\nmk: function(n, ord) {\n  var s = String(n).split('.'), i = s[0], f = s[1] || '', v0 = !s[1],\n      i10 = i.slice(-1), i100 = i.slice(-2), f10 = f.slice(-1);\n  if (ord) return (i10 == 1 && i100 != 11) ? 'one'\n      : (i10 == 2 && i100 != 12) ? 'two'\n      : ((i10 == 7\n          || i10 == 8) && i100 != 17 && i100 != 18) ? 'many'\n      : 'other';\n  return (v0 && i10 == 1\n          || f10 == 1) ? 'one' : 'other';\n},\n\nml: _cp[1],\n\nmn: _cp[1],\n\nmo: function(n, ord) {\n  var s = String(n).split('.'), v0 = !s[1], t0 = Number(s[0]) == n,\n      n100 = t0 && s[0].slice(-2);\n  if (ord) return (n == 1) ? 'one' : 'other';\n  return (n == 1 && v0) ? 'one'\n      : (!v0 || n == 0\n          || n != 1 && (n100 >= 1 && n100 <= 19)) ? 'few'\n      : 'other';\n},\n\nmr: function(n, ord) {\n  if (ord) return (n == 1) ? 'one'\n      : ((n == 2\n          || n == 3)) ? 'two'\n      : (n == 4) ? 'few'\n      : 'other';\n  return (n >= 0 && n <= 1) ? 'one' : 'other';\n},\n\nms: function(n, ord) {\n  if (ord) return (n == 1) ? 'one' : 'other';\n  return 'other';\n},\n\nmt: function(n, ord) {\n  var s = String(n).split('.'), t0 = Number(s[0]) == n,\n      n100 = t0 && s[0].slice(-2);\n  if (ord) return 'other';\n  return (n == 1) ? 'one'\n      : (n == 0\n          || (n100 >= 2 && n100 <= 10)) ? 'few'\n      : ((n100 >= 11 && n100 <= 19)) ? 'many'\n      : 'other';\n},\n\nmy: _cp[0],\n\nnah: _cp[1],\n\nnaq: function(n, ord) {\n  if (ord) return 'other';\n  return (n == 1) ? 'one'\n      : (n == 2) ? 'two'\n      : 'other';\n},\n\nnb: _cp[1],\n\nnd: _cp[1],\n\nne: function(n, ord) {\n  var s = String(n).split('.'), t0 = Number(s[0]) == n;\n  if (ord) return ((t0 && n >= 1 && n <= 4)) ? 'one' : 'other';\n  return (n == 1) ? 'one' : 'other';\n},\n\nnl: _cp[3],\n\nnn: _cp[1],\n\nnnh: _cp[1],\n\nno: _cp[1],\n\nnqo: _cp[0],\n\nnr: _cp[1],\n\nnso: _cp[2],\n\nny: _cp[1],\n\nnyn: _cp[1],\n\nom: _cp[1],\n\nor: _cp[1],\n\nos: _cp[1],\n\npa: _cp[2],\n\npap: _cp[1],\n\npl: function(n, ord) {\n  var s = String(n).split('.'), i = s[0], v0 = !s[1], i10 = i.slice(-1),\n      i100 = i.slice(-2);\n  if (ord) return 'other';\n  return (n == 1 && v0) ? 'one'\n      : (v0 && (i10 >= 2 && i10 <= 4) && (i100 < 12\n          || i100 > 14)) ? 'few'\n      : (v0 && i != 1 && (i10 == 0 || i10 == 1)\n          || v0 && (i10 >= 5 && i10 <= 9)\n          || v0 && (i100 >= 12 && i100 <= 14)) ? 'many'\n      : 'other';\n},\n\nprg: function(n, ord) {\n  var s = String(n).split('.'), f = s[1] || '', v = f.length,\n      t0 = Number(s[0]) == n, n10 = t0 && s[0].slice(-1),\n      n100 = t0 && s[0].slice(-2), f100 = f.slice(-2), f10 = f.slice(-1);\n  if (ord) return 'other';\n  return (t0 && n10 == 0 || (n100 >= 11 && n100 <= 19)\n          || v == 2 && (f100 >= 11 && f100 <= 19)) ? 'zero'\n      : (n10 == 1 && n100 != 11 || v == 2 && f10 == 1 && f100 != 11\n          || v != 2 && f10 == 1) ? 'one'\n      : 'other';\n},\n\nps: _cp[1],\n\npt: function(n, ord) {\n  var s = String(n).split('.'), t0 = Number(s[0]) == n;\n  if (ord) return 'other';\n  return ((t0 && n >= 0 && n <= 2) && n != 2) ? 'one' : 'other';\n},\n\n\"pt-PT\": _cp[3],\n\nrm: _cp[1],\n\nro: function(n, ord) {\n  var s = String(n).split('.'), v0 = !s[1], t0 = Number(s[0]) == n,\n      n100 = t0 && s[0].slice(-2);\n  if (ord) return (n == 1) ? 'one' : 'other';\n  return (n == 1 && v0) ? 'one'\n      : (!v0 || n == 0\n          || n != 1 && (n100 >= 1 && n100 <= 19)) ? 'few'\n      : 'other';\n},\n\nrof: _cp[1],\n\nroot: _cp[0],\n\nru: function(n, ord) {\n  var s = String(n).split('.'), i = s[0], v0 = !s[1], i10 = i.slice(-1),\n      i100 = i.slice(-2);\n  if (ord) return 'other';\n  return (v0 && i10 == 1 && i100 != 11) ? 'one'\n      : (v0 && (i10 >= 2 && i10 <= 4) && (i100 < 12\n          || i100 > 14)) ? 'few'\n      : (v0 && i10 == 0 || v0 && (i10 >= 5 && i10 <= 9)\n          || v0 && (i100 >= 11 && i100 <= 14)) ? 'many'\n      : 'other';\n},\n\nrwk: _cp[1],\n\nsah: _cp[0],\n\nsaq: _cp[1],\n\nsdh: _cp[1],\n\nse: function(n, ord) {\n  if (ord) return 'other';\n  return (n == 1) ? 'one'\n      : (n == 2) ? 'two'\n      : 'other';\n},\n\nseh: _cp[1],\n\nses: _cp[0],\n\nsg: _cp[0],\n\nsh: function(n, ord) {\n  var s = String(n).split('.'), i = s[0], f = s[1] || '', v0 = !s[1],\n      i10 = i.slice(-1), i100 = i.slice(-2), f10 = f.slice(-1), f100 = f.slice(-2);\n  if (ord) return 'other';\n  return (v0 && i10 == 1 && i100 != 11\n          || f10 == 1 && f100 != 11) ? 'one'\n      : (v0 && (i10 >= 2 && i10 <= 4) && (i100 < 12 || i100 > 14)\n          || (f10 >= 2 && f10 <= 4) && (f100 < 12\n          || f100 > 14)) ? 'few'\n      : 'other';\n},\n\nshi: function(n, ord) {\n  var s = String(n).split('.'), t0 = Number(s[0]) == n;\n  if (ord) return 'other';\n  return (n >= 0 && n <= 1) ? 'one'\n      : ((t0 && n >= 2 && n <= 10)) ? 'few'\n      : 'other';\n},\n\nsi: function(n, ord) {\n  var s = String(n).split('.'), i = s[0], f = s[1] || '';\n  if (ord) return 'other';\n  return ((n == 0 || n == 1)\n          || i == 0 && f == 1) ? 'one' : 'other';\n},\n\nsk: function(n, ord) {\n  var s = String(n).split('.'), i = s[0], v0 = !s[1];\n  if (ord) return 'other';\n  return (n == 1 && v0) ? 'one'\n      : ((i >= 2 && i <= 4) && v0) ? 'few'\n      : (!v0) ? 'many'\n      : 'other';\n},\n\nsl: function(n, ord) {\n  var s = String(n).split('.'), i = s[0], v0 = !s[1], i100 = i.slice(-2);\n  if (ord) return 'other';\n  return (v0 && i100 == 1) ? 'one'\n      : (v0 && i100 == 2) ? 'two'\n      : (v0 && (i100 == 3 || i100 == 4)\n          || !v0) ? 'few'\n      : 'other';\n},\n\nsma: function(n, ord) {\n  if (ord) return 'other';\n  return (n == 1) ? 'one'\n      : (n == 2) ? 'two'\n      : 'other';\n},\n\nsmi: function(n, ord) {\n  if (ord) return 'other';\n  return (n == 1) ? 'one'\n      : (n == 2) ? 'two'\n      : 'other';\n},\n\nsmj: function(n, ord) {\n  if (ord) return 'other';\n  return (n == 1) ? 'one'\n      : (n == 2) ? 'two'\n      : 'other';\n},\n\nsmn: function(n, ord) {\n  if (ord) return 'other';\n  return (n == 1) ? 'one'\n      : (n == 2) ? 'two'\n      : 'other';\n},\n\nsms: function(n, ord) {\n  if (ord) return 'other';\n  return (n == 1) ? 'one'\n      : (n == 2) ? 'two'\n      : 'other';\n},\n\nsn: _cp[1],\n\nso: _cp[1],\n\nsq: function(n, ord) {\n  var s = String(n).split('.'), t0 = Number(s[0]) == n,\n      n10 = t0 && s[0].slice(-1), n100 = t0 && s[0].slice(-2);\n  if (ord) return (n == 1) ? 'one'\n      : (n10 == 4 && n100 != 14) ? 'many'\n      : 'other';\n  return (n == 1) ? 'one' : 'other';\n},\n\nsr: function(n, ord) {\n  var s = String(n).split('.'), i = s[0], f = s[1] || '', v0 = !s[1],\n      i10 = i.slice(-1), i100 = i.slice(-2), f10 = f.slice(-1), f100 = f.slice(-2);\n  if (ord) return 'other';\n  return (v0 && i10 == 1 && i100 != 11\n          || f10 == 1 && f100 != 11) ? 'one'\n      : (v0 && (i10 >= 2 && i10 <= 4) && (i100 < 12 || i100 > 14)\n          || (f10 >= 2 && f10 <= 4) && (f100 < 12\n          || f100 > 14)) ? 'few'\n      : 'other';\n},\n\nss: _cp[1],\n\nssy: _cp[1],\n\nst: _cp[1],\n\nsv: function(n, ord) {\n  var s = String(n).split('.'), v0 = !s[1], t0 = Number(s[0]) == n,\n      n10 = t0 && s[0].slice(-1), n100 = t0 && s[0].slice(-2);\n  if (ord) return ((n10 == 1\n          || n10 == 2) && n100 != 11 && n100 != 12) ? 'one' : 'other';\n  return (n == 1 && v0) ? 'one' : 'other';\n},\n\nsw: _cp[3],\n\nsyr: _cp[1],\n\nta: _cp[1],\n\nte: _cp[1],\n\nteo: _cp[1],\n\nth: _cp[0],\n\nti: _cp[2],\n\ntig: _cp[1],\n\ntk: _cp[1],\n\ntl: function(n, ord) {\n  var s = String(n).split('.'), i = s[0], f = s[1] || '', v0 = !s[1],\n      i10 = i.slice(-1), f10 = f.slice(-1);\n  if (ord) return (n == 1) ? 'one' : 'other';\n  return (v0 && (i == 1 || i == 2 || i == 3)\n          || v0 && i10 != 4 && i10 != 6 && i10 != 9\n          || !v0 && f10 != 4 && f10 != 6 && f10 != 9) ? 'one' : 'other';\n},\n\ntn: _cp[1],\n\nto: _cp[0],\n\ntr: _cp[1],\n\nts: _cp[1],\n\ntzm: function(n, ord) {\n  var s = String(n).split('.'), t0 = Number(s[0]) == n;\n  if (ord) return 'other';\n  return ((n == 0 || n == 1)\n          || (t0 && n >= 11 && n <= 99)) ? 'one' : 'other';\n},\n\nug: _cp[1],\n\nuk: function(n, ord) {\n  var s = String(n).split('.'), i = s[0], v0 = !s[1], t0 = Number(s[0]) == n,\n      n10 = t0 && s[0].slice(-1), n100 = t0 && s[0].slice(-2), i10 = i.slice(-1),\n      i100 = i.slice(-2);\n  if (ord) return (n10 == 3 && n100 != 13) ? 'few' : 'other';\n  return (v0 && i10 == 1 && i100 != 11) ? 'one'\n      : (v0 && (i10 >= 2 && i10 <= 4) && (i100 < 12\n          || i100 > 14)) ? 'few'\n      : (v0 && i10 == 0 || v0 && (i10 >= 5 && i10 <= 9)\n          || v0 && (i100 >= 11 && i100 <= 14)) ? 'many'\n      : 'other';\n},\n\nur: _cp[3],\n\nuz: _cp[1],\n\nve: _cp[1],\n\nvi: function(n, ord) {\n  if (ord) return (n == 1) ? 'one' : 'other';\n  return 'other';\n},\n\nvo: _cp[1],\n\nvun: _cp[1],\n\nwa: _cp[2],\n\nwae: _cp[1],\n\nwo: _cp[0],\n\nxh: _cp[1],\n\nxog: _cp[1],\n\nyi: _cp[3],\n\nyo: _cp[0],\n\nzh: _cp[0],\n\nzu: function(n, ord) {\n  if (ord) return 'other';\n  return (n >= 0 && n <= 1) ? 'one' : 'other';\n}\n}));\nPolymer({\n  is: 'i18n-format',\n\n  /**\n   * Fired whenever the formatted text is rendered.\n   *\n   * @event rendered\n   */\n\n  properties: {\n    /**\n     * The locale for the template text.\n     * The typical value is bound to `{{effectiveLang}}` when the containing element has\n     * `BehaviorsStore.I18nBehavior`.\n     */\n    _lang: {\n      type: String,\n      value: 'en',\n      reflectToAttribute: false,\n      observer: '_langChanged'\n    },\n\n    /**\n     * The parameter attribute name to identify parameters.\n     * No need to change in a normal usage.\n     */\n    paramAttribute: {\n      type: String,\n      value: (function () { return Polymer.Element ? 'slot' : 'param'; })(),\n      observer: '_paramAttributeChanged'\n    },\n\n    /**\n     * The parameter format in the template text.\n     * The `'n'` in the format means n-th parameter.\n     * No need to change in a normal usage.\n     */\n    paramFormat: {\n      type: String,\n      value: '{n}',\n      observer: '_paramFormatChanged'\n    },\n\n    /**\n     * When the boolean attribute `observe-params` is specified, \n     * the template is re-rendered on every parameter mutation.\n     * If not specified, the template is re-rendered only on `lang` changes and template text changes.\n     *\n     * Note: If true, re-rendering may be performed muiltiple times redundantly on a locale change.\n     */\n    observeParams: {\n      type: Boolean,\n      value: true // TODO: optimize re-rendering\n    }\n  },\n\n  /**\n   * Default locale constant 'en'\n   */\n  DEFAULT_LANG: 'en',\n\n  ready: function () {\n    this._setupParams();\n    if (this.root === this) {\n      this.attachShadow({ mode: 'open' });\n      this.root = this.shadowRoot;\n      this.render();\n    }\n    if (!this.lang) {\n      // Polyfill non-functional default value for lang property in Safari 7\n      this.lang = this.DEFAULT_LANG;\n    }\n  },\n\n  attached: function () {\n    this.render();\n  },\n\n  /**\n   * Traverse the local DOM and set up parameters and observers.\n   */\n  _setupParams: function () {\n    var n;\n    this.elements = Array.prototype.filter.call(\n      Polymer.dom(this).childNodes,\n      function (node) {\n        return node.nodeType === node.ELEMENT_NODE;\n      }\n    );\n    var needParamObservation = this.observeParams &&\n                               this.elements.length > 0 && \n                               this.elements[0].tagName.toLowerCase() === 'json-data';\n    this.observer = new MutationObserver(this._templateMutated.bind(this));\n    this.observer.observe(this, { attributes: true, attributeFilter: [ 'lang' ] });\n    for (n = 0; n < this.elements.length; n++) {\n      if (n === 0) {\n        this.templateElement = this.elements[n];\n        this.templateTextNode = Polymer.dom(this.templateElement).childNodes[0];\n        this.observer.observe(this.templateTextNode, { characterData: true });\n      }\n      else {\n        if (!this.elements[n].hasAttribute(this.paramAttribute)) {\n          this.elements[n].setAttribute(this.paramAttribute, '' + n);\n        }\n        if (needParamObservation) {\n          // TODO: childNodes[0] may not be a text node\n          this.observer.observe(Polymer.dom(this.elements[n]).childNodes[0], { characterData: true });\n          if (this.elements[n].tagName.toLowerCase() === 'i18n-number') {\n            this.listen(this.elements[n], 'rendered', 'render');\n          }\n        }\n      }\n    }\n    //console.log('i18n-format: _setupParams: elements = ' + this.elements);\n  },\n\n  /**\n   * MutationObserver callback of child text nodes to re-render on template text or parameter mutations.\n   *\n   * @param {Array} mutations Array of MutationRecord (https://developer.mozilla.org/en-US/docs/Web/API/MutationObserver).\n   */\n  _templateMutated: function (mutations) {\n    mutations.forEach(function(mutation) {\n      switch (mutation.type) {\n      case 'characterData':\n        //console.log('i18n-format: ' + this.id + '._templateMutated(): characterData: tag = ' + \n        //            Polymer.dom(mutation.target).parentNode.tagName.toLowerCase() + \n        //            ' data = ' + mutation.target.data);\n        if ((Polymer.Element ? mutation.target : Polymer.dom(mutation.target)).parentNode.tagName.toLowerCase() !== 'i18n-number' ||\n            typeof (Polymer.Element ? mutation.target : Polymer.dom(mutation.target)).parentNode.formatted !== 'undefined') {\n          this.render();\n        }\n        break;\n      case 'attributes':\n        if (mutation.attributeName === 'lang') {\n          this._lang = this.lang;\n        }\n        break;\n      default:\n        /* istanbul ignore next: mutation.type is always characterData or attributes */\n        break;\n      }\n    }, this);\n  },\n\n  /**\n   * Observer of `lang` property to re-render the template text.\n   *\n   * @param {string} lang New locale.\n   */\n  _langChanged: function (lang /*, oldLang */) {\n    //console.log('i18n-format: ' + this.id + '._langChanged() lang = ' + lang + ' oldLang = ' + oldLang);\n    if (this.elements &&\n        lang !== undefined &&\n        lang !== null &&\n        !lang.match(/^{{.*}}$/) &&\n        !lang.match(/^\\[\\[.*\\]\\]$/)) {\n      this.render();\n    }\n    //else {\n    //  console.log('i18n-format: skipping render()');\n    //}\n  },\n\n  /**\n   * Observer of `paramFormat` property to re-render the template text.\n   *\n   * @param {string} paramFormat New paramFormat.\n   * @param {string} oldParamFormat Old paramFormat.\n   */\n  _paramFormatChanged: function (paramFormat, oldParamFormat) {\n    //console.log('i18n-format: ' + this.id + '._paramFormatChanged() new = ' + paramFormat + ' old = ' + oldParamFormat);\n    if (this.elements &&\n        oldParamFormat !== undefined &&\n        paramFormat &&\n        this.lang !== undefined &&\n        this.lang !== null &&\n        !this.lang.match(/^{{.*}}$/) &&\n        !this.lang.match(/^\\[\\[.*\\]\\]$/)) {\n      this.lastTemplateText = undefined;\n      this.render();\n    }\n  },\n\n  /**\n   * Observer of `paramAttribute` property to reset parameter attributes.\n   *\n   * @param {string} paramAttribute New paramAttribute.\n   * @param {string} oldParamAttribute Old paramAttribute.\n   */\n  _paramAttributeChanged: function (paramAttribute, oldParamAttribute) {\n    //console.log('i18n-format: ' + this.id + '._paramAttributeChanged() new = ' + paramAttribute + ' old = ' + oldParamAttribute);\n    var n;\n    if (this.elements &&\n        oldParamAttribute !== undefined &&\n        paramAttribute &&\n        this.lang !== undefined &&\n        this.lang !== null &&\n        !this.lang.match(/^{{.*}}$/) &&\n        !this.lang.match(/^\\[\\[.*\\]\\]$/)) {\n      for (n = 1; n < this.elements.length; n++) {\n        this.elements[n].removeAttribute(oldParamAttribute);\n        if (!this.elements[n].hasAttribute(paramAttribute)) {\n          this.elements[n].setAttribute(paramAttribute, '' + n);\n        }\n      }\n      this.lastTemplateText = undefined;\n      this.render();\n    }\n  },\n\n  /**\n   * Detect the CLDR plural category of a number \n   * with [`make-plural` library](https://github.com/eemeli/make-plural.js).\n   *\n   * @param {number} n The number to get the plural category for.\n   * @return {string} Plural category of the number. \n   */\n  _getPluralCategory: function (n) {\n    var category = 'other';\n    var lang = this.lang || this.DEFAULT_LANG;\n    lang = lang.split(/[-_]/)[0];\n    if (window.plurals[lang]) {\n      category = window.plurals[lang](n);\n    }\n    else {\n      category = window.plurals.en(n);\n    }\n    //console.log('i18n-format: _getPluralCategory(' + n + ') = ' + category);\n    return category;\n  },\n\n  /**\n   * Select a template text by parameters.\n   *\n   * @return {string} Selected template text. \n   */\n  _selectTemplateText: function () {\n    var templateText = '';\n    if (!this.templateElement) {\n      return templateText;\n    }\n    else if (this.templateElement.tagName.toLowerCase() === 'json-data') {\n      var templateObject;\n      try {\n        templateObject = JSON.parse(this.templateTextNode.data);\n      }\n      catch (ex) {\n        if (this.templateTextNode.data) {\n          console.warn('i18n-format: parse error in json-data');\n        }\n        return templateText;\n      }\n      var n;\n      for (n = 1;\n           typeof templateObject === 'object' && n < this.elements.length;\n           n++) {\n        var param = this.elements[n];\n        if (param.tagName.toLowerCase() === 'i18n-number') {\n          // plural selector\n          var category = this._getPluralCategory(param.number);\n          if (typeof param.number === 'undefined' ||\n              typeof param.formatted === 'undefined') {\n            // i18n-number is not ready\n            //console.log('i18n-format: i18n-number is not ready');\n            templateObject = undefined;\n          }\n          else if (templateObject[param.rawNumber]) {\n            templateObject = templateObject[param.rawNumber];\n          }\n          else if (templateObject[category]) {\n            // plural category matched\n            templateObject = templateObject[category];\n          }\n          else if (templateObject.other) {\n            // other\n            templateObject = templateObject.other;\n          }\n          else {\n            // default\n            templateObject = '';\n            console.warn('i18n-format: cannot find a template');\n          }\n        }\n        else {\n          // string selector\n          if (templateObject[param.textContent]) {\n            // template found\n            templateObject = templateObject[param.textContent];\n          }\n          else if (templateObject.other) {\n            // other\n            templateObject = templateObject.other;\n          }\n          else {\n            // default\n            templateObject = '';\n            console.warn('i18n-format: cannot find a template');\n          }\n        }\n      }\n      if (typeof templateObject === 'string') {\n        templateText = templateObject;\n      }\n      else if (typeof templateObject === 'undefined') {\n        templateText = undefined;\n      }\n      else {\n        templateText = '';\n        console.warn('i18n-format: cannot find a template');\n      }\n    }\n    else {\n      templateText = this.templateTextNode.data;\n    }\n    return templateText;\n  },\n\n  /**\n   * Render the template text.\n   */\n  render: function () {\n    var templateText = this._selectTemplateText();\n    var tmpNode = document.createElement('span');\n    var paramPlaceholder;\n    var childNodes = [];\n    var i;\n    var shadowDomV1 = !!Polymer.Element;\n    var shadyDomV1 = !!window.ShadyDOM;\n\n    if (templateText === this.lastTemplateText) {\n      //console.log('i18n-format: skipping rendering as the templateText has not changed');\n      return;\n    }\n    else if (typeof templateText === 'undefined') {\n      return;\n    }\n    else {\n      this.lastTemplateText = templateText;\n      //console.log('i18n-format: ' + this.id + '.render() templateText = ' + templateText);\n    }\n\n    i = 1;\n    while (i < this.elements.length) {\n      paramPlaceholder = this.paramFormat.replace('n', i);\n      templateText = templateText.replace(paramPlaceholder, \n                      shadowDomV1 ? '<slot name=\"' + i + '\"></slot>' :\n                      '<content select=\"[' + this.paramAttribute + '=\\'' + i + '\\']\"></content>');\n      i++;\n    }\n    \n    tmpNode.innerHTML = templateText;\n\n    if (Polymer.Element) {\n      if (this.root === this) {\n        this.attachShadow({ mode: 'open' });\n        this.root = this.shadowRoot;\n      }\n      this.root.innerHTML = ''; // Polymer 2.x\n    }\n    else {\n      Polymer.dom(this.root).innerHTML = '';\n    }\n\n    // References of childNodes have to be copied for Shady DOM compatibility\n    for (i = 0; i < tmpNode.childNodes.length; i++) {\n      childNodes[i] = tmpNode.childNodes[i];\n    }\n\n    for (i = 0; i < childNodes.length; i++) {\n      // each node has to be appended via Polymer.dom()\n      Polymer.dom(this.root).appendChild(childNodes[i]);\n    }\n\n    if (shadyDomV1) {\n      ShadyDOM.flush();\n    }\n    this.fire('rendered');\n  }\n});\nPolymer({\n    is: 'iron-localstorage',\n\n    properties: {\n      /**\n       * localStorage item key\n       */\n      name: {\n        type: String,\n        value: ''\n      },\n      /**\n       * The data associated with this storage.\n       * If set to null item will be deleted.\n       * @type {*}\n       */\n      value: {\n        type: Object,\n        notify: true\n      },\n\n      /**\n       * If true: do not convert value to JSON on save/load\n       */\n      useRaw: {\n        type: Boolean,\n        value: false\n      },\n\n      /**\n       * Value will not be saved automatically if true. You'll have to do it manually with `save()`\n       */\n      autoSaveDisabled: {\n        type: Boolean,\n        value: false\n      },\n      /**\n       * Last error encountered while saving/loading items\n       */\n      errorMessage: {\n        type: String,\n        notify: true\n      },\n\n      /** True if value has been loaded */\n      _loaded: {\n        type: Boolean,\n        value: false\n      }\n    },\n\n    observers: [\n      '_debounceReload(name,useRaw)',\n      '_trySaveValue(autoSaveDisabled)',\n      '_trySaveValue(value.*)'\n    ],\n\n    ready: function() {\n      this._boundHandleStorage = this._handleStorage.bind(this);\n    },\n\n    attached: function() {\n      window.addEventListener('storage', this._boundHandleStorage);\n    },\n\n    detached: function() {\n      window.removeEventListener('storage', this._boundHandleStorage);\n    },\n\n    _handleStorage: function(ev) {\n      if (ev.key == this.name) {\n        this._load(true);\n      }\n    },\n\n    _trySaveValue: function() {\n      if (this._doNotSave) {\n        return;\n      }\n      if (this._loaded && !this.autoSaveDisabled) {\n        this.debounce('save', this.save);\n      }\n    },\n\n    _debounceReload: function() {\n      this.debounce('reload', this.reload);\n    },\n\n    /**\n     * Loads the value again. Use if you modify\n     * localStorage using DOM calls, and want to\n     * keep this element in sync.\n     */\n    reload: function() {\n      this._loaded = false;\n      this._load();\n    },\n\n    /**\n     * loads value from local storage\n     * @param {boolean=} externalChange true if loading changes from a different window\n     */\n    _load: function(externalChange) {\n      try {\n        var v = window.localStorage.getItem(this.name);\n      } catch (ex) {\n        this.errorMessage = ex.message;\n\n        this._error(\"Could not save to localStorage.  Try enabling cookies for this page.\", ex);\n      };\n\n      if (v === null) {\n        this._loaded = true;\n        this._doNotSave = true;  // guard for save watchers\n        this.value = null;\n        this._doNotSave = false;\n        this.fire('iron-localstorage-load-empty', { externalChange: externalChange});\n      } else {\n        if (!this.useRaw) {\n          try { // parse value as JSON\n            v = JSON.parse(v);\n          } catch(x) {\n            this.errorMessage = \"Could not parse local storage value\";\n            Polymer.Base._error(\"could not parse local storage value\", v);\n            v = null;\n          }\n        }\n        this._loaded = true;\n        this._doNotSave = true;\n        this.value = v;\n        this._doNotSave = false;\n        this.fire('iron-localstorage-load', { externalChange: externalChange});\n      }\n    },\n\n    /**\n     * Saves the value to localStorage. Call to save if autoSaveDisabled is set.\n     * If `value` is null or undefined, deletes localStorage.\n     */\n    save: function() {\n      var v = this.useRaw ? this.value : JSON.stringify(this.value);\n      try {\n        if (this.value === null || this.value === undefined) {\n          window.localStorage.removeItem(this.name);\n        } else {\n          window.localStorage.setItem(this.name, /** @type {string} */ (v));\n        }\n      }\n      catch(ex) {\n        // Happens in Safari incognito mode,\n        this.errorMessage = ex.message;\n        Polymer.Base._error(\"Could not save to localStorage. Incognito mode may be blocking this action\", ex);\n      }\n    }\n\n    /**\n     * Fired when value loads from localStorage.\n     *\n     * @event iron-localstorage-load\n     * @param {{externalChange:boolean}} detail -\n     *     externalChange: true if change occured in different window.\n     */\n\n    /**\n     * Fired when loaded value does not exist.\n     * Event handler can be used to initialize default value.\n     *\n     * @event iron-localstorage-load-empty\n     * @param {{externalChange:boolean}} detail -\n     *     externalChange: true if change occured in different window.\n     */\n  });\n(function(document) {\n  'use strict';\n\n  // html element of this document\n  var html = document.querySelector('html');\n  // app global default language\n  var defaultLang = html.hasAttribute('lang') ? html.getAttribute('lang') : '';\n\n  // imperative synchronous registration of the template for Polymer 2.x\n  var template = ((!window.HTMLImports || HTMLImports.hasNative) ? document.currentScript : document._currentScript)\n    .ownerDocument.querySelector('template#i18n-preference');\n  var domModule = document.createElement('dom-module');\n  var currentScript = (!window.HTMLImports || HTMLImports.hasNative) ? document.currentScript : document._currentScript;\n  var registerI18nPreference = function () {\n\n  currentScript.ownerDocument.querySelector('div#dom-module-placeholder').appendChild(domModule);\n  domModule.appendChild(template);\n  domModule.register('i18n-preference');\n\n  Polymer({\n    is: 'i18n-preference',\n\n    properties: {\n      /**\n       * Persistence of preference \n       */\n      persist: {\n        type: Boolean,\n        value: false,\n        reflectToAttribute: true,\n        notify: true,\n        observer: '_onPersistChange'\n      }\n    },\n\n    /**\n     * Ready callback to initialize this.lang\n     */\n    ready: function () {\n      if (this.persist) {\n        // delay this.lang update\n      }\n      else {\n        //this.$.storage.value = undefined;\n      }\n      this.isReady = true;\n    },\n\n    /**\n     * Attached callback to initialize html.lang and its observation\n     */\n    attached: function () {\n      this._observe();\n      if (this.persist) {\n        // delay html.lang update\n      }\n      else {\n        if (!html.hasAttribute('preferred')) {\n          html.setAttribute('lang', navigator.language || navigator.browserLanguage);\n        }\n      }\n    },\n\n    /**\n     * Detached callback to diconnect html.lang observation\n     */\n    detached: function () {\n      this._disconnect();\n    },\n\n    /**\n     * Initialize an empty localstorage\n     */\n    _onLoadEmptyStorage: function () {\n      if (this.isReady) {\n        if (this.persist) {\n          if (this.isInitialized) {\n            // store html.lang value\n            this.$.storage.value = html.getAttribute('lang');\n          }\n          else {\n            if (html.hasAttribute('preferred')) {\n              this.$.storage.value = html.getAttribute('lang');\n            }\n            else {\n              this.$.storage.value = navigator.language || navigator.browserLanguage;\n              if (html.getAttribute('lang') !== this.$.storage.value) {\n                html.setAttribute('lang', this.$.storage.value);\n              }\n            }\n            this.isInitialized = true;\n          }\n        }\n        else {\n          // leave the empty storage as it is\n        }\n      }\n    },\n\n\n    /**\n     * Handle the loaded storage value\n     */\n    _onLoadStorage: function () {\n      if (this.isReady) {\n        if (this.persist) {\n          // preferred attribute in html to put higher priority\n          // in the default html language than navigator.language\n          if (html.hasAttribute('preferred')) {\n            if (this.$.storage.value !== defaultLang) {\n              // overwrite the storage by the app default language\n              this.$.storage.value = defaultLang;\n            }\n          }\n          else {\n            // load the value from the storage\n            html.setAttribute('lang', this.$.storage.value);\n          }\n        }\n        else {\n          // empty the storage\n          this.$.storage.value = undefined;\n        }\n      }\n    },\n\n    /**\n     * Handle persist changes\n     *\n     * @param {Boolean} value new this.persist value\n     */\n    _onPersistChange: function (value) {\n      if (this.isReady) {\n        if (value) {\n          if (this.$.storage.value !== html.getAttribute('lang')) {\n            // save to the storage\n            this.$.storage.value = html.getAttribute('lang');\n          }\n        }\n        else {\n          // empty the storage\n          this.$.storage.value = undefined;\n        }\n      }\n    },\n\n    /**\n     * Handle storage value changes\n     *\n     * @param {Event} e value-changed event on the storage\n     */\n    _onStorageValueChange: function (e) {\n      var value = e.detail.value;\n      if (this.isReady) {\n        if (this.persist) {\n          if (value) {\n            if (value !== html.getAttribute('lang')) {\n              // save to the lang\n              html.setAttribute('lang', value);\n            }\n          }\n          else {\n            // update the storage\n            this.$.storage.value = html.getAttribute('lang');\n          }\n        }\n        else {\n          if (value) {\n            // empty the storage\n            this.$.storage.value = undefined;\n          }\n        }\n      }\n    },\n\n    /**\n     * Handle value changes on localstorage\n     *\n     * @param {MutationRecord[]} mutations Array of MutationRecords for html.lang\n     *\n     * Note: \n     *   - Bound to this element\n     */\n    _htmlLangMutationObserverCallback: function (mutations) {\n      mutations.forEach(function(mutation) {\n        switch (mutation.type) {\n        case 'attributes':\n          if (mutation.attributeName === 'lang') {\n            if (this.$.storage.value !== mutation.target.getAttribute('lang')) {\n              this.$.storage.value = mutation.target.getAttribute('lang');\n            }\n          }\n          break;\n        default:\n          break;\n        }\n      }.bind(this));\n    },\n\n    /**\n     * Set up html.lang mutation observer\n     */\n    _observe: function () {\n      // observe html lang mutations\n      if (!this._htmlLangMutationObserver) {\n        this._htmlLangMutationObserverCallbackBindThis = \n          this._htmlLangMutationObserverCallback.bind(this);\n        this._htmlLangMutationObserver =\n          new MutationObserver(this._htmlLangMutationObserverCallbackBindThis);\n      }\n      this._htmlLangMutationObserver.observe(html, { attributes: true });\n    },\n\n    /**\n     * Disconnect html.lang mutation observer\n     */\n    _disconnect: function () {\n      if (this._htmlLangMutationObserver) {\n        this._htmlLangMutationObserver.disconnect();\n      }\n    }\n  });\n  }\n  if ((!window.HTMLImports || HTMLImports.hasNative)) {\n    registerI18nPreference();\n  }\n  else {\n    HTMLImports.whenReady(registerI18nPreference);\n  }\n})(document);\n(function () {\n  // shared data\n  var sharedData = {};\n\n  // imperative synchronous registration of the template for Polymer 2.x\n  var template = ((!window.HTMLImports || HTMLImports.hasNative) ? document.currentScript : document._currentScript)\n    .ownerDocument.querySelector('template#i18n-attr-repo');\n  var domModule = document.createElement('dom-module');\n  domModule.appendChild(template);\n  domModule.register('i18n-attr-repo');\n  window.BehaviorsStore = window.BehaviorsStore || {};\n  // Polymer function for iron-component-page documentation\n  var Polymer = function (proto) {\n    BehaviorsStore._I18nAttrRepo = proto;\n    BehaviorsStore._I18nAttrRepo._created();\n    return window.Polymer(proto);\n  };\n\n/*\n`<i18n-attr-repo>` maintains a list of attributes targeted for UI localization.  \nIt judges whether a specific attribute of an element requires localization or not. \n\n    var attrRepository = \n      document.createElement('i18n-attr-repo');\n\n    attrRepository.registerLocalizableAttributes(\n      'custom-element',\n      Polymer.DomModule.import('custom-element', 'template')\n    );\n    attrRepository.isLocalizableAttribute(inputElement, 'placeholder');\n\n### Interactions with `BehaviorsStore.I18nBehavior`\n\nThe element is not meant for DOM attachment. The object is\na singleton object dedicated for `BehaviorsStore.I18nBehavior`.\n`I18nBehavior` interacts with the localizable attributes repository in these 3 ways.\n\n### 1) Construct the repository for the standard elements from its own static template at the object creation.\n\n```\n    // i18n-behavior.html\n    var attrRepository = \n      document.createElement('i18n-attr-repo');\n```\n\nPre-defined I18N-target attributes in the static template of `i18n-attr-repo`:\n\n```\n    <dom-module id=\"i18n-attr-repo\">\n      <template>\n        <template id=\"standard\">\n          <input placeholder>\n          <any-elements title aria-label=\"$\" aria-valuetext=\"$\"></any-elements>\n\n          <paper-input label error-message placeholder></paper-input>\n          <paper-textarea label error-message placeholder></paper-textarea>\n          <paper-dropdown-menu label></paper-dropdown-menu>\n          <paper-toast text></paper-toast>\n          <google-chart options cols rows data></google-chart>\n          <google-signin label-signin label-signout label-additional></google-signin>\n          <platinum-push-messaging title message></platinum-push-messaging>\n\n          <json-data any-attributes></json-data>\n        </template>\n      </template>\n    </dom-module>\n```\n\nThis static list is also referenced by [`gulp-i18n-preprocess`](https://github.com/t2ym/gulp-i18n-preprocess) filter for\nbuild-time automatic I18N of hard-coded string attributes.\n\n### 2) Register I18N-target attributes of custom elements from a template with id=\"custom\" in its light DOM.\n\nI18N-target attributes for custom elements without I18nBehavior can be registered to the respository by this method. \n\nExample I18N-target attributes in a static template in the light DOM of `i18n-attr-repo`:\n\n```\n    <i18n-attr-repo>\n      <template id=\"custom\">\n        <shop-md-decorator error-message=\"$\"></shop-md-decorator>\n        <input value=\"type=submit|button\">\n        <my-element i18n-target-attr=\"attr=value,boolean-attr,!boolean-attr\"></my-element>\n        <my-element i18n-target-attr=\"attr1=value1,attr2=value2,type-name\"></my-element>\n        <my-element i18n-target-attr=\"boolean-attr=\"></my-element>\n        <my-element i18n-target-attr=\"type-name2\"></my-element>\n      </template>\n    </i18n-attr-repo>\n```\n\nThis list is also referenced by [`gulp-i18n-preprocess`](https://github.com/t2ym/gulp-i18n-preprocess) filter for\nbuild-time automatic I18N of hard-coded string attributes.\n\nNote: Type name feature is currently ineffective and reserved for further expansion of the attribute I18N features.\n\n### 3) Register localizable attributes of the newly registered elements from the `text-attr` attribute of the element's template.\n\n```\n    // i18n-behavior.html, scanning custom-element template\n    var id = 'custom-element';\n    attrRepository.registerLocalizableAttributes(\n      id, \n      Polymer.DomModule.import(id, 'template')\n    );\n```\n```\n    // custom-element.html\n    <dom-module id=\"custom-element\">\n      <template text-attr=\"localizable-attr1 localizable-attr2\">\n        <span>{{localizableAttr1}}</span>\n        <span>{{localizableAttr2}}</span>\n      </template>\n      <script>\n        Polymer({\n          is: 'custom-element',\n          behaviors: [ BehaviorsStore.I18nBehavior ],\n          properties: {\n            localizableAttr1: {\n              type: String\n            },\n            localizableAttr2: {\n              type: String\n            }\n          }\n        });\n      </ script>\n    </dom-module>\n```\n\n`text-attr` attributes are also traversed for build-time automatic I18N of \nhard-coded UI string attributes by [`gulp-i18n-preprocess`](https://github.com/t2ym/gulp-i18n-preprocess) filter.\n\n### 4) Judge localizability of attributes for the local DOM elements of the newly registered element.\n\n```\n    // i18n-behavior.html, scanning custom-element-user template\n    var element; // target element\n    var attr;\n    if (attrRepository.isLocalizableAttribute(element, attr.name)) {\n      // make localizalbe-attr1 localizable\n    }\n```\n```\n    // custom-element-user.html\n    <dom-module id=\"custom-element-user\">\n      <template>\n        <custom-element id=\"custom\"\n                        localizable-attr1=\"UI Text Label 1\"\n                        localizable-attr2=\"UI Text Label 2\">\n        </custom-element>\n      </template>\n      <script>\n        Polymer({\n          is: 'custom-element-user',\n          behaviors: [ BehaviorsStore.I18nBehavior ]\n        });\n      </ script>\n    </dom-module>\n```\n```\n    // template for custom-element-user after localization binding\n    <template>\n      <custom-element id=\"custom\"\n                      localizable-attr1=\"{{model.custom.localizable-attr1}}\"\n                      localizable-attr2=\"{{model.custom.localizable-attr2}}\">\n      </custom-element>\n    </template>\n```\n```\n    // extracted localizable texts in custom-element-user element\n    this.model = {\n      \"custom\": {\n        \"localizable-attr1\": \"UI Text Label 1\",\n        \"localizable-attr2\": \"UI Text Label 2\"\n      }\n    }\n```\n\nSince dependent elements should be registered prior to a custom element being registered,\nthe repository can always maintain the complete list of localizable attributes for registered custom elements.\n\n- - -\n\n### Note\n\nThe described processes above are for debug builds with runtime localization traversal of templates\nby `I18nBehavior`.\n\nFor production builds, the build system can perform the same processes at build time so that \n`I18nBehavior` at clients can skip runtime traversal of templates.\n\n- - -\n\n### TODO\n\nHandle and judge JSON object attributes.\n\n@group I18nBehavior\n@element i18n-attr-repo\n@hero hero.svg\n@demo demo/index.html\n*/\n  Polymer({\n    is: 'i18n-attr-repo',\n\n    created: function () {\n      this.data = sharedData;\n\n      var customAttributes = window.Polymer.dom(this).querySelector('template#custom');\n      // traverse custom attributes repository\n      if (customAttributes && !this.hasAttribute('processed')) {\n        this._traverseTemplateTree(customAttributes._content || customAttributes.content);\n        this.setAttribute('processed', '');\n      }\n\n      this._created();\n    },\n\n    _created: function () {\n      this.data = sharedData;\n\n      if (this.data.__ready__) {\n        return; // traverse standard attributes only once\n      }\n      this.data.__ready__ = true;\n      var standardTemplate;\n      if (!this.$) {\n        var t = window.Polymer.DomModule.import(this.is, 'template');\n        standardTemplate = (t._content || t.content).querySelector('template#standard');\n      }\n      else {\n        standardTemplate = this.$.standard;\n      }\n      this._traverseTemplateTree(standardTemplate._content || standardTemplate.content);\n    },\n\n    /**\n     * Judge if a specific attribute of an element requires localization.\n     *\n     * @param {HTMLElement} element Target element.\n     * @param {string} attr Target attribute name.\n     * @return {string or boolean} true - property, '$' - attribute, false - not targeted, 'type-name' - type name\n     */\n    isLocalizableAttribute: function (element, attr) {\n      var tagName = element.tagName.toLowerCase();\n      if (!this.data) {\n        this._created();\n        this.data = sharedData;\n      }\n      attr = attr.replace(/\\$$/, '');\n      if (this.data['any-elements'] &&\n          this.data['any-elements'][attr]) {\n        return this.data['any-elements'][attr];\n      }\n      else if (this.data[tagName]) {\n        return this.data[tagName]['any-attributes'] ||\n               this._getType(element, this.data[tagName][attr]);\n      }\n      else {\n        return false;\n      }\n    },\n\n    /**\n     * Get the type name or '$' for a specific attribute of an element from the attributes repository\n     *\n     * @param {HTMLElement} element Target element.\n     * @param {object} value this.data[tagName][attr]\n     * @return {string or boolean} true - property, '$' - attribute, false - not targeted, 'type-name' - type name\n     */\n    _getType: function (element, value) {\n      var selector;\n      var result;\n      if (typeof value === 'object') {\n        for (selector in value) {\n          if (selector) {\n            if (this._matchAttribute(element, selector)) {\n              result = this._getType(element, value[selector]);\n              if (result) {\n                return result;\n              }\n            }\n          }\n        }\n        if (value['']) {\n          if (this._matchAttribute(element, '')) {\n            result = this._getType(element, value['']);\n            if (result) {\n              return result;\n            }\n          }\n        }\n        return false;\n      }\n      else {\n        return value;\n      }\n    },\n\n    /**\n     * Get the type name or '$' for a specific attribute of an element from the attributes repository\n     *\n     * Format for selectors:\n     *  - `attr=value` - Value of `attr` matches Regex `^value$`\n     *  - `!boolean-attr` - Boolean attribute does not exist\n     *  - `boolean-attr` - Boolean attribute exists with empty value\n     *  - empty string `''` - Always matches\n     *\n     * @param {HTMLElement} element Target element.\n     * @param {string} selector Matching condition for target attribute.\n     * @return {boolean} true - matching, false - not matching\n     */\n    _matchAttribute: function (element, selector) {\n      var value;\n      var match;\n      // default ''\n      if (selector === '') {\n        return true;\n      }\n      // attr=value Regex ^value$\n      match = selector.match(/^([^!=]*)=(.*)$/);\n      if (match) {\n        if (element.hasAttribute(match[1])) {\n          value = element.getAttribute(match[1]);\n          return !!value.match(new RegExp('^' + match[2] + '$'));\n        }\n        else {\n          return false;\n        }\n      }\n      // !boolean-attr\n      match = selector.match(/^!([^!=]*)$/);\n      if (match) {\n        return !element.hasAttribute(match[1]);\n      }\n      // boolean-attr or empty-attr\n      match = selector.match(/^([^!=]*)$/);\n      if (match) {\n        if (element.hasAttribute(match[1])) {\n          value = element.getAttribute(match[1]);\n          return !value;\n        }\n        else {\n          return false;\n        }\n      }\n      // no matching\n      return false;\n    },\n\n    /**\n     * Comparator for attribute selectors\n     *\n     * @param {string} s1 selector 1\n     * @param {string} s2 selector 2\n     * @return {number} comparison result as -1, 0, or 1\n     */\n    _compareSelectors: function (s1, s2) {\n      var name1 = s1.replace(/^!/, '').replace(/=.*$/, '').toLowerCase();\n      var name2 = s2.replace(/^!/, '').replace(/=.*$/, '').toLowerCase();\n      return name1.localeCompare(name2);\n    },\n\n    /**\n     * Add a new localizable attribute of an element to the repository.\n     *\n     * Format for selector values for defining I18N-target attributes:\n     *   - `attr1=value1,attr2=value2,boolean-attr,!boolean-attr` - Attribute value matching condition for property\n     *   - `attr1=value1,attr2=value2,$` - Attribute value matching condition for attribute\n     *   - `boolean-attr=` - Boolean attribute condition\n     *   - `attr1=value1,type` - Attribute value condition with type name (type is currently ineffective)\n     *\n     * @param {string} element Target element name.\n     * @param {string} attr Target attribute name.\n     * @param {?*} value Selector value\n     */\n    setLocalizableAttribute: function (element, attr, value) {\n      this.data[element] = this.data[element] || {};\n      var cursor = this.data[element];\n      var prev = attr;\n      var type = true;\n      var selectors = [];\n\n      if (typeof value === 'string' && value) {\n        selectors = value.split(',');\n        if (selectors[selectors.length - 1].match(/^[^!=][^=]*$/)) {\n          type = selectors.pop();\n        }\n        selectors = selectors.map(function (selector) {\n          return selector.replace(/=$/, '');\n        });\n        selectors.sort(this._compareSelectors);\n        while (selectors[0] === '') {\n          selectors.shift();\n        }\n      }\n\n      selectors.forEach(function (selector, index) {\n        if (typeof cursor[prev] !== 'object') {\n          cursor[prev] = cursor[prev] ? { '': cursor[prev] } : {};\n        }\n        cursor[prev][selector] = cursor[prev][selector] || {};\n        cursor = cursor[prev];\n        prev = selector;\n      });\n\n      if (typeof cursor[prev] === 'object' &&\n          cursor[prev] &&\n          Object.keys(cursor[prev]).length) {\n        cursor = cursor[prev];\n        prev = '';\n      }\n      cursor[prev] = type;\n    },\n\n    /**\n     * Pick up localizable attributes description for a custom element \n     * from `text-attr` attribute and register them to the repository.\n     * The `text-attr` attribute is used in the template of a custom\n     * element to declare localizable attributes of its own element.\n     *\n     * Format:\n     *\n     *  Type 1: `<template text-attr=\"localizable-attr1 attr2\">`\n     *\n     *  Type 2: `<template text-attr localizable-attr1 attr2=\"value2\">`\n     *\n     * @param {string} element Target element name.\n     * @param {HTMLTemplateElement} template Template of the element.\n     */\n    registerLocalizableAttributes: function (element, template) {\n      if (!this.data) {\n        this._created();\n        this.data = sharedData;\n      }\n      if (!element) {\n        element = template.getAttribute('id');\n      }\n      if (element) {\n        var attrs = (template.getAttribute('text-attr') || '').split(' ');\n        var textAttr = false;\n        attrs.forEach(function (attr) {\n          if (attr) {\n            this.setLocalizableAttribute(element, attr, true);\n          }\n        }, this);\n        Array.prototype.forEach.call(template.attributes, function (attr) {\n          switch (attr.name) {\n          case 'id':\n          case 'lang':\n          case 'localizable-text':\n          case 'assetpath':\n            break;\n          case 'text-attr':\n            textAttr = true;\n            break;\n          default:\n            if (textAttr) {\n              this.setLocalizableAttribute(element, attr.name, attr.value);\n            }\n            break;\n          }\n        }.bind(this));\n      }\n    },\n\n    /**\n     * Traverse the template of `i18n-attr-repo` in the ready() callback\n     * and construct the localizable attributes repository object. The method calls itself\n     * recursively for traversal.\n     *\n     * @param {HTMLElement} node The target HTML node for traversing.\n     */    \n    _traverseTemplateTree: function (node) {\n      var name;\n      if (node.nodeType === node.ELEMENT_NODE) {\n        name = node.nodeName.toLowerCase();\n        Array.prototype.forEach.call(node.attributes, function (attribute) {\n          this.data[name] = this.data[name] || {};\n          this.setLocalizableAttribute(name, attribute.name, attribute.value);\n        }, this);\n      }\n      if (node.childNodes.length > 0) {\n        for (var i = 0; i < node.childNodes.length; i++) {\n          this._traverseTemplateTree(node.childNodes[i]);\n        }\n      }\n    }\n  });\n})();\n/*!\n * @license deepcopy.js Copyright(c) 2013 sasa+1\n * https://github.com/sasaplus1/deepcopy.js\n * Released under the MIT license.\n */\n!function(t,e){\"object\"==typeof exports&&\"object\"==typeof module?module.exports=e():\"function\"==typeof define&&define.amd?define([],e):\"object\"==typeof exports?exports.deepcopy=e():t.deepcopy=e()}(this,function(){return function(t){function e(o){if(n[o])return n[o].exports;var r=n[o]={exports:{},id:o,loaded:!1};return t[o].call(r.exports,r,r.exports,e),r.loaded=!0,r.exports}var n={};return e.m=t,e.c=n,e.p=\"\",e(0)}([function(t,e,n){\"use strict\";t.exports=n(3)},function(t,e){\"use strict\";function n(t,e){if(\"[object Array]\"!==o.call(t))throw new TypeError(\"array must be an Array\");var n=void 0,r=void 0,u=void 0;for(n=0,r=t.length;r>n;++n)if(u=t[n],u===e||u!==u&&e!==e)return n;return-1}e.__esModule=!0;var o=Object.prototype.toString,r=\"undefined\"!=typeof Buffer?function(t){return Buffer.isBuffer(t)}:function(){return!1},u=\"function\"==typeof Object.keys?function(t){return Object.keys(t)}:function(t){var e=typeof t;if(null===t||\"function\"!==e&&\"object\"!==e)throw new TypeError(\"obj must be an Object\");var n=[],o=void 0;for(o in t)Object.prototype.hasOwnProperty.call(t,o)&&n.push(o);return n},i=\"function\"==typeof Symbol?function(t){return Object.getOwnPropertySymbols(t)}:function(){return[]};e.getKeys=u,e.getSymbols=i,e.indexOf=n,e.isBuffer=r},function(t,e,n){\"use strict\";function o(t,e){var n=u(t);return null!==n?n:r(t,e)}function r(t,e){if(\"function\"!=typeof e)throw new TypeError(\"customizer is must be a Function\");if(\"function\"==typeof t){var n=String(t);return/^\\s*function\\s*\\S*\\([^\\)]*\\)\\s*{\\s*\\[native code\\]\\s*}/.test(n)?t:new Function(\"return \"+String(n))()}var o=c.call(t);if(\"[object Array]\"===o)return[];if(\"[object Object]\"===o&&t.constructor===Object)return{};if(\"[object Date]\"===o)return new Date(t.getTime());if(\"[object RegExp]\"===o){var r=String(t),u=r.lastIndexOf(\"/\");return new RegExp(r.slice(1,u),r.slice(u+1))}if((0,i.isBuffer)(t)){var f=new Buffer(t.length);return t.copy(f),f}var l=e(t);return void 0!==l?l:null}function u(t){var e=typeof t;return null!==t&&\"object\"!==e&&\"function\"!==e?t:null}e.__esModule=!0,e.copyValue=e.copyCollection=e.copy=void 0;var i=n(1),c=Object.prototype.toString;e.copy=o,e.copyCollection=r,e.copyValue=u},function(t,e,n){\"use strict\";function o(t){}function r(t){var e=arguments.length<=1||void 0===arguments[1]?o:arguments[1];if(null===t)return null;var n=(0,i.copyValue)(t);if(null!==n)return n;var r=(0,i.copyCollection)(t,e),c=null!==r?r:t,f=[t],l=[c];return u(t,e,c,f,l)}function u(t,e,n,o,r){if(null===t)return null;var f=(0,i.copyValue)(t);if(null!==f)return f;var l=(0,c.getKeys)(t).concat((0,c.getSymbols)(t)),p=void 0,s=void 0,a=void 0,y=void 0,d=void 0,v=void 0,b=void 0,j=void 0;for(p=0,s=l.length;s>p;++p)a=l[p],y=t[a],d=(0,c.indexOf)(o,y),v=void 0,b=void 0,j=void 0,-1===d?(v=(0,i.copy)(y,e),b=null!==v?v:y,null!==y&&/^(?:function|object)$/.test(typeof y)&&(o.push(y),r.push(b))):j=r[d],n[a]=j||u(y,e,b,o,r);return n}e.__esModule=!0;var i=n(2),c=n(1);e[\"default\"]=r,t.exports=e[\"default\"]}])});\n/* jshint -W100 */\n(function(document) {\n  'use strict';\n\n  var html = document.querySelector('html');\n  if (window.ShadowDOMPolyfill) {\n    // Fix #38. Add reflectToAttribute effect on html.lang property\n    // for supplementing Shadow DOM MutationObserver polyfill\n    Object.defineProperty(html, 'lang', {\n      get: function () {\n        return this.getAttribute('lang');\n      },\n      set: function (value) {\n        this.setAttribute('lang', value);\n      }\n    });\n  }\n\n  // Safari 7 predefines non-configurable standard properties\n  // Note: They become configurable with ShadowDOMPolyfill, which wraps them.\n  var isStandardPropertyConfigurable = (function () {\n    var langPropertyDescriptor = Object.getOwnPropertyDescriptor(document.createElement('span'), 'lang');\n    return !langPropertyDescriptor || langPropertyDescriptor.configurable;\n  })();\n  // Polymer 1.4.0 on Safari 7 inserts extra unexpected whitepace node at the beginning of template\n  var extraWhiteSpaceNode = !isStandardPropertyConfigurable;\n  if (Polymer.Element) {\n    isStandardPropertyConfigurable = false;\n  }\n\n  // app global bundle storage\n  var bundles = { '': {} }; // with an empty default bundle\n  // app global default language\n  var defaultLang = html.hasAttribute('lang') ? html.getAttribute('lang') : '';\n  // shared fetching instances for bundles\n  var bundleFetchingInstances = {};\n\n  // path for start URL\n  var startUrl = (function () {\n    var path = window.location.pathname;\n    if (document.querySelector('meta[name=app-root]') &&\n        document.querySelector('meta[name=app-root]').getAttribute('content')) {\n      // <meta name=\"app-root\" content=\"/\"> to customize application root\n      path = document.querySelector('meta[name=app-root]').getAttribute('content');\n    }\n    else if (document.querySelector('link[rel=manifest]') &&\n             document.querySelector('link[rel=manifest]').getAttribute('href') &&\n             document.querySelector('link[rel=manifest]').getAttribute('href').match(/^\\//)) {\n      // assume manifest is located at the application root folder\n      path = document.querySelector('link[rel=manifest]').getAttribute('href');\n    }\n    return path.replace(/\\/[^\\/]*$/,'/');\n  })();\n\n  // path for locales from <html locales-path=\"locales\">\n  var localesPath = html.hasAttribute('locales-path') ? \n                      html.getAttribute('locales-path') : 'locales';\n\n  // Support ShadowDOM V1 on Polymer 2.x\n  var paramAttribute = Polymer.Element ? 'slot' : 'param';\n\n  var attributesRepository = ((!window.HTMLImports || HTMLImports.hasNative) ? document.currentScript : document._currentScript)\n    .ownerDocument.querySelector('i18n-attr-repo');\n\n  // set up userPreference\n  var userPreference = document.querySelector('i18n-preference');\n  if (!userPreference) {\n    userPreference = document.createElement('i18n-preference');\n    // append to body\n    document.querySelector('body').appendChild(userPreference);\n  }\n\n  // debug log when <html debug> attribute exists\n  var debuglog = html.hasAttribute('debug') ?\n    function (arg) {\n      console.log(arg);\n    } :\n    function () {};\n\n  window.BehaviorsStore = window.BehaviorsStore || {};\n  /**\n   * Apply `BehaviorsStore.I18nControllerBehavior` to manipulate internal variables for I18N\n   *\n   * Note: This behavior is not for normal custom elements to apply I18N. UI is not expected.\n   */\n  BehaviorsStore.I18nControllerBehavior = {\n    properties: {\n\n      /**\n       * Flag for detection of `I18nControllerBehavior`\n       *\n       * `true` if I18nControllerBehavior is applied\n       *\n       * Note: Module-specific JSON resources are NOT fetched for `I18nControllerBehavior`\n       */\n      isI18nController: {\n        type: Boolean,\n        value: true,\n        readOnly: true\n      },\n\n      /**\n       * HTML element object for the current document\n       */\n      html: {\n        type: Object,\n        value: html\n      },\n\n      /**\n       * Master bundles object for storing all the localized and default resources\n       */\n      masterBundles: {\n        type: Object,\n        value: bundles\n      },\n\n      /**\n       * Default lang for the document, i.e., the initial value of `<html lang>` attribute\n       */\n      defaultLang: {\n        type: String,\n        value: defaultLang,\n        readOnly: true\n      },\n\n      /**\n       * List of elements which are fetching bundles\n       */\n      bundleFetchingInstances: {\n        type: Object,\n        value: bundleFetchingInstances\n      },\n\n      /**\n       * Root URL path of the application ends with '/' to fetch bundles\n       */\n      startUrl: {\n        type: String,\n        value: startUrl,\n        readOnly: true\n      },\n\n      /**\n       * Path for locales\n       *\n       * Default value is `'locales'`\n       */\n      localesPath: {\n        type: String,\n        value: localesPath,\n        readOnly: true\n      },\n\n      /**\n       * <i18n-attr-repo> element to store attributes repository\n       */\n      attributesRepository: {\n        type: Object,\n        value: attributesRepository,\n        readOnly: true\n      },\n\n      /**\n       * <i18n-preference> element\n       */\n      userPreference: {\n        type: Object,\n        value: userPreference,\n        readOnly: true\n      }\n    }\n  };\n  /**\n   * Apply `BehaviorsStore.I18nBehavior` to implement localizable elements.\n   *\n   *     <dom-module id=\"custom-element\">\n   *       <template>\n   *         <span>Hard-coded UI texts are automatically made localizable</span>\n   *       </template>\n   *       <﻿﻿script﻿﻿>\n   *         Polymer({\n   *           is: 'custom-element',\n   *           behaviors: [ \n   *             BehaviorsStore.I18nBehavior  // Add this behavior\n   *           ]\n   *         });\n   *       <﻿﻿/script﻿﻿>\n   *     </dom-module>\n   *\n   * `I18nBehavior` automatically extracts UI texts from `template` and \n   * binds them to localizable variables in `this.text` object.\n   *\n   * According to the `lang` attribute value, `this.text`, and thus the bound UI texts,\n   * dynamically mutates by loading localized values from a JSON file in the `locales` directory.\n   * By default, `lang` attribute values of all the localizable elements with `I18nBehavior` are\n   * automatically updated according to `<html lang>` attribute value.\n   *\n   * The UI text externalization can be processed at build time as well by `gulp-*` task\n   * so that `I18nBehavior` can immediately recognize the extracted texts in JSON and \n   * skip run-time externalization.\n   *\n   * Run-time externalization is suitable for development and debugging \n   * since the code changes are immediately reflected at reloading without build-time preprocesses.\n   * In contrast, build-time externalization is suitable for production builds \n   * since it eliminates run-time externalization overheads.\n   * \n   * ### Steps to localize a custom element\n   *\n   * 1. [JavaScript] Add `BehaviorsStore.I18nBehavior` to `behaviors`\n   * 1. [gulp] Add `gulp-*` filter for `custom-element.html` and generate `custom-element.json`\n   * 1. [locales] Put `custom-element.lang.json` in `locales` directory\n   * 1. [translation] Translate `locales/custom-element.lang.json`\n   *\n   * - - -\n   *\n   * ### Directory structure of bundle files\n   *\n   * Normal bundles (`/element-root/locales/element-name.*.json`) for elements\n   * are stored under their root directories.\n   *\n   * Shared bundles (`/locales/bundle.*.json`) are generated at build time \n   * by merging all the targeted bundles of the localizable elements. \n   *\n   * Once the shared bundles are loaded, there should be no need to search for \n   * normal bundles per element unless the element is intentionally excluded \n   * from the shared bundles.\n   *\n   * ```\n   *      /bundle.json \n   *      /locales/bundle.ja.json\n   *              /bundle.fr.json\n   *              /bundle.zh-Hans.json\n   *\n   *      /elements/my-list/my-list.json\n   *                       /locales/my-list.ja.json\n   *                               /my-list.zh-Hans.json\n   *\n   *               /google-chart-demo/google-chart-demo.json\n   *                                 /locales/google-chart-demo.ja.json\n   *                                         /google-chart-demo.fr.json\n   * ```\n   *\n   * - - -\n   *\n   * ### Localizable `<template is=\"i18n-dom-bind\" id=\"app\">` element\n   *\n   * `<template is=\"i18n-dom-bind\">` template element extends \n   * `<template is=\"dom-bind\">` template element with all the capabilities of \n   * `I18nBehavior`.  \n   *\n   * The `id` attribute value is used for naming bundle files instead of the element name.\n   * \n   * The bundle files are stored at the locales directory under the application root. \n   *\n   * ```\n   *      /app.json\n   *      /locales/app.ja.json\n   *              /app.fr.json\n   *              /app.zh-Hans.json\n   * ```\n   *\n   * - - -\n   *\n   * ### TODOs\n   *\n   * - Support user locale preference per user\n   *\n   * @polymerBehavior BehaviorsStore.I18nBehavior\n   * @group I18nBehavior\n   * @hero hero.svg\n   * @demo demo/index.html\n   */\n  BehaviorsStore.I18nBehavior = {\n\n    /**\n     * Fired when the text message bundle object (`this.text`) is updated after `this.lang` is changed.\n     *\n     * @event lang-updated\n     */\n\n    /**\n     * Fired when a shared bundle is fetched.\n     *\n     * @event bundle-fetched\n     */\n\n    properties: {\n      /**\n       * The locale of the element.\n       * The default value is copied from `<html lang>` attribute of the current page.\n       * If `<html lang>` is not specified, `''` is set to use the template default language.\n       *\n       * The value is synchronized with `<html lang>` attribute of the current page by default.\n       *\n       * ### Note:\n       *  - The value may not reflect the current UI locale until the localized texts are loaded.\n       */\n      lang: {\n        type: String,\n        value: defaultLang,\n        reflectToAttribute: true,\n        observer: '_langChanged'\n      },\n\n      /**\n       * Text message bundle object for the current locale.\n       * The object is shared among all the instances of the same element.\n       * The value is updated when `lang-updated` event is fired.\n       */\n      text: {\n        type: Object,\n        computed: '_getBundle(lang)'\n      },\n\n      /**\n       * Data model bundle object for the current locale.\n       * The data are bound to localizable attribute values in the element template.\n       * The object is cloned from `this.text.model` per instance.\n       * The value is NOT automatically updated in sync with `this.text`.\n       * \n       * How to manually update the model object when `lang-updated` event is fired:\n       * ```\n       *     this.model = deepcopy(this.text.model);\n       * ```\n       */\n      model: {\n        type: Object,\n        notify: true\n      },\n\n      /**\n       * The locale of the hard-coded texts in the element's template.\n       * The read-only value can be specified by the `lang` attribute of the element's `template`.\n       * The default value is 'en' if not specified in the `template` element.\n       *\n       * ```\n       *  <dom-module id=\"custom-element\">\n       *    <template lang=\"en\">\n       *      <span>Hard-coded text in English</span>\n       *    </template>\n       *  <dom-module>\n       * ```\n       */\n      templateDefaultLang: {\n        type: String,\n        value: 'en'\n      },\n\n      /**\n       * The effective locale of the element.\n       * The value is updated when the localized texts are loaded and `lang-updated` event is fired.\n       */\n      effectiveLang: {\n        type: String\n      },\n\n      /**\n       * Boolean flag to synchronize with the value of  `<html lang>` attribute.\n       */\n      observeHtmlLang: {\n        type: Boolean,\n        value: true,\n        observer: '_observeHtmlLangChanged'\n      }\n    },\n\n    listeners: {\n      'lang-updated': '_updateEffectiveLang'\n    },\n\n    /* \n       bundles = \n       {\n        \"\": {},\n        \"en\": {\n          \"my-list\": {\n            \"p_2\": \"You now have:\",\n            \"model\": {\n              \"list\": {\n                \"items\": [\n                  \"item 1\", \"item 2\"\n                ]\n              }\n            }\n          },\n          \"google-chart-demo\": {\n            \"simple-chart-desc\": [\n              \"template {1} string\", \"param 1\"\n            ]\n            \"model\": {\n              \"simple-chart\": {\n                \"options\": { \"title\": \"Simple Chart\" },\n                \"rows\": []\n              }\n            }\n          }\n        },\n        \"ja\": {\n          \"my-list\": {},\n          \"google-chart-demo\": {}\n        }\n      }\n\n      bundles[lang]\n      /bundle.json - fallback\n      /locales/bundle.en.json\n              /bundle.ja.json\n              /bundle.fr.json\n              /bundle.zh-Hans.json\n\n      bundles[lang][is]\n      /elements/my-list/my-list.json - fallback\n                       /locales/my-list.en.json\n                               /my-list.ja.json\n                               /my-list.zh-Hans.json\n\n               /google-chart-demo/google-chart-demo.json - fallback\n                                 /locales/google-chart-demo.en.json\n                                         /google-chart-demo.ja.json\n                                         /google-chart-demo.zh-Hans.json\n\n      app/elements/my-list/my-list.json\n                          /locales/my-list.fr.json\n                                  /my-list.ja.json\n                                  /my-list.zh-Hans.json\n\n      dist/elements/my-list/my-list.json\n                           /locales/my-list.fr.json\n                                   /my-list.ja.json\n                                   /my-list.zh-Hans.json\n\n    */\n\n\n    /**\n     * The backend logic for `this.text` object.\n     *\n     * @param {string} lang Locale for the text message bundle.\n     * @return {Object} Text message bundle for the locale.\n     */\n    _getBundle: function (lang) {\n      //console.log('_getBundle called for ' + this.is + ' with lang = ' + lang);\n\n      var resolved;\n      var id = this.is === 'i18n-dom-bind' || (Polymer.Element && this.constructor.is === 'i18n-dom-bind') ? this.id : this.is;\n\n      if (lang && lang.length > 0) {\n        var fallbackLanguageList = this._enumerateFallbackLanguages(lang);\n        var tryLang;\n        while ((tryLang = fallbackLanguageList.shift())) {\n          if (!bundles[tryLang]) {\n            // set up an empty bundle for the language if missing\n            bundles[tryLang] = {};\n          }\n          if (bundles[tryLang][id]) {\n            // bundle found\n            resolved = bundles[tryLang][id];\n            break;\n          }\n        }\n      }\n      else {\n        // lang is not specified\n        lang = '';\n        resolved = bundles[lang][id];\n      }\n\n      // Fallback priorities: last > app default > element default > fallback > {}\n      // TODO: need more research on fallback priorities\n      if (!resolved) { \n        if (this._fetchStatus && bundles[this._fetchStatus.lastLang] && bundles[this._fetchStatus.lastLang][id]) {\n          // old bundle for now (no changes should be shown)\n          resolved = bundles[this._fetchStatus.lastLang][id]; \n        }\n        else if (defaultLang && defaultLang.length > 0 &&\n                 bundles[defaultLang] && bundles[defaultLang][id]) {\n          // app default language for now\n          resolved = bundles[defaultLang][id]; \n        }\n        else if (this.templateDefaultLang && this.templateDefaultLang.length > 0 &&\n                 bundles[this.templateDefaultLang] && bundles[this.templateDefaultLang][id]) {\n          // element default language for now\n          resolved = bundles[this.templateDefaultLang][id]; \n        }\n        /* no more fallback should happen */\n        /* istanbul ignore else */\n        else if (bundles[''][id]) {\n          // fallback language for now (this should be the same as element default)\n          resolved = bundles[''][id];\n        }\n        else {\n          // give up providing a bundle (this should not happen)\n          resolved = {};\n        }\n      }\n\n      return resolved;\n    },\n\n    /**\n     * Enumerate fallback locales for the target locale.\n     * \n     * Subset implementation of BCP47 (https://tools.ietf.org/html/bcp47).\n     *\n     * ### Examples:\n     *\n     *| Target Locale | Fallback 1 | Fallback 2 | Fallback 3 |\n     *|:--------------|:-----------|:-----------|:-----------|\n     *| ru            | N/A        | N/A        | N/A        |\n     *| en-GB         | en         | N/A        | N/A        |\n     *| en-Latn-GB    | en-GB      | en-Latn    | en         |\n     *| fr-CA         | fr         | N/A        | N/A        |\n     *| zh-Hans-CN    | zh-Hans    | zh         | N/A        |\n     *| zh-CN         | zh-Hans    | zh         | N/A        |\n     *| zh-TW         | zh-Hant    | zh         | N/A        |\n     *\n     * #### Note:\n     *\n     * For zh language, the script Hans or Hant is supplied as its default script when a country/region code is supplied.\n     *\n     * @param {string} lang Target locale.\n     * @return {Array} List of fallback locales including the target locale at the index 0.\n     */\n    _enumerateFallbackLanguages: function (lang) {\n      var result = [];\n      var parts;\n      var match;\n      var isExtLangCode = 0;\n      var extLangCode;\n      var isScriptCode = 0;\n      var scriptCode;\n      var isCountryCode = 0;\n      var countryCode;\n      var n;\n      if (!lang || lang.length === 0) {\n        result.push('');\n      }\n      else {\n        parts = lang.split(/[-_]/);\n        // normalize ISO-639-1 language codes\n        if (parts.length > 0 &&\n            parts[0].match(/^[A-Za-z]{2,3}$/)) {\n          // language codes have to be lowercased\n          // e.g. JA -> ja, FR -> fr\n          // TODO: normalize 3-letter codes to 2-letter codes\n          parts[0] = parts[0].toLowerCase();\n        }\n        // normalize ISO-639-3 extension language codes\n        if (parts.length >= 2 &&\n            parts[1].match(/^[A-Za-z]{3}$/) &&\n            !parts[1].match(/^[Cc][Hh][SsTt]$/)) { // exclude CHS,CHT\n          // extension language codes have to be lowercased\n          // e.g. YUE -> yue\n          isExtLangCode = 1;\n          extLangCode = parts[1] = parts[1].toLowerCase();\n        }\n        // normalize ISO-15924 script codes\n        if (parts.length >= isExtLangCode + 2 &&\n            (match = parts[isExtLangCode + 1].match(/^([A-Za-z])([A-Za-z]{3})$/))) {\n          // script codes have to be capitalized only at the first character\n          // e.g. HANs -> Hans, lAtN -> Latn\n          isScriptCode = 1;\n          scriptCode = parts[isExtLangCode + 1] = match[1].toUpperCase() + match[2].toLowerCase();\n        }\n        // normalize ISO-3166-1 country/region codes\n        if (parts.length >= isExtLangCode + isScriptCode + 2 &&\n            (match = parts[isExtLangCode + isScriptCode + 1].match(/^[A-Za-z0-9]{2,3}$/))) {\n          // country/region codes have to be capitalized\n          // e.g. cn -> CN, jP -> JP\n          isCountryCode = 1;\n          countryCode = parts[isExtLangCode + isScriptCode + 1] = match[0].toUpperCase();\n        }\n        // extensions have to be in lowercases\n        // e.g. U-cA-Buddhist -> u-ca-buddhist, X-LiNux -> x-linux\n        if (parts.length >= isExtLangCode + isScriptCode + isCountryCode + 2) {\n          for (n = isExtLangCode + isScriptCode + isCountryCode + 1; n < parts.length; n++) {\n            parts[n] = parts[n].toLowerCase();\n          }\n        }\n        // enumerate fallback languages\n        while (parts.length > 0) {\n          // normalize delimiters as -\n          // e.g. ja_JP -> ja-JP\n          result.push(parts.join('-'));\n          if (isScriptCode &&\n              isCountryCode &&\n              parts.length == isExtLangCode + isScriptCode + 2) {\n            // script code can be omitted to default\n            // e.g. en-Latn-GB -> en-GB, zh-Hans-CN -> zh-CN\n            parts.splice(isExtLangCode + isScriptCode, 1);\n            result.push(parts.join('-'));\n            parts.splice(isExtLangCode + isScriptCode, 0, scriptCode);\n          }\n          if (isExtLangCode &&\n              isCountryCode &&\n              parts.length == isExtLangCode + isScriptCode + 2) {\n            // ext lang code can be omitted to default\n            // e.g. zh-yue-Hans-CN -> zh-Hans-CN\n            parts.splice(isExtLangCode, 1);\n            result.push(parts.join('-'));\n            parts.splice(isExtLangCode, 0, extLangCode);\n          }\n          if (isExtLangCode &&\n              isScriptCode &&\n              parts.length == isExtLangCode + isScriptCode + 1) {\n            // ext lang code can be omitted to default\n            // e.g. zh-yue-Hans -> zh-Hans\n            parts.splice(isExtLangCode, 1);\n            result.push(parts.join('-'));\n            parts.splice(isExtLangCode, 0, extLangCode);\n          }\n          if (!isScriptCode &&\n              !isExtLangCode &&\n              isCountryCode &&\n              parts.length == 2) {\n            // default script code can be added in certain cases with country codes\n            // e.g. zh-CN -> zh-Hans-CN, zh-TW -> zh-Hant-TW\n            switch (result[result.length - 1]) {\n            case 'zh-CN':\n            case 'zh-CHS':\n              result.push('zh-Hans');\n              break;\n            case 'zh-TW':\n            case 'zh-SG':\n            case 'zh-HK':\n            case 'zh-CHT':\n              result.push('zh-Hant');\n              break;\n            default:\n              break;\n            }\n          }\n          parts.pop();\n        }\n      }\n      return result;\n    },\n\n    /**\n     * Get the next fallback locale for the target locale.\n     * \n     * Subset implementation of BCP47 (https://tools.ietf.org/html/bcp47).\n     *\n     * ### Examples:\n     *\n     *| Target Locale | Next Fallback |\n     *|:--------------|:--------------|\n     *| ru            | null          |\n     *| en-GB         | en            |\n     *| fr-CA         | fr            |\n     *| zh-Hans-CN    | zh-Hans       |\n     *\n     * @param {string} lang Target locale.\n     * @return {string} Next fallback locale. `null` if there are no fallback languages.\n     */\n    /*\n    _getNextFallbackLanguage: function (lang) {\n      var fallbackLanguageList = this._enumerateFallbackLanguages(lang);\n      fallbackLanguageList.shift();\n      var nextFallbackLanguage = fallbackLanguageList.shift();\n      return nextFallbackLanguage ? nextFallbackLanguage : null;\n    },\n    */\n\n    /**\n     * MutationObserver callback of `lang` attribute for Safari 7\n     *\n     * @param {Array} mutations Array of MutationRecord (https://developer.mozilla.org/en-US/docs/Web/API/MutationObserver).\n     */\n    _handleLangAttributeChange: function (mutations) {\n      mutations.forEach(function(mutation) {\n        switch (mutation.type) {\n        case 'attributes':\n          if (mutation.attributeName === 'lang') {\n            //console.log('_handleLangAttributeChange lang = ' + this.lang + ' oldValue = ' + mutation.oldValue +\n            //            ' typeof oldValue = ' + typeof mutation.oldValue);\n            if (!(typeof mutation.oldValue === 'object' && !mutation.oldValue) &&\n                mutation.oldValue !== this.lang) {\n              if (this._lang !== mutation.oldValue) {\n                //console.log('assigning this._lang = ' + mutation.oldValue + ' from old value');\n                this._lang = mutation.oldValue;\n              }\n              //console.log('assigning this._lang = ' + this.lang);\n              this._lang = this.lang;\n            }\n            else if (mutation.oldValue != this.lang && this._lang !== this.lang) {\n              //console.log('assigning this._lang = ' + this.lang);\n              this._lang = this.lang;\n            }\n          }\n          break;\n        default:\n          /* istanbul ignore next: mutation.type is always attributes */\n          break;\n        }\n      }, this);\n    },\n\n    /**\n     * Observer of `this.lang` changes.\n     *\n     * Update `this.text` object if the text message bundle of the new `lang` is locally available.\n     *\n     * Trigger fetching of the text message bundle of the new `lang` if the bundle is not locally available.\n     *\n     * @param {string} lang New value of `lang`.\n     * @param {string} oldLang Old value of `lang`.\n     */\n    _langChanged: function (lang, oldLang) {\n      //console.log(this.id + ':_langChanged lang = ' + lang + ' oldLang = ' + oldLang);\n      var id = (this.is || this.getAttribute('is')) === 'i18n-dom-bind' ? this.id : this.is;\n      lang = lang || ''; // undefined and null are treated as default ''\n      oldLang = oldLang || '';\n      if (lang !== oldLang &&\n          bundles[oldLang] && bundles[oldLang][id]) {\n        this._fetchStatus.lastLang = oldLang;\n      }\n      if (bundles[lang] && bundles[lang][id]) {\n        // bundle available for the new language\n        if (this._fetchStatus && lang !== this._fetchStatus.ajaxLang) {\n          // reset error status\n          this._fetchStatus.error = null;\n        }\n        if (!Polymer.Element || (Polymer.Element && this.__data)) {\n          this.notifyPath('text', this._getBundle(this.lang));\n        }\n        this.effectiveLang = lang;\n        this.fire('lang-updated', { \n          lang: this.lang, \n          oldLang: oldLang, \n          lastLang: this._fetchStatus.lastLang \n        });\n      }\n      else {\n        // fetch the missing bundle\n        this._fetchLanguage(lang);\n      }\n    },\n\n    /**\n     * Called on `lang-updated` events and update `this.effectiveLang` with the value of `this.lang`.\n     */\n    _updateEffectiveLang: function (event) {\n      if (Polymer.dom(event).rootTarget === this) {\n        //console.log('_updateEffectiveLang: lang = ' + this.lang);\n        this.effectiveLang = this.lang;\n      }\n    },\n\n    /**\n     * Trigger fetching of the appropriate text message bundle of the target locale.\n     *\n     * ### Two Layers of Fallbacks:\n     *\n     * 1. Missing bundles fall back to those of their fallback locales.\n     * 1. Missing texts in the non-default bundles fall back to those in the default bundle. \n     *\n     * ### Fallback Examples:\n     *\n     *| Locale      | Bundle Status                    |\n     *|:------------|:---------------------------------|\n     *| fr-CA       | existent with sparse texts       |\n     *| fr          | existent with full texts         |\n     *| ja          | existent with some missing texts |\n     *| zh-Hans-CN  | missing                          |\n     *| zh-Hans     | existent with some missing texts |\n     *| zh          | missing                          |\n     *| en          | existent with full texts         |\n     *| ''(default) | existent with full texts         |\n     *\n     *| Target      | Fallback bundle       | Resolved locale |\n     *|:------------|:----------------------|:----------------|\n     *| en          | en                    | en              |\n     *| ja          | ja + ''(default)      | ja              |\n     *| fr-CA       | fr-CA + fr            | fr-CA           |\n     *| zh-Hans-CN  | zh-Hans + ''(default) | zh-Hans         |\n     *\n     * @param {string} lang Target locale.\n     */\n    _fetchLanguage: function (lang) {\n      if (this._fetchStatus) {\n        this._fetchStatus.fallbackLanguageList = this._enumerateFallbackLanguages(lang);\n        this._fetchStatus.fallbackLanguageList.push('');\n        this._fetchStatus.targetLang = this._fetchStatus.fallbackLanguageList.shift();\n        this._fetchBundle(this._fetchStatus.targetLang);\n      }\n    },\n\n    /**\n     * Fetch the text message bundle of the target locale \n     * cooperatively with other instances.\n     *\n     * @param {string} lang Target locale.\n     */\n    _fetchBundle: function (lang) {\n      //console.log('_fetchBundle lang = ' + lang);\n      if (!lang || lang.length === 0) {\n        // handle empty cases\n        if (defaultLang && defaultLang.length > 0) {\n          lang = defaultLang; // app default language\n        }\n        else if (this.templateDefaultLang && this.templateDefaultLang.length > 0) {\n          lang = this.templateDefaultLang; // element default language\n        }\n        else {\n          lang = ''; // fallback default language\n        }\n      }\n\n      // set up an empty bundle if inexistent\n      bundles[lang] = bundles[lang] || {};\n      var id = this.is === 'i18n-dom-bind' || (Polymer.Element && this.constructor.is === 'i18n-dom-bind') ? this.id : this.is;\n\n      if (bundles[lang][id]) {\n        // bundle is available; no need to fetch\n        if (this._fetchStatus.targetLang === lang) {\n          // reset error status\n          this._fetchStatus.error = null;\n          if (this.lang === lang) {\n            this.notifyPath('text', this._getBundle(this.lang));\n            this.fire('lang-updated', { \n              lang: this.lang, \n              lastLang: this._fetchStatus.lastLang\n            });\n          }\n          else {\n            this.lang = lang; // trigger lang-updated event\n          }\n        }\n        else {\n          var nextFallbackLanguage = this._fetchStatus.fallbackLanguageList.shift();\n          // bundle is available; no need to fetch\n          this._fetchStatus.fetchingInstance = null;\n          if (nextFallbackLanguage) {\n            this._fetchBundle(nextFallbackLanguage);\n          }\n          else {\n            this._constructBundle(this._fetchStatus.targetLang);\n            // reset error status\n            this._fetchStatus.error = null;\n            if (this.lang === this._fetchStatus.targetLang) {\n              this.notifyPath('text', this._getBundle(this.lang));\n              this.fire('lang-updated', { \n                lang: this.lang,\n                lastLang: this._fetchStatus.lastLang\n              });\n            }\n            else {\n              this.lang = this._fetchStatus.targetLang; // trigger lang-updated event\n            }\n          }\n        }\n      }\n      else if (this._fetchStatus.fetchingInstance) {\n        if (this._fetchStatus.fetchingInstance !== this) {\n          // fetching in progress by another instance\n          // TODO: redundant addEventListener multiple times\n          this._forwardLangEventBindThis = this._forwardLangEventBindThis ||\n                                            this._forwardLangEvent.bind(this);\n          this._fetchStatus.fetchingInstance\n              .addEventListener('lang-updated', this._forwardLangEventBindThis);\n        }\n      }\n      else if (bundleFetchingInstances[lang]) {\n        // fetching bundle.lang.json in progress by an instance of another element\n        this._fetchStatus.fetchingInstance = this;\n        this._fetchStatus.ajaxLang = lang;\n        this._handleBundleFetchedBindThis = this._handleBundleFetchedBindThis ||\n                                            this._handleBundleFetched.bind(this);\n        bundleFetchingInstances[lang]\n          .addEventListener('bundle-fetched', this._handleBundleFetchedBindThis);\n        //console.log(this.is + ' addEventListener bundle-fetched');\n      }\n      else {\n        // proceed to fetch\n        this._fetchStatus.fetchingInstance = this;\n        if (!this._fetchStatus.ajax) {\n          // set up ajax client\n          this._fetchStatus.ajax = Polymer.Base.create('iron-ajax');\n          this._fetchStatus.ajax.handleAs = 'json';\n          this._fetchStatus._handleResponseBindFetchingInstance = this._handleResponse.bind(this);\n          this._fetchStatus._handleErrorBindFetchingInstance = this._handleError.bind(this);\n          this._fetchStatus.ajax.addEventListener('response', this._fetchStatus._handleResponseBindFetchingInstance);\n          this._fetchStatus.ajax.addEventListener('error', this._fetchStatus._handleErrorBindFetchingInstance);\n        }\n        else {\n          if (this._fetchStatus._handleResponseBindFetchingInstance) {\n            this._fetchStatus.ajax.removeEventListener('response', this._fetchStatus._handleResponseBindFetchingInstance);\n          }\n          if (this._fetchStatus._handleErrorBindFetchingInstance) {\n            this._fetchStatus.ajax.removeEventListener('error', this._fetchStatus._handleErrorBindFetchingInstance);\n          }\n          this._fetchStatus._handleResponseBindFetchingInstance = this._handleResponse.bind(this);\n          this._fetchStatus._handleErrorBindFetchingInstance = this._handleError.bind(this);\n          this._fetchStatus.ajax.addEventListener('response', this._fetchStatus._handleResponseBindFetchingInstance);\n          this._fetchStatus.ajax.addEventListener('error', this._fetchStatus._handleErrorBindFetchingInstance);\n        }\n        // TODO: app global bundles have to be handled\n        var url;\n        var skipFetching = false;\n\n        if (lang === '') {\n          url = this.resolveUrl(id + '.json');\n        }\n        else {\n          if (bundles[lang] && bundles[lang].bundle) {\n            // missing in the bundle\n            url = this.resolveUrl(localesPath + '/' + id + '.' + lang + '.json');\n            skipFetching = !!this.isI18nController;\n          }\n          else {\n            // fetch the bundle\n            bundleFetchingInstances[lang] = this;\n            url = this.resolveUrl(startUrl + localesPath + '/bundle.' + lang + '.json');\n          }\n        }\n        this._fetchStatus.ajax.url = url;\n        this._fetchStatus.ajaxLang = lang;\n        try {\n          this._fetchStatus.error = null;\n          if (skipFetching) {\n            this._handleError({ detail: { error: 'skip fetching for I18nController' }});\n          }\n          else {\n            this._fetchStatus.ajax.generateRequest();\n          }\n        }\n        catch (e) {\n          // TODO: extract error message from the exception e\n          this._handleError({ detail: { error: 'ajax request failed: ' + e }});\n        }\n      }\n    },\n\n    /**\n     * Handle Ajax success response for a bundle.\n     *\n     * @param {Object} event `iron-ajax` success event.\n     */\n    _handleResponse: function (event) {\n      //console.log('_handleResponse ajaxLang = ' + this._fetchStatus.ajaxLang);\n      if (this._fetchStatus.ajax.url.indexOf('/' + localesPath + '/bundle.') >= 0) {\n        bundles[this._fetchStatus.ajaxLang] = bundles[this._fetchStatus.ajaxLang] || {};\n        this._deepMap(bundles[this._fetchStatus.ajaxLang],\n                      event.detail.response,\n                      function (text) { return text; });\n        bundles[this._fetchStatus.ajaxLang].bundle = true;\n        bundleFetchingInstances[this._fetchStatus.ajaxLang] = null;\n        //console.log('bundle-fetched ' + this.is + ' ' + this._fetchStatus.ajaxLang);\n        this.fire('bundle-fetched', { success: true, lang: this._fetchStatus.ajaxLang });\n        var id = this.is === 'i18n-dom-bind' ? this.id : this.is;\n        if (bundles[this._fetchStatus.ajaxLang][id]) {\n          this._fetchStatus.lastResponse = bundles[this._fetchStatus.ajaxLang][id];\n        }\n        else {\n          // bundle does not contain text for this.is\n          this._fetchStatus.fetchingInstance = null;\n          this._fetchBundle(this._fetchStatus.ajaxLang);\n          return;\n        }\n      }\n      else {\n        this._fetchStatus.lastResponse = event.detail.response;\n      }\n      if (this._fetchStatus.lastResponse) {\n        var nextFallbackLanguage = this._fetchStatus.fallbackLanguageList.shift();\n        // store the raw response\n        this._fetchStatus.rawResponses[this._fetchStatus.ajaxLang] = \n          this._fetchStatus.lastResponse;\n\n        this._fetchStatus.fetchingInstance = null;\n        if (nextFallbackLanguage) {\n          this._fetchBundle(nextFallbackLanguage);        \n        }\n        else {\n          this._fetchBundle('');\n        }\n      }\n      else {\n        event.detail.error = 'empty response for ' + this._fetchStatus.ajax.url;\n        this._handleError(event);\n      }\n    },\n\n    /**\n     * Handle Ajax error response for a bundle.\n     *\n     * @param {Object} event `iron-ajax` error event.\n     */\n    _handleError: function (event) {\n      var nextFallbackLanguage;\n      this._fetchStatus.fetchingInstance = null;\n      if (this._fetchStatus.ajax.url.indexOf('/' + localesPath + '/bundle.') >= 0) {\n        bundles[this._fetchStatus.ajaxLang] = bundles[this._fetchStatus.ajaxLang] || {};\n        bundles[this._fetchStatus.ajaxLang].bundle = true;\n        bundleFetchingInstances[this._fetchStatus.ajaxLang] = null;\n        // falls back to its element-specific bundle\n        this._fetchBundle(this._fetchStatus.ajaxLang);\n        //console.log('bundle-fetched ' + this.is + ' ' + this._fetchStatus.ajaxLang);\n        this.fire('bundle-fetched', { success: false, lang: this._fetchStatus.ajaxLang });\n        return;\n      }\n      nextFallbackLanguage = this._fetchStatus.fallbackLanguageList.shift();\n      if (this._fetchStatus.ajaxLang === this._fetchStatus.targetLang) {\n        if (nextFallbackLanguage) {\n          //console.log(this.is + ': ' + this._fetchStatus.ajaxLang +\n          //            ' falls back to ' + nextFallbackLanguage);\n          this._fetchStatus.targetLang = nextFallbackLanguage;\n          this._fetchBundle(nextFallbackLanguage);\n        }\n        else {\n          this._fetchStatus.error = event.detail.error;\n          //console.log(this._fetchStatus.error);\n          // falls back to default\n          this.lang = '';\n        }\n      }\n      else {\n        // fetching dependent fallback languages\n        if (nextFallbackLanguage) {\n          //console.log(this.is + ': ' + this._fetchStatus.ajaxLang +\n          //            ' is missing and skipped');\n          //console.log(this.is + ': step to the next dependent fallback ' +\n          //            nextFallbackLanguage);\n          this._fetchBundle(nextFallbackLanguage);\n        }\n        else {\n          this._fetchBundle('');\n        }\n      }\n    },\n\n    /**\n     * Forward `lang-updated` event to other instances of the same element.\n     *\n     * @param {Object} event `lang-updated` event object.\n     */\n    _forwardLangEvent: function (event) {\n      //console.log('_forwardLangEvent ' + this.is + ' ' + event.detail.lang);\n      event.target.removeEventListener(event.type, this._forwardLangEventBindThis);\n      if (this.lang === event.detail.lang) {\n        this.notifyPath('text', this._getBundle(this.lang));\n        this.fire(event.type, event.detail);\n      }\n      else {\n        this.lang = event.detail.lang;\n        this.notifyPath('text', this._getBundle(this.lang));\n      }\n    },\n\n    /**\n     * Handle `bundle-fetched` event.\n     *\n     * @param {Object} event `bundle-fetched` event object.\n     */\n    _handleBundleFetched: function (event) {\n      var detail = event.detail;\n      //console.log('_handleBundleFetched ' + this.is + ' ' + detail.lang);\n      event.target.removeEventListener(event.type, this._handleBundleFetchedBindThis);\n      if (this._fetchStatus.ajaxLang === detail.lang) {\n        this._fetchStatus.fetchingInstance = null;\n        this._fetchBundle(this._fetchStatus.ajaxLang);\n      }\n    },\n\n    /**\n     * Handle changes of `observeHtmlLang` property.\n     *\n     * @param {Boolean} value Value of `observeHtmlLang`\n     */\n    _observeHtmlLangChanged: function (value) {\n      if (value) {\n        this._htmlLangObserver = this._htmlLangObserver || \n          new MutationObserver(this._handleHtmlLangChange.bind(this));\n        this._htmlLangObserver.observe(html, { attributes: true });\n      }\n      else {\n        if (this._htmlLangObserver) {\n          this._htmlLangObserver.disconnect();\n        }\n      }\n    },\n\n    /**\n     * MutationObserver callback of `<html lang>` attribute.\n     *\n     * @param {Array} mutations Array of MutationRecord (https://developer.mozilla.org/en-US/docs/Web/API/MutationObserver).\n     */\n    _handleHtmlLangChange: function (mutations) {\n      mutations.forEach(function(mutation) {\n        switch (mutation.type) {\n        case 'attributes':\n          if (mutation.attributeName === 'lang') {\n            this.lang = html.lang;\n          }\n          break;\n        default:\n          break;\n        }\n      }, this);\n    },\n\n    /**\n     * Construct the text message bundle of the target locale with fallback of missing texts.\n     *\n     * @param {strings} lang Target locale.\n     */\n    _constructBundle: function (lang) {\n      var fallbackLanguageList = this._enumerateFallbackLanguages(lang);\n      var bundle = {};\n      var raw;\n      var baseLang;\n      var id = this.is === 'i18n-dom-bind' ? this.id : this.is;\n      var i;\n      fallbackLanguageList.push('');\n      for (i = 0; i < fallbackLanguageList.length; i++) {\n        if (bundles[fallbackLanguageList[i]] &&\n            bundles[fallbackLanguageList[i]][id]) {\n          break;\n        }\n      }\n      fallbackLanguageList.splice(i + 1, fallbackLanguageList.length);\n      while ((baseLang = fallbackLanguageList.pop()) !== undefined) {\n        if (bundles[baseLang][id]) {\n          bundle = deepcopy(bundles[baseLang][id]);\n        }\n        else {\n          raw = this._fetchStatus.rawResponses[baseLang];\n          if (raw) {\n            this._deepMap(bundle, raw, function (text) { return text; });\n          }\n        }\n      }\n      // store the constructed bundle\n      if (!bundles[lang]) {\n        bundles[lang] = {};\n      }\n      bundles[lang][id] = bundle;\n    },\n\n    /**\n     * Construct a pseudo-bundle for the target locale. (Not used for now)\n     *\n     * @param {string} lang Target locale.\n     */\n    /*\n    _constructPseudoBundle: function (lang) {\n      var bundle = {};\n      var id = this.is === 'i18n-dom-bind' ? this.id : this.is;\n      this._deepMap(bundle, bundles[''][id], function (value) {\n        return typeof value === 'string' ? lang + ' ' + value : value;\n      });\n      bundles[lang] = bundles[lang] || {};\n      bundles[lang][id] = bundle;\n      return bundle;\n    },\n    */\n\n    /**\n     * Recursively map the source object onto the target object with the specified map function.\n     * \n     * The method is used to merge a bundle into its fallback bundle.\n     *\n     * @param {Object} target Target object.\n     * @param {Object} source Source object.\n     * @param {Function} map Mapping function.\n     */\n    _deepMap: function (target, source, map) {\n      var value;\n      for (var prop in source) {\n        value = source[prop];\n        switch (typeof value) {\n        case 'string':\n        case 'number':\n        case 'boolean':\n          if (typeof target === 'object') {\n            target[prop] = map(value, prop);\n          }\n          break;\n        case 'object':\n          if (typeof target === 'object') {\n            if (Array.isArray(value)) {\n              // TODO: cannot handle deep objects properly\n              target[prop] = target[prop] || [];\n              this._deepMap(target[prop], value, map);\n            }\n            else {\n              target[prop] = target[prop] || {};\n              this._deepMap(target[prop], value, map);\n            }\n          }\n          break;\n        default:\n          if (typeof target === 'object') {\n            target[prop] = value;\n          }\n          break;\n        }\n      }\n    },\n\n    /**\n     * Construct the default bundle from the element's template.\n     *\n     * Extract the default bundle from the template if it is embedded as JSON at build time.\n     *\n     * ### Hard-coded UI text example:\n     * ```\n     *   <dom-module id=\"custom-element\">\n     *     <template>\n     *       <span id=\"label\">UI Text Label:</span>\n     *       <input id=\"input-el\"\n     *              value=\"{{keyword}}\"\n     *              placeholder=\"Keyword\">\n     *     </template>\n     *   </dom-module>\n     * ```\n     *\n     * ### Constructed default bundle for the above example:\n     * ```\n     *   {\n     *     \"model\" : {\n     *       \"input-el\": {\n     *         \"placeholder\": \"Keyword\"\n     *       }\n     *     },\n     *     \"label\": \"UI Text Label:\"\n     *   }\n     * ```\n     *\n     * ### Processed template with bound annotations for the above example:\n     * ```\n     *   <dom-module id=\"custom-element\">\n     *     <template localizable-text=\"embedded\">\n     *       <span id=\"label\">{{text.label}}</span>\n     *       <input id=\"input-el\"\n     *         value=\"{{keyword}}\"\n     *         placeholder=\"{{model.input-el.placeholder}}\">\n     *     </template>\n     *   </dom-module>\n     * ```\n     *\n     * ### Embedded JSON bundle format for the above example:\n     * ```\n     *   <dom-module id=\"custom-element\">\n     *     <template localizable-text=\"embedded\">\n     *       <span id=\"label\">{{text.label}}</span>\n     *       <input id=\"input-el\"\n     *         value=\"{{keyword}}\"\n     *         placeholder=\"{{model.input-el.placeholder}}\">\n     *       <template id=\"localizable-text\">\n     *         <json-data>{\n     *           \"model\" : {\n     *             \"input-el\": {\n     *               \"placeholder\": \"Keyword\"\n     *             }\n     *           },\n     *           \"label\": \"UI Text Label:\"\n     *         }</json-data>\n     *       </template>\n     *     </template>\n     *   </dom-module>\n     * ```\n     */\n    _constructDefaultBundle: function (_template, _id) {\n      var template;\n      var id = _id || this.is;\n      if (this.is === 'i18n-dom-bind') {\n        template = _template || this;\n        id = this.id;\n        /* istanbul ignore if */\n        if (template.content && template.content.childNodes.length === 0) {\n          // Find the real template in Internet Explorer 11 when i18n-dom-bind is concealed in a parent template\n          // This does not happen on Polymer 1.3.1 or later.  So ignore this 'if' statement in code coverage.\n          template = Array.prototype.map.call(document.querySelectorAll('template'), function (parentTemplate) {\n            return parentTemplate.content.querySelector('template#' + id + '[is=\"i18n-dom-bind\"]');\n          }).reduce(function (prev, current) {\n            return prev || current;\n          });\n          // Patch this.content with the real one\n          if (template) {\n            this.content = template.content;\n          }\n        }\n      }\n      else {\n        template = _template || Polymer.DomModule.import(id, 'template');\n      }\n      if (template) {\n        this.templateDefaultLang = template.hasAttribute('lang') ? template.lang : 'en';\n      }\n      else {\n        this.templateDefaultLang = 'en';\n      }\n      var bundle = { model: {} };\n      var path = [];\n      var templateDefaultLang = this.templateDefaultLang;\n      var localizableText, jsonData;\n\n      if (template) {\n        // register localizable attributes of the element itself\n        if (attributesRepository.registerLocalizableAttributes) {\n          attributesRepository.registerLocalizableAttributes(id, template);\n        }\n        else {\n          BehaviorsStore._I18nAttrRepo._created();\n          BehaviorsStore._I18nAttrRepo.registerLocalizableAttributes(id, template);\n        }\n        if (template.getAttribute('localizable-text') === 'embedded') {\n          // pick up embedded JSON from the template\n          localizableText = template.content.querySelector('#localizable-text');\n          if (localizableText) {\n            jsonData = localizableText.content.querySelector('json-data');\n            if (jsonData) {\n              bundle = JSON.parse(jsonData.textContent);\n            }\n            else {\n              console.error('<json-data> not found in <template id=\\\"localizable-text\\\">');\n            }\n          }\n          else {\n            console.error('<template id=\\\"localizable-text\\\"> not found');\n          }\n        }\n        else {\n          if (extraWhiteSpaceNode) {\n            template.setAttribute('strip-whitespace', '');\n          }\n          // traverse template to generate bundle\n          this._traverseTemplateTree(template.content, path, bundle, 0);\n        }\n      }\n\n      bundles[''][id] = bundle;\n      bundles[templateDefaultLang] = bundles[templateDefaultLang] || {};\n      bundles[templateDefaultLang][id] = bundle;\n      //console.log('text = ');\n      //console.log(JSON.stringify(bundle, null, 2));\n\n      return true;\n    },\n\n    /**\n     * Traverse localizable attributes of the target element node and \n     * add them to the target bundle under the `model` object.\n     * \n     * The `<i18n-attr-repo>` object is used \n     * to judge if the target attributes are localizable.\n     *\n     * @param {Object} node Target element node.\n     * @param {string} path Path to the target node.\n     * @param {Object} bundle Default bundle.\n     */\n    _traverseAttributes: function (node, path, bundle) {\n      var name = node.nodeName.toLowerCase();\n      var id = node.getAttribute ?\n                 (node.getAttribute('text-id') ||\n                  node.getAttribute('id')) : null;\n      var text;\n      var messageId;\n      var attrId;\n      var isLocalizable;\n      var dummy;\n      // pick up element attributes\n      Array.prototype.forEach.call(node.attributes, function (attribute) {\n        text = attribute.value;\n        switch (attribute.name) {\n        case 'id':\n        case 'text-id':\n        case 'is':\n        case 'lang':\n        case 'class':\n        // verification required before removing these attributes\n        case 'href':\n        case 'src':\n        case 'style':\n        case 'url':\n        case 'selected':\n          break;\n        default:\n          if (!(isLocalizable = BehaviorsStore._I18nAttrRepo.isLocalizableAttribute(node, attribute.name))) {\n            break;\n          }\n          if (text.length === 0) {\n            // skip empty value attribute\n          }\n          else if (text.match(/^{{[^{}]*}}$/) || text.match(/^\\[\\[[^\\[\\]]*\\]\\]$/)) {\n            // skip annotation attribute\n          }\n          else if (text.replace(/\\n/g, ' ').match(/^{.*}|\\[.*\\]$/g) &&\n                  !text.match(/^{{[^{}]*}}|\\[\\[[^\\[\\]]*\\]\\]/) &&\n                  !text.match(/{{[^{}]*}}|\\[\\[[^\\[\\]]*\\]\\]$/)) {\n            // generate message id\n            messageId = this._generateMessageId(path, id);\n            try {\n              //console.log(messageId + ' parsing attribute ' + attribute.name + ' = ' + text);\n              var value = JSON.parse(text.replace(/\\n/g, ' '));\n              //console.log('parsed JSON object = ');\n              //console.log(value);\n              switch (typeof value) {\n              case 'string':\n              case 'number':\n              case 'object':\n                // put into model\n                attrId = ['model', messageId, attribute.name].join('.');\n                debuglog(attrId + ' = ' + text);\n                this._setBundleValue(bundle, attrId, value);\n                attribute.value = '{{' + attrId + '}}';\n                break;\n              default: // skip other types\n                break;\n              }\n            }\n            catch (e) {\n              // invalid JSON\n              console.warn(e, 'Invalid JSON at <' + name + ' ' + attribute.name + '> with value = ' + text);\n            }\n          }\n          else if (text.match(/{{[^{}]{1,}}}|\\[\\[[^\\[\\]]{1,}\\]\\]/)) {\n            // compound binding attribute\n            // Parameterized:\n            //   e.g., attr=\"Compound binding attribute has [[bound.value]] {{parameters}} in the value string\"\n            //   replaced as \"{{i18nFormat(attrId.0,bound.value,parameters)}}\"\n            //   extracted as [ \"Compound binding attribute has {1} {2} in the value string\", \"[[bound.value]]\", \"{{parameters}}\" ]\n            // Concatenated: (Parameters with functions cannot be reordered in translation)\n            //   e.g., attr2=\"Compound binding attribute has [[f1(bound.value)]] {{f2(parameters)}} in the value string\"\n            //   replaced as \"{{attrId.0}}[[f1(bound.value)]]{{attrId.2}}{{f2(parameters)}}{{attrId.4}}\"\n            //   extracted as [ \"Compound binding attribute has \", \"[[f1(bound.value)]]\", \" \", \"{{f2(parameters)}}\", \" in the value string\" ]\n            var parsed = text.match(/([^{}\\[\\]]{1,})|({{[^{}]{1,}}})|(\\[\\[[^\\[\\]]{1,}\\]\\])/g);\n            var parameterized;\n            var processed;\n            var n;\n            messageId = this._generateMessageId(path, id);\n            attrId = ['model', messageId, attribute.name.replace(/\\$$/, '')].join('.');\n            if (text.match(/\\)}}|\\)\\]\\]/)) { // check for function parameter\n              // Concatenate\n              debuglog(attrId + ' = ' + JSON.stringify(parsed));\n              this._setBundleValue(bundle, attrId, parsed);\n              processed = '';\n              for (n = 0; n < parsed.length; n++) {\n                if (parsed[n].match(/^{{[^{}]{1,}}}|\\[\\[[^\\[\\]]{1,}\\]\\]$/)) {\n                  processed += parsed[n];\n                }\n                else {\n                  processed += '{{' + attrId + '.' + n + '}}';\n                }\n              }\n              if (isLocalizable === '$' && !attribute.name.match(/\\$$/)) {\n                dummy = document.createElement('span');\n                dummy.innerHTML = '<span ' + attribute.name + '$=\"' + processed + '\"></span>';\n                node.setAttributeNode(dummy.childNodes[0].attributes[0].cloneNode());\n              }\n              else {\n                attribute.value = processed;\n              }\n            }\n            else {\n              // Parameterize\n              parameterized = [ '' ];\n              while (parsed.length) {\n                if (parsed[0].match(/^{{[^{}]{1,}}}|\\[\\[[^\\[\\]]{1,}\\]\\]$/)) {\n                  parameterized.push(parsed[0]);\n                  parameterized[0] += '{' + (parameterized.length - 1) + '}';\n                }\n                else {\n                  parameterized[0] += parsed[0];\n                }\n                parsed.shift();\n              }\n              debuglog(attrId + ' = ' + JSON.stringify(parameterized));\n              this._setBundleValue(bundle, attrId, parameterized);\n              processed = '{{i18nFormat(' + attrId + '.0';\n              for (n = 1; n < parameterized.length; n++) {\n                processed += ',' + parameterized[n].replace(/^[{\\[][{\\[](.*)[}\\]][}\\]]$/, '$1');\n              }\n              processed += ')}}';\n              if (isLocalizable === '$' && !attribute.name.match(/\\$$/)) {\n                dummy = document.createElement('span');\n                dummy.innerHTML = '<span ' + attribute.name + '$=\"' + processed + '\"></span>';\n                node.setAttributeNode(dummy.childNodes[0].attributes[0].cloneNode());\n              }\n              else {\n                attribute.value = processed;\n              }\n            }\n          }\n          else {\n            // string attribute\n            messageId = this._generateMessageId(path, id);\n            attrId = ['model', messageId, attribute.name].join('.');\n            debuglog(attrId + ' = ' + text);\n            this._setBundleValue(bundle, attrId, text);\n            if (isLocalizable === '$' && !attribute.name.match(/\\$$/)) {\n              dummy = document.createElement('span');\n              dummy.innerHTML = '<span ' + attribute.name + '$=' + '\"{{' + attrId + '}}\"' + '></span>';\n              node.setAttributeNode(dummy.childNodes[0].attributes[0].cloneNode());\n            }\n            else {\n              attribute.value = '{{' + attrId + '}}';\n            }\n          }\n          break;\n        }\n      }, this);\n    },\n\n    /**\n     * Recursively traverse text contents of the target element node\n     * and add them to the target bundle object.\n     *\n     * Traversed text contents are replaced with annotations \n     * for the corresponding text in the bundle.\n     *\n     * - - -\n     *\n     * There are some special treatments in the following cases.\n     *\n     * ### Sentence with parameterized child parameter-like elements:\n     *\n     * As the order of the parameters can change in different languages,\n     * `<i18n-format>` element is used to make the sentence localizable.\n     *\n     * ### Before processing\n     *\n     * ```\n     *   <p id=\"p\"><code>i18n-format</code> is \n     *     used for  \n     *     <a href=\"https://www.google.com\">parameterized</a> \n     *     sentences.</p>\n     * ```\n     *\n     * ### After processing\n     *\n     * ```\n     *   <p id=\"p\">\n     *     <i18n-format lang=\"{{effectiveLang}}\">\n     *       <span>{{text.p.0}}</span>\n     *       <code>{{text.p.1}}</code>\n     *       <a href=\"https://www.google.com\">{{text.p.2}}</a>\n     *     </i18n-format>\n     *   </p>\n     * ```\n     *\n     * ### Constructed bundle data: Texts are stored in an Array of strings.\n     *\n     * ```\n     *   {\n     *     \"p\" : [\n     *       \"{1} is\\n used for\\n {2}\\n sentences.\",\n     *       \"i18n-format\",\n     *       \"parameterized\"\n     *     ]\n     *   }\n     * ```\n     *\n     * - - -\n     *\n     * ### `<i18n-format>` element with compound templates:\n     *\n     * Texts with compound templates for `<i18n-format>` element are\n     * processed as below.\n     *\n     * `lang=\"{{effectiveLang}}\"` attribute is added to `<i18n-format>` node\n     * as well as `<i18n-number>` node.\n     *\n     * ### Before processing\n     *\n     * ```\n     * <i18n-format id=\"sentence\">\n     *   <json-data>{\n     *     \"0\": \"You ({3}) gave no gifts.\",\n     *     \"1\": {\n     *       \"male\": \"You ({3}) gave him ({4}) {5}.\",\n     *       \"female\": \"You ({3}) gave her ({4}) {5}.\",\n     *       \"other\": \"You ({3}) gave them ({4}) {5}.\"\n     *     },\n     *     \"one\": {\n     *       \"male\": \n     *         \"You ({3}) gave him ({4}) and one other {5}.\",\n     *       \"female\": \n     *         \"You ({3}) gave her ({4}) and one other {5}.\",\n     *       \"other\": \n     *         \"You ({3}) gave them ({4}) and one other {5}.\"\n     *     },\n     *     \"other\": \n     *       \"You ({3}) gave them ({4}) and {1} others gifts.\"\n     *   }</json-data>\n     *   <i18n-number \n     *     offset=\"1\"\n     *     >{{recipients.length}}</i18n-number>\n     *   <span>{{recipients.0.gender}}</span>\n     *   <span>{{sender.name}}</span>\n     *   <span>{{recipients.0.name}}</span>\n     *   <span>a gift</span>\n     * </i18n-format>\n     * ```\n     *\n     * ### After processing\n     *\n     * ```\n     * <i18n-format id=\"sentence\" \n     *              lang=\"{{effectiveLang}}\">\n     *   <json-data>{{serialize(text.sentence.0)}}</json-data>\n     *   <i18n-number \n     *     offset=\"1\"\n     *     lang=\"{{effectiveLang}}\"\n     *     >{{recipients.length}}</i18n-number>\n     *   <span>{{recipients.0.gender}}</span>\n     *   <span>{{sender.name}}</span>\n     *   <span>{{recipients.0.name}}</span>\n     *   <span>{{text.sentence.5}}</span>\n     * </i18n-format>\n     * ```\n     *\n     * ### Constructed bundle data:\n     *\n     * ```\n     * {\n     *   \"sentence\" : [\n     *     {\n     *       \"0\": \"You ({3}) gave no gifts.\",\n     *       \"1\": {\n     *         \"male\": \"You ({3}) gave him ({4}) {5}.\",\n     *         \"female\": \"You ({3}) gave her ({4}) {5}.\",\n     *         \"other\": \"You ({3}) gave them ({4}) {5}.\"\n     *       },\n     *       \"one\": {\n     *         \"male\": \n     *         \"You ({3}) gave him ({4}) and one other {5}.\",\n     *         \"female\": \n     *         \"You ({3}) gave her ({4}) and one other {5}.\",\n     *         \"other\": \n     *         \"You ({3}) gave them ({4}) and one other {5}.\"\n     *       },\n     *       \"other\": \n     *       \"You ({3}) gave them ({4}) and {1} others gifts.\"\n     *     },\n     *     \"{{recipients.length - 1}}\",\n     *     \"{{recipients.0.gender}}\",\n     *     \"{{sender.name}}\",\n     *     \"{{recipients.0.name}}\",\n     *     \"a gift\"\n     *   ]\n     * }\n     * ```\n     *\n     * @param {Object} node Target element node.\n     * @param {string} path Path to the target node.\n     * @param {Object} bundle Default bundle.\n     * @param {Number} index Index in the siblings of the target node excluding whitespace nodes.\n     */\n    _traverseTemplateTree: function (node, path, bundle, index) {\n      var i;\n      var whiteSpaceElements = 0;\n      var isWhiteSpace = false;\n      var isCompoundAnnotatedNode = false;\n      var text;\n      var span;\n      var name = node.nodeName.toLowerCase();\n      var id = node.getAttribute ? \n                 (node.getAttribute('text-id') || \n                  node.getAttribute('id')) : null;\n      var messageId;\n      var n;\n      var templateText;\n      var templateTextParams;\n      path.push(id ? '#' + id : name + (index > 0 ? '_' + index : ''));\n      //console.log(path.join(':'));\n      switch (node.nodeType) {\n      case node.ELEMENT_NODE:\n        switch (name) {\n        case 'style':\n        case 'script':\n        case 'meta':\n          // skip\n          break;\n        case 'i18n-format':\n          // pick up element attributes\n          this._traverseAttributes(node, path, bundle);\n          // generate message id\n          messageId = this._generateMessageId(path, id);\n          if (!node.hasAttribute('lang')) {\n            node.setAttribute('lang', '{{effectiveLang}}');\n          }\n          text = Array.prototype.filter.call(node.childNodes, function (child) {\n            return child.nodeType === child.ELEMENT_NODE;\n          }).map(function (param, n) {\n            var value = param.textContent;\n            var parsedValue = value.match(/^({{)(.*)(}})$/) || \n                              value.match(/^(\\[\\[)(.*)(\\]\\])$/);\n            if (n === 0) {\n              // template element\n              if (param.tagName.toLowerCase() === 'json-data') {\n                if (parsedValue) {\n                  var parsedValue2 = value.match(/^({{)(serialize\\(.*\\))(}})$/) || \n                                     value.match(/^(\\[\\[)(serialize\\(.*\\))(\\]\\])$/);\n                  if (!parsedValue2) {\n                    // convert to {{serialize(id)}}\n                    parsedValue.shift();\n                    parsedValue.splice(1, 0, 'serialize(');\n                    parsedValue.splice(3, 0, ')');\n                    param.textContent = parsedValue.join('');\n                  }\n                }\n                else {\n                  value = JSON.parse(value);\n                  param.textContent = '{{serialize(text.' + messageId + '.' + n + ')}}';\n                }\n              }\n              else {\n                if (!parsedValue) {\n                  param.textContent = '{{text.' + messageId + '.' + n + '}}';\n                }\n              }\n            }\n            else {\n              // param element\n              // TODO: handle localization of param nodes and attributes\n              if (!param.hasAttribute(paramAttribute)) {\n                param.setAttribute(paramAttribute, n);\n              }\n              if (param.tagName.toLowerCase() === 'i18n-number') {\n                if (!param.hasAttribute('lang')) {\n                  param.setAttribute('lang', '{{effectiveLang}}');\n                }\n                var offset = param.getAttribute('offset');\n                if (offset) {\n                  offset = ' - ' + offset;\n                }\n                else {\n                  offset = '';\n                }\n                if (parsedValue) {\n                  // convert to {{path - offset}}\n                  parsedValue.shift();\n                  parsedValue.splice(2, 0, offset);\n                  value = parsedValue.join('');\n                }\n                else {\n                  param.textContent = '{{text.' + messageId + '.' + n + '}}';\n                }\n              }\n              else {\n                if (!parsedValue) {\n                  param.textContent = '{{text.' + messageId + '.' + n + '}}';\n                }\n              }\n            }\n            return value;\n          }, this);\n          debuglog(messageId + ' = ' + text);\n          this._setBundleValue(bundle, messageId, text);\n          break;\n        case 'template':\n          // traverse into its content\n          //console.log(path.join(':') + ':' + node.content.nodeName + ':' + 0);\n          if (extraWhiteSpaceNode) {\n            //if (node.hasAttribute('is') && node.getAttribute('is').match(/^(i18n-)?dom-/)) {\n              node.setAttribute('strip-whitespace', '');\n            //}\n          }\n          this._traverseTemplateTree(node.content, path, bundle, 0);\n          break;\n        default:\n          // element node\n          if (name === 'i18n-number' ||\n              name === 'i18n-datetime') {\n            if (!node.hasAttribute('lang')) {\n              node.setAttribute('lang', '{{effectiveLang}}');\n            }\n          }\n          // pick up element attributes\n          this._traverseAttributes(node, path, bundle);\n          // check annonated node\n          isCompoundAnnotatedNode = false;\n          if (node.childElementCount === 0) {\n            if (node.textContent) {\n              isCompoundAnnotatedNode = this._isCompoundAnnotatedText(node.textContent);\n            }\n          }\n          if (node.childElementCount === 0 && !isCompoundAnnotatedNode) {\n            if (node.textContent) { // use textContent for Firefox compatibility\n              text = node.textContent;\n              if (text.length === 0 || text.match(/^\\s*$/g)) {\n                // skip empty or whitespace node\n              }\n              else if (text.trim().match(/^({{[^{}]*}}|\\[\\[[^\\[\\]]*\\]\\])$/)) {\n                // skip annotation node\n                // TODO: compound bindings support\n              }\n              else {\n                // a text message found\n                // generate message id\n                messageId = this._generateMessageId(path, id);\n                // store the text message\n                text = text.replace(/^[\\s]*[\\s]/, ' ').replace(/[\\s][\\s]*$/, ' ');\n                if (name === 'json-data') {\n                  this._setBundleValue(bundle, messageId, JSON.parse(text));\n                }\n                else {\n                  this._setBundleValue(bundle, messageId, text);\n                }\n                // replace textContent with annotation\n                node.textContent = '{{text.' + messageId + '}}';\n                if (!id) {\n                  //node.id = messageId;\n                  //console.warn('add missing node id as ' + messageId + ' for ' + text);\n                }\n                debuglog(messageId + ' = ' + text);\n              }\n            }\n            else {\n              // skip\n            }\n          } \n          else {\n            // has children or compound annotation\n            // check if i18n-format is applicable\n            var childStatus = Array.prototype.map.call(\n              node.childNodes, function (child) {\n                var result;\n                if (child.nodeType === child.ELEMENT_NODE &&\n                    child.tagName === 'TEMPLATE') {\n                  var templateNonCommentChildNodes =\n                    Array.prototype.filter.call(child.content.childNodes, function (templateChild) {\n                      switch (templateChild.nodeType) {\n                      case templateChild.COMMENT_NODE:\n                        return false;\n                      case templateChild.TEXT_NODE:\n                        return !templateChild.textContent.match(/^\\s*$/g);\n                      default:\n                      case templateChild.ELEMENT_NODE:\n                        return true;\n                      }\n                    });\n                  var firstChild = templateNonCommentChildNodes.shift();\n                  // Examples:\n                  // hasText: <template>text</template>\n                  // hasCompoundAnnotatedText: <template>{{item.name}} text</template>\n                  // hasTextChild: <template><b>text</b></template> or <template><br></template>\n                  // hasCompoundAnnotatedChildNode: <template><b>{{item.name}} text</b></template>\n                  // hasGrandChildren: <template><span><b>text</b></span></template> or \n                  //                   <template><b>A</b><i>B</i></template> or\n                  //                   hasCompoundAnnotatedText\n                  result = {\n                    hasText: templateNonCommentChildNodes.length === 0 &&\n                             firstChild &&\n                             firstChild.nodeType === firstChild.TEXT_NODE &&\n                             firstChild.textContent.length > 0 &&\n                             !firstChild.textContent.match(/^\\s*$/g),\n                    hasCompoundAnnotatedText: firstChild &&\n                                              firstChild.nodeType === firstChild.TEXT_NODE &&\n                                              this._isCompoundAnnotatedText(firstChild.textContent),\n                    hasTextChild: templateNonCommentChildNodes.length === 0 &&\n                                  firstChild &&\n                                  firstChild.nodeType === child.ELEMENT_NODE &&\n                                  firstChild.childElementCount === 0, // including <br>\n                    hasCompoundAnnotatedChildNode: firstChild &&\n                                                   firstChild.nodeType === firstChild.ELEMENT_NODE &&\n                                                   firstChild.childElementCount === 0 &&\n                                                   this._isCompoundAnnotatedText(firstChild.textContent),\n                    hasGrandChildren: templateNonCommentChildNodes.length > 0 ||\n                                      (firstChild &&\n                                       firstChild.nodeType === firstChild.ELEMENT_NODE &&\n                                        Array.prototype.map.call(\n                                          firstChild.childNodes,\n                                          function (grandChild) {\n                                            return grandChild.nodeType !== grandChild.TEXT_NODE;\n                                          }\n                                        ).reduce(function (prev, current) {\n                                          return prev || current;\n                                        }, false)) ||\n                                      (firstChild &&\n                                       firstChild.nodeType === firstChild.TEXT_NODE &&\n                                       this._isCompoundAnnotatedText(firstChild.textContent))\n                  };\n                }\n                else {\n                  result = {\n                    hasText: child.nodeType === child.TEXT_NODE &&\n                             child.textContent.length > 0 &&\n                             !child.textContent.match(/^\\s*$/g),\n                    hasCompoundAnnotatedText: child.nodeType === child.TEXT_NODE &&\n                                              this._isCompoundAnnotatedText(child.textContent),\n                    hasTextChild: child.nodeType === child.ELEMENT_NODE &&\n                                  child.childElementCount === 0, // including <br>\n                    hasCompoundAnnotatedChildNode: child.nodeType === child.ELEMENT_NODE &&\n                                                   child.childElementCount === 0 &&\n                                                   this._isCompoundAnnotatedText(child.textContent),\n                    hasGrandChildren: child.nodeType === child.ELEMENT_NODE &&\n                                      Array.prototype.map.call(\n                                        child.childNodes,\n                                        function (grandChild) {\n                                          return grandChild.nodeType !== grandChild.TEXT_NODE;\n                                        }\n                                      ).reduce(function (prev, current) {\n                                        return prev || current;\n                                      }, false)\n                  };\n                }\n                return result;\n              }.bind(this)).reduce(function (prev, current) { \n                return {\n                  hasText: prev.hasText || current.hasText,\n                  hasCompoundAnnotatedText: prev.hasCompoundAnnotatedText || current.hasCompoundAnnotatedText,\n                  hasTextChild: prev.hasTextChild || current.hasTextChild,\n                  hasCompoundAnnotatedChildNode: prev.hasCompoundAnnotatedChildNode || current.hasCompoundAnnotatedChildNode,\n                  hasGrandChildren: prev.hasGrandChildren || current.hasGrandChildren\n                };\n              }, { \n                hasText: false, \n                hasCompoundAnnotatedText: false,\n                hasTextChild: false,\n                hasCompoundAnnotatedChildNode: false,\n                hasGrandChildren: false\n              });\n            if ((childStatus.hasText || node.hasAttribute('text-id')) &&\n                (childStatus.hasTextChild || childStatus.hasCompoundAnnotatedText) && \n                !childStatus.hasGrandChildren &&\n                !childStatus.hasCompoundAnnotatedChildNode) {\n              // apply i18n-format\n              /*\n                    <i18n-format>\n                      <span>{{text.simpleChartDesc.0}}</span>\n                      <code param=\"1\">{{text.simpleChartDesc.1}}</code>\n                      <a param=\"2\" href=\"link\">{{text.simpleChartDesc.2}}</a>\n                      <a param=\"3\" href=\"link2\">{{text.simpleChartDesc.3}}</a>\n                    </i18n-format>\n              */\n              n = 0;\n              messageId = this._generateMessageId(path, id);\n              templateTextParams = Array.prototype.map.call(\n                node.childNodes, function (child) {\n                  var firstChild;\n                  if (child.nodeType === child.TEXT_NODE &&\n                      this._hasAnnotatedText(child.textContent)) {\n                    return this._compoundAnnotationToSpan(child)\n                      .map(function (_child) {\n                        return {\n                          node: _child,\n                          templateNode: null,\n                          type: _child.nodeType,\n                          text: _child.nodeType === _child.TEXT_NODE ? \n                                  _child.textContent : null,\n                          childTextNode: _child.nodeType === _child.ELEMENT_NODE &&\n                                         _child.childNodes.length > 0\n                        };\n                      });\n                  }\n                  else if (child.nodeType === child.ELEMENT_NODE &&\n                      child.tagName === 'TEMPLATE') {\n                    firstChild =\n                      Array.prototype.filter.call(child.content.childNodes, function (templateChild) {\n                        switch (templateChild.nodeType) {\n                        case templateChild.COMMENT_NODE:\n                          return false;\n                        case templateChild.TEXT_NODE:\n                          return !templateChild.textContent.match(/^\\s*$/g);\n                        default:\n                        case templateChild.ELEMENT_NODE:\n                          return true;\n                        }\n                      }).shift();\n                    if (!firstChild) {\n                      firstChild =\n                        Array.prototype.filter.call(child.content.childNodes, function (templateChild) {\n                          switch (templateChild.nodeType) {\n                          case templateChild.COMMENT_NODE:\n                            return false;\n                          default:\n                            return true;\n                          }\n                        }).shift();\n                    }\n                    if (firstChild) {\n                      return [{\n                        node: firstChild,\n                        templateNode: child,\n                        type: firstChild.nodeType,\n                        text: null,\n                        childTextNode: true\n                      }];\n                    }\n                    else {\n                      return [];\n                    }\n                  }\n                  else {\n                    return [{\n                      node: child,\n                      templateNode: null,\n                      type: child.nodeType,\n                      text: child.nodeType === child.TEXT_NODE ? \n                              child.textContent : null,\n                      childTextNode: child.nodeType === child.ELEMENT_NODE &&\n                                     child.childNodes.length > 0\n                    }];\n                  }\n                }.bind(this)).reduce(function (prev, currentList) {\n                  var current;\n                  var textContent;\n                  for (var i = 0; i < currentList.length; i++) {\n                    current = currentList[i];\n                    if (current.text) {\n                      prev.text[0] += current.text;\n                    }\n                    if (current.type === current.node.ELEMENT_NODE) {\n                      n++;\n                      prev.text[0] += '{' + n + '}';\n                      path.push(n);\n                      this._traverseAttributes(current.node, path, bundle);\n                      path.pop();\n                      if (current.childTextNode) {\n                        textContent = current.node.textContent;\n                        if (textContent.length === 0) {\n                          // tag without textContent\n                          prev.text.push('<' + current.node.nodeName.toLowerCase() + '>');\n                          current.node.textContent = '';\n                        }\n                        else if (textContent.match(/^\\s*$/g)) {\n                          // tag with whitespace textContent\n                          prev.text.push('<' + current.node.nodeName.toLowerCase() + '>');\n                          current.node.textContent = ' ';\n                        }\n                        else if (textContent.match(/^[\\s]*({{.*}}|\\[\\[.*\\]\\])[\\s]*$/)) {\n                          // tag with annotation\n                          prev.text.push(textContent);\n                          // textContent is untouched\n                        }\n                        else {\n                          prev.text.push(current.node.textContent.replace(/^[\\s]*[\\s]/, ' ').replace(/[\\s][\\s]*$/, ' '));\n                          current.node.textContent = '{{text.' + messageId + '.' + n + '}}';\n                        }\n                      }\n                      else {\n                        prev.text.push('<' + current.node.nodeName.toLowerCase() + '>');\n                      }\n                      current.node.setAttribute(paramAttribute, n.toString());\n                      prev.params.push(current.templateNode || current.node);\n                    }\n                    else if (current.type === current.node.TEXT_NODE &&\n                             current.childTextNode) {\n                      // in template node\n                      n++;\n                      prev.text[0] += '{' + n + '}';\n                      textContent = current.node.textContent;\n                      if (textContent.length === 0) {\n                        // template without textContent\n                        prev.text.push('<template>');\n                        current.node.textContent = '';\n                      }\n                      else if (textContent.match(/^\\s*$/g)) {\n                        // template with whitespace textContent\n                        prev.text.push('<template>');\n                        current.node.textContent = ' ';\n                      }\n                      else if (textContent.match(/^[\\s]*({{.*}}|\\[\\[.*\\]\\])[\\s]*$/)) {\n                        // tag with annotation\n                        prev.text.push(textContent);\n                        // textContent is untouched\n                      }\n                      else {\n                        prev.text.push(textContent.replace(/^[\\s]*[\\s]/, ' ').replace(/[\\s][\\s]*$/, ' '));\n                        current.node.textContent = '{{text.' + messageId + '.' + n + '}}';\n                      }\n                      span = document.createElement('span');\n                      span.setAttribute(paramAttribute, n.toString());\n                      current.templateNode.content.removeChild(current.node);\n                      span.appendChild(current.node);\n                      current.templateNode.content.appendChild(span);\n                      prev.params.push(current.templateNode);\n                    }\n                  }\n                  return prev;\n                }.bind(this), { text: [ '' ], params: [ '{{text.' + messageId + '.0}}' ] });\n              // clear original childNodes before implicit removals by appendChild to i18n-format for ShadyDOM compatibility\n              if (Polymer.Element) {\n                // Avoid ShadyDOM issue for Polymer 2.x (Implicit removal by appendChild to another element introduces inconsistencies)\n                node.innerHTML = '';\n              }\n              templateText = document.createElement('i18n-format');\n              templateText.setAttribute('lang', '{{effectiveLang}}');\n              if (Polymer.Element) {\n                // Avoid ShadyDOM issue for Polymer 2.x (Implicit removal by appendChild to another element introduces inconsistencies)\n                // insert i18n-format\n                Polymer.dom(node).appendChild(templateText);\n              }\n              span = document.createElement('span');\n              // span.innerText does not set an effective value in Firefox\n              span.textContent = templateTextParams.params.shift();\n              templateText.appendChild(span);\n              Array.prototype.forEach.call(templateTextParams.params,\n                function (param) {\n                  templateText.appendChild(param);\n                }\n              );\n              if (!Polymer.Element) {\n                // Avoid ShadyDOM issue for Polymer 1.x (Clearance of innerHTML unexpectedly removes textContent of child nodes)\n                // insert i18n-format\n                node.innerHTML = '';\n                Polymer.dom(node).appendChild(templateText);\n              }\n              // store the text message\n              templateTextParams.text[0] = templateTextParams.text[0].replace(/^[\\s]*[\\s]/, ' ').replace(/[\\s][\\s]*$/, ' ');\n              this._setBundleValue(bundle, messageId, templateTextParams.text);\n              if (!id) {\n                //node.id = messageId;\n                //console.warn('add missing node id as ' + messageId + ' for ' + templateTextParams.text[0]);\n              }\n              debuglog(messageId + ' = ' + templateTextParams.text);\n            }\n            else {\n              // traverse childNodes\n              for (i = 0; i < node.childNodes.length; i++) {\n                //console.log(path.join(':') + ':' + node.childNodes[i].nodeName + ':' + (i - whiteSpaceElements) + ' i = ' + i + ' whiteSpaceElements = ' + whiteSpaceElements);\n                if (this._traverseTemplateTree(node.childNodes[i], path, bundle, i - whiteSpaceElements)) {\n                  whiteSpaceElements++;\n                }\n              }\n            }\n          }\n          break;\n        }\n        break;\n      case node.TEXT_NODE:\n        // text node\n        text = node.textContent;\n        if (text.length === 0 || text.match(/^\\s*$/g)) {\n          // skip empty or whitespace node\n          isWhiteSpace = true;\n        }\n        else if (text.trim().match(/^({{[^{}]*}}|\\[\\[[^\\[\\]]*\\]\\])$/)) {\n          // skip annotation node\n        }\n        else {\n          var parent = node.parentNode;\n\n          if (this._isCompoundAnnotatedText(text)) {\n            // apply i18n-format\n            n = 0;\n            messageId = this._generateMessageId(path, id);\n            templateTextParams = Array.prototype.map.call(\n              [ node ], function (child) {\n                return this._compoundAnnotationToSpan(child)\n                  .map(function (_child) {\n                    return {\n                      node: _child,\n                      type: _child.nodeType,\n                      text: _child.nodeType === _child.TEXT_NODE ? \n                              _child.textContent : null,\n                      childTextNode: _child.nodeType === _child.ELEMENT_NODE &&\n                                     _child.childNodes.length > 0\n                    };\n                  });\n              }.bind(this)).reduce(function (prev, currentList) {\n                var current;\n                for (var i = 0; i < currentList.length; i++) {\n                  current = currentList[i];\n                  if (current.text) {\n                    prev.text[0] += current.text;\n                  }\n                  if (current.type === current.node.ELEMENT_NODE) {\n                    n++;\n                    prev.text[0] += '{' + n + '}';\n                    path.push(n);\n                    this._traverseAttributes(current.node, path, bundle);\n                    path.pop();\n                    /* current.childTextNode is always true since current.node is <span>{{annotation}}</span> */\n                    prev.text.push(current.node.textContent);\n                    current.node.setAttribute(paramAttribute, n.toString());\n                    prev.params.push(current.node);\n                  }\n                }\n                return prev;\n              }.bind(this), { text: [ '' ], params: [ '{{text.' + messageId + '.0}}' ] });\n            templateText = document.createElement('i18n-format');\n            templateText.setAttribute('lang', '{{effectiveLang}}');\n            // insert i18n-format\n            Polymer.dom(parent).insertBefore(templateText, node);\n            Polymer.dom(parent).removeChild(node);\n            span = document.createElement('span');\n            // span.innerText does not set an effective value in Firefox\n            span.textContent = templateTextParams.params.shift();\n            templateText.appendChild(span);\n            Array.prototype.forEach.call(templateTextParams.params,\n              function (param) {\n                templateText.appendChild(param);\n              }\n            );\n            // store the text message\n            templateTextParams.text[0] = templateTextParams.text[0].replace(/^[\\s]*[\\s]/, ' ').replace(/[\\s][\\s]*$/, ' ');\n            this._setBundleValue(bundle, messageId, templateTextParams.text);\n            debuglog(messageId + ' = ' + templateTextParams.text);\n          }\n          else {\n            // generate message id\n            messageId = this._generateMessageId(path, id);\n            // store the text message\n            text = text.replace(/^[\\s]*[\\s]/, ' ').replace(/[\\s][\\s]*$/, ' ');\n            this._setBundleValue(bundle, messageId, text);\n            // replace textContent with annotation\n            node.textContent = '{{text.' + messageId + '}}';\n            if (!id) {\n              //span.id = messageId;\n              //console.warn('add missing span with id as ' + messageId + ' for ' + text);\n            }\n            debuglog(messageId + ' = ' + text);\n          }\n        }\n        break;\n      case node.DOCUMENT_NODE:\n      case node.DOCUMENT_FRAGMENT_NODE:\n        // traverse childNodes\n        for (i = 0; i < node.childNodes.length; i++) {\n          //console.log(path.join(':') + ':' + node.childNodes[i].nodeName + ':' + (i - whiteSpaceElements) + ' i = ' + i + ' whiteSpaceElements = ' + whiteSpaceElements);\n          if (this._traverseTemplateTree(node.childNodes[i], path, bundle, i - whiteSpaceElements)) {\n            whiteSpaceElements++;\n          }\n        }\n        break;\n      default:\n        isWhiteSpace = true;\n        // comment node, etc.\n        break;\n      }\n      path.pop();\n      return isWhiteSpace;\n    },\n\n    /**\n     * Check if the text has compound annotation \n     * \n     * @param {string} text target text to check compound annotation\n     * @return {Boolean} true if the text contains compound annotation\n     */\n    _isCompoundAnnotatedText: function (text) {\n      return !text.trim().match(/^({{[^{}]*}}|\\[\\[[^\\[\\]]*\\]\\])$/) &&\n             !!text.match(/({{[^{}]*}}|\\[\\[[^\\[\\]]*\\]\\])/);\n    },\n\n    /**\n     * Check if the text has annotation \n     * \n     * @param {string} text target text to check annotation\n     * @return {Boolean} true if the text contains annotation\n     */\n    _hasAnnotatedText: function (text) {\n      return !!text.match(/({{[^{}]*}}|\\[\\[[^\\[\\]]*\\]\\])/);\n    },\n\n    /**\n     * Convert compound annotations to span elements\n     * \n     * @param {Text} node target text node to convert compound annotations\n     * @return {Object[]} Array of Text or span elements\n     */\n    _compoundAnnotationToSpan: function (node) {\n      var result;\n      /* istanbul ignore else: node is prechecked to contain annotation(s) */\n      if (node.textContent.match(/({{[^{}]*}}|\\[\\[[^\\[\\]]*\\]\\])/)) {\n        result = node.textContent\n          .match(/({{[^{}]*}}|\\[\\[[^\\[\\]]*\\]\\]|[^{}\\[\\]]{1,}|[{}\\[\\]]{1,})/g)\n          .reduce(function (prev, current) {\n            if (current.match(/^({{[^{}]*}}|\\[\\[[^\\[\\]]*\\]\\])$/)) {\n              prev.push(current);\n              prev.push('');\n            }\n            else {\n              if (prev.length === 0) {\n                prev.push(current);\n              }\n              else {\n                prev[prev.length - 1] += current;\n              }\n            }\n            return prev;\n          }.bind(this), [])\n          .map(function (item) {\n            var childNode;\n            if (item.match(/^({{[^{}]*}}|\\[\\[[^\\[\\]]*\\]\\])$/)) {\n              childNode = document.createElement('span');\n              childNode.textContent = item;\n            }\n            else if (item) {\n              childNode = document.createTextNode(item);\n            }\n            else {\n              childNode = null;\n            }\n            return childNode;\n          });\n        if (result.length > 0) {\n          if (!result[result.length - 1]) {\n            result.pop(); // pop null node for ''\n          }\n        }\n      }\n      else {\n        // no compound annotation\n        result = [ node ];\n      }\n      return result;\n    },\n\n    /**\n     * Add the value to the target default bundle with the specified message Id \n     * \n     * @param {Object} bundle Default bundle.\n     * @param {string} messageId ID string of the value.\n     * @param {Object} value Value of the text message. Normally a string.\n     */\n    _setBundleValue: function (bundle, messageId, value) {\n      var messageIdPath = messageId.split('.');\n      bundle.model = bundle.model || {};\n      if (messageIdPath.length === 1) {\n        bundle[messageId] = value;\n      }\n      else {\n        var cursor = bundle;\n        for (var i = 0; i < messageIdPath.length; i++) {\n          if (i < messageIdPath.length - 1) {\n            cursor[messageIdPath[i]] = cursor[messageIdPath[i]] || {};\n            cursor = cursor[messageIdPath[i]];\n          }\n          else {\n            cursor[messageIdPath[i]] = value;\n          }\n        }\n      }\n    },\n\n    /**\n     * Generate a message ID from the specified path and id.\n     * \n     * ### TODO: \n     *\n     * - Shorten or optimize ids\n     *\n     * @param {Array} path List of ascestor elements of the current node in traversal.\n     * @param {id} id Value of `id` or `text-id` attribute of the current node.\n     */\n    _generateMessageId: function (path, id) {\n      var messageId;\n      if (!id || id.length === 0) {\n        for (var i = 1; i < path.length; i++) {\n          if (path[i][0] === '#') {\n            if (path[i] !== '#document-fragment') {\n              if (messageId && path[i].substr(0, 5) === '#text') {\n                messageId += ':' + path[i].substr(1);\n              }\n              else {\n                messageId = path[i].substr(1);\n              }\n            }\n          }\n          else {\n            if (messageId) {\n              messageId += ':' + path[i];\n            }\n            else {\n              messageId = path[i];\n            }\n          }\n        }\n      }\n      else {\n        messageId = id;\n      }\n      return messageId;\n    },\n\n    /**\n     * Merge `this.defaultText` into the target default bundle.\n     * \n     * ### TODO: \n     *\n     * - Need more research on the effective usage of this feature.\n     *\n     * @param {Object} bundle Default bundle.\n     */\n    /*\n    _mergeDefaultText: function (bundle) {\n      if (this.defaultText) {\n        this._deepMap(bundle, this.defaultText, function (text) { return text; });\n      }\n    },\n    */\n\n    /**\n     * Return the first non-null argument.\n     *\n     * Utility method for use in annotations.\n     *\n     * ### Example Usage:\n     * ```\n     *   <input is=\"iron-input\" class=\"flex\"\n     *     type=\"search\" id=\"query\" bind-value=\"{{query}}\"\n     *     autocomplete=\"off\"\n     *     placeholder=\"{{or(placeholder,text.search)}}\">\n     * ```\n     *\n     * @param {*} arguments List of arguments.\n     */\n    or: function () {\n      var result = arguments[0];\n      var i = 1;\n      while (!result && i < arguments.length) {\n        result = arguments[i++];\n      }\n      return result;\n    },\n\n\n    /**\n     * Translate a string by a message table.\n     *\n     * Utility method for use in annotations.\n     *\n     * ### Example Usage:\n     * ```\n     *   <span>{{tr(status,text.statusMsgs)}}</span>\n     *   <span>{{tr(errorId,text)}}</span>\n     *   <template>\n     *     <json-data text-id=\"statusMsgs\">{\n     *       \"signed-in\": \"Authenticated\",\n     *       \"signed-out\": \"Not Authenticated\",\n     *       \"error\": \"Error in Authentication\",\n     *       \"default\": \"Unknown Status in Authentication\"\n     *     }</json-data>\n     *     <span text-id=\"http-404\">File Not Found</span>\n     *     <span text-id=\"http-301\">Moved Permanently</span>\n     *   </template>\n     * ```\n     *\n     * Note: The second `table` parameter should always be specified in order\n     * to trigger automatic updates on `this.text` mutations, i.e., updates of `this.effectiveLang`.\n     *\n     * @param {string} key Key of the message.\n     * @param {Object} table The message table object or this.text itself if omitted\n     * @return {string} Translated string, `table.default` if `table[key]` is undefined, or key string if table.default is undefined.\n     */\n    tr: function (key, table) {\n      if (table) {\n        if (typeof table === 'object') {\n          if (typeof table[key] !== 'undefined') {\n            return table[key];\n          }\n          else if (typeof table['default'] !== 'undefined') {\n            return table['default'];\n          }\n          else {\n            return key;\n          }\n        }\n        else {\n          return key;\n        }\n      }\n      else {\n        return (typeof this.text === 'object') &&\n               (typeof key !== 'undefined') &&\n               (typeof this.text[key] !== 'undefined') ? this.text[key] : key;\n      }\n    },\n\n    /**\n     * Format a parameterized string.\n     *\n     * Utility method for use in annotations.\n     *\n     * ### Example Usage:\n     * ```\n     *   <span attr=\"{{i18nFormat(text.param.0,text.textparam1,text.textparam2)}}\"></span>\n     *   <template>\n     *     <json-data text-id=\"param\">[\n     *       \"String with {1} and {2} are formetted\",\n     *       \"[[text.textparam1]]\",\n     *       \"[[text.textparam2]]\"\n     *     ]</json-data>\n     *     <span text-id=\"textparam1\">Parameter 1</span>\n     *     <span text-id=\"textparam2\">Parameter 2</span>\n     *   </template>\n     * ```\n     *\n     * Note: Compound bindings in attributes are automatically converted to {{i18nFormat()}} in preprocessing.\n     *\n     * @param {*} arguments List of arguments.\n     * @return {string} Formatted string\n     */\n    i18nFormat: function () {\n      if (arguments.length > 0) {\n        var formatted = arguments[0] || '';\n        for (var n = 1; n < arguments.length; n++) {\n          formatted = formatted.replace('{' + n + '}', arguments[n]);\n        }\n      }\n      return formatted;\n    },\n\n    // Lifecycle callbacks\n\n    /**\n     * Lifecycle callback before registration of the custom element.\n     *\n     * The default bundle is constructed via traversal of the element's template at this timing per registration.\n     *\n     * ### Notes: \n     *\n     * - For `i18n-dom-bind` elements, bundle construction is put off until `ready` lifecycle callback.\n     * - As called twice per custom element registration, the method skips bundle construction at the second call.\n     */\n    beforeRegister: function () {\n      if (this.is !== 'i18n-dom-bind') {\n        if (!this._templateLocalizable) {\n          this._templateLocalizable = this._constructDefaultBundle();\n        }\n      }\n    },\n\n\n    /**\n     * Lifecycle callback at registration of the custom element.\n     *\n     * this._fetchStatus is initialized per registration.\n     */\n    registered: function () {\n      if (this.is !== 'i18n-dom-bind') {\n        var template = Polymer.DomModule.import(this.is, 'template');\n        if (!template) {\n          var id = this.is;\n          var current = (!window.HTMLImports || HTMLImports.useNative) ? document.currentScript\n                                              : document._currentScript;\n          template = (current ? current.ownerDocument\n                      .querySelector('template[id=' + id + ']') : null) ||\n                     document.querySelector('template[id=' + id + ']');\n          if (!template) {\n            template = document.createElement('template');\n            template.setAttribute('id', id);\n          }\n          if (template) {\n            var domModule = document.createElement('dom-module');\n            var assetUrl = new URL((current ? current.baseURI : null) ||\n              (window.currentImport ? window.currentImport.baseURI : null) ||\n              (current && current.ownerDocument ? current.ownerDocument.baseURI : null) ||\n              document.baseURI);\n            domModule.appendChild(template);\n            domModule.setAttribute('assetpath', \n                                    template.hasAttribute('basepath') ?\n                                      template.getAttribute('basepath') :\n                                      template.hasAttribute('assetpath') ? \n                                        template.getAttribute('assetpath') : \n                                        assetUrl.pathname);\n            domModule.register(id);\n            this._template = template;\n          }\n          var bundle = { model: {} };\n          bundles[''][id] = bundle;\n          bundles[defaultLang] = bundles[defaultLang] || {};\n          bundles[defaultLang][id] = bundle;\n          console.warn('I18nBehavior.registered: ' + id + ' has no template. Supplying an empty template');\n        }\n        this._fetchStatus = deepcopy({ // per custom element\n          fetchingInstance: null,\n          ajax: null,\n          ajaxLang: null,\n          lastLang: null,\n          fallbackLanguageList: null,\n          targetLang: null,\n          lastResponse: {},\n          rawResponses: {}\n        });\n      }\n    },\n\n    /**\n     * Lifecycle callback on instance creation\n     */\n    created: function () {\n      // Fix #34. [Polymer 1.4.0] _propertyEffects have to be maintained per instance\n      if (this.is === 'i18n-dom-bind') {\n        this._propertyEffects = deepcopy(this._propertyEffects);\n      }\n      else {\n        var template = Polymer.DomModule.import(this.is, 'template');\n        if (template && template.hasAttribute('lang')) {\n          this.templateDefaultLang = template.getAttribute('lang') || '';\n        }\n        if (!this._fetchStatus) {\n          this._fetchStatus = deepcopy({ // per custom element\n            fetchingInstance: null,\n            ajax: null,\n            ajaxLang: null,\n            lastLang: null,\n            fallbackLanguageList: null,\n            targetLang: null,\n            lastResponse: {},\n            rawResponses: {}\n          });\n        }\n      }\n      if (!isStandardPropertyConfigurable) {\n        // Fix #36. Emulate lang's observer since Safari 7 predefines non-configurable lang property\n        this.observer = new MutationObserver(this._handleLangAttributeChange.bind(this));\n        this.observer.observe(this, {\n          attributes: true,\n          attributeFilter: [ 'lang' ],\n          attributeOldValue: true\n        });\n      }\n    },\n\n    /**\n     * Lifecycle callback when the template children are ready.\n     */\n    ready: function () {\n      if (this.is === 'i18n-dom-bind') {\n        if (!this._templateLocalizable) {\n          this._templateLocalizable = this._constructDefaultBundle();\n        }\n        if (!this._fetchStatus) {\n          this._fetchStatus = deepcopy({ // per instance\n            fetchingInstance: null,\n            ajax: null,\n            ajaxLang: null,\n            lastLang: null,\n            fallbackLanguageList: null,\n            targetLang: null, \n            lastResponse: {},\n            rawResponses: {}\n          });\n        }\n        this._onDomChangeBindThis = this._onDomChange.bind(this);\n        this.addEventListener('dom-change', this._onDomChangeBindThis);\n        // Fix #34. [Polymer 1.4.0] Supply an empty object if this.__data__ is undefined\n        this.__data__ = this.__data__ || Object.create(null);\n      }\n      else {\n        if (!isStandardPropertyConfigurable) {\n          // Fix #36. Patch missing properties except for lang\n          for (var p in this._propertyEffects) {\n            if (this._propertyEffects[p] &&\n                !Object.getOwnPropertyDescriptor(this, p)) {\n              //console.log('ready: creating accessors for ' + p);\n              Polymer.Bind._createAccessors(this, p, this._propertyEffects[p]);\n            }\n          }\n        }\n        if (Polymer.Element && !this.__data) {\n          this._initializeProperties();\n        }\n        this._langChanged(this.getAttribute('lang'), undefined);\n        // model per instance\n        if (this.text) {\n          this.model = deepcopy(this.text.model);\n        }\n      }\n    },\n\n    /**\n     * attached lifecycle callback.\n     */\n    attached: function () {\n      if (this.is === 'i18n-dom-bind') {\n        if (this._properties) {\n          // Fix #35. [IE10] Restore properties for use in rendering\n          this.properties = this._properties;\n          delete this._properties;\n        }\n      }\n      if (this.observeHtmlLang) {\n        this.lang = html.lang;\n        // TODO: this call is redundant\n        this._observeHtmlLangChanged(true);\n      }\n    },\n\n    /**\n     * Handle `dom-change` event for `i18n-dom-bind`\n     */\n    _onDomChange: function () {\n      // Fix #16: [IE11][Polymer 1.3.0] On IE11, i18n-dom-bind does not work with Polymer 1.3.0\n      // Patch the broken lang property accessors manually if it is missing\n      // Fix #34: [IE11][Polymer 1.4.0] Create missing property accessors including lang\n      for (var p in this._propertyEffects) {\n        if (this._propertyEffects[p] &&\n            !Object.getOwnPropertyDescriptor(this, p)) {\n          Polymer.Bind._createAccessors(this, p, this._propertyEffects[p]);\n        }\n      }\n      this.removeEventListener('dom-change', this._onDomChangeBindThis);\n      if (this.text && this.text.model) {\n        this.model = deepcopy(this.text.model);\n      }\n      // Fix #17: [Polymer 1.3.0] observeHtmlLang is undefined in i18n-dom-bind\n      // Explicitly initialize observeHtmlLang if the value is undefined.\n      if (typeof this.observeHtmlLang === 'undefined' &&\n          !this.hasAttribute('observe-html-lang')) {\n        this.observeHtmlLang = true;\n      }\n      if (this.observeHtmlLang) {\n        this.lang = html.lang;\n        this._observeHtmlLangChanged(true);\n      }\n    },\n\n    /**\n     * detached lifecycle callback\n     */\n    detached: function () {\n      if (this.observeHtmlLang) {\n        this._observeHtmlLangChanged(false);\n      }\n    }\n  };\n\n  // Fix #36. Rename lang property as _lang to avoid conflict with the predefined lang property\n  if (!isStandardPropertyConfigurable) {\n    var _properties = Object.create(null);\n    for (var p in BehaviorsStore.I18nBehavior.properties) {\n      if (p === 'lang') {\n        _properties._lang = BehaviorsStore.I18nBehavior.properties.lang;\n      }\n      else {\n        _properties[p] = BehaviorsStore.I18nBehavior.properties[p];\n      }\n    }\n    BehaviorsStore.I18nBehavior.properties = _properties;\n    BehaviorsStore.I18nBehavior.properties._lang.reflectToAttribute = false;\n    BehaviorsStore.I18nBehavior.properties.text.computed = '_getBundle(_lang)';\n    BehaviorsStore.I18nBehavior._updateEffectiveLang = function (event) {\n      if ((!Polymer.Element && Polymer.dom(event).rootTarget === this) ||\n          (Polymer.Element && event.composedPath()[0] === this)) {\n        //console.log('lang-updated: _updateEffectiveLang: assigning effectiveLang = ' + this._lang);\n        this.effectiveLang = this._lang;\n      }\n    };\n    BehaviorsStore.I18nBehavior.hostAttributes = {\n      'lang': defaultLang\n    };\n  }\n\n  if (Polymer.Element) {\n    // Polymer 2.x\n    BehaviorsStore._I18nBehavior = BehaviorsStore.I18nBehavior;\n    BehaviorsStore.I18nBehavior = [ BehaviorsStore._I18nBehavior ];\n    Object.defineProperty(BehaviorsStore.I18nBehavior, '0', {\n      get: function() {\n        var current = (!window.HTMLImports || HTMLImports.hasNative) ? document.currentScript : document._currentScript;\n        var i18nAttrRepos = current.ownerDocument.querySelectorAll('i18n-attr-repo:not([processed])');\n        var domModules = current.ownerDocument.querySelectorAll('dom-module[legacy]');\n        if (domModules.length === 0) {\n          domModules = current.ownerDocument.querySelectorAll('dom-module');\n          if (domModules.length !== 1) {\n            domModules = [];\n          }\n        }\n        BehaviorsStore._I18nAttrRepo._created();\n        Array.prototype.forEach.call(i18nAttrRepos, function (repo) {\n          if (!repo.hasAttribute('processed')) {\n            var customAttributes = repo.querySelector('template#custom');\n            if (customAttributes) {\n              BehaviorsStore._I18nAttrRepo._traverseTemplateTree(customAttributes.content || customAttributes._content);\n            }\n            repo.setAttribute('processed', '');\n          }\n        });\n        Array.prototype.forEach.call(domModules, function (domModule) {\n          if (domModule && domModule.id) {\n            var template = domModule.querySelector('template');\n            if (template) {\n              BehaviorsStore._I18nBehavior._constructDefaultBundle(template, domModule.id);\n              domModule.removeAttribute('legacy');\n            }\n          }\n        });\n        return BehaviorsStore._I18nBehavior;\n      }\n    });\n  }\n  else {\n    // Polymer 1.x\n  /**\n   * `<template is=\"i18n-dom-bind\">` element extends `dom-bind` template element with `I18nBehavior`\n   *\n   * @group I18nBehavior\n   * @element i18n-dom-bind\n   */\n  var i18nBehaviorDomBind = {};\n  Polymer.Base.extend(i18nBehaviorDomBind, BehaviorsStore.I18nBehavior);\n  var i18nDomBind = {};\n  var domBind = document.createElement('template', 'dom-bind');\n  var domBindProto = Object.getPrototypeOf(domBind);\n  if (typeof domBindProto.render !== 'function') {\n    domBindProto = domBind.__proto__; // fallback for IE10\n  }\n  Polymer.Base.extend(i18nDomBind, domBindProto);\n  i18nDomBind.is = 'i18n-dom-bind';\n  if (!navigator.language && navigator.browserLanguage) { // Detect IE10\n    // Fix #35. [IE10] Hide properties until attached phase in IE10\n    // to avoid exceptions in overriding unconfigurable properties in Object.defineProperty\n    i18nBehaviorDomBind._properties = i18nBehaviorDomBind.properties;\n    i18nBehaviorDomBind.properties = Object.create(null);\n  }\n  /* As of Polymer 1.3.1, dom-bind does not have predefined behaviors */\n  /* istanbul ignore if */\n  if (i18nDomBind.behaviors) {\n    i18nDomBind.behaviors.push(i18nBehaviorDomBind);\n  }\n  else {\n    i18nDomBind.behaviors = [ i18nBehaviorDomBind ];\n  }\n  var _Polymer = Polymer;\n  _Polymer(i18nDomBind);\n  }\n})(document);\n/*\n@license\nCopyright (c) 2014 The Polymer Project Authors. All rights reserved.\nThis code may only be used under the BSD style license found at http://polymer.github.io/LICENSE.txt\nThe complete set of authors may be found at http://polymer.github.io/AUTHORS.txt\nThe complete set of contributors may be found at http://polymer.github.io/CONTRIBUTORS.txt\nCode distributed by Google as part of the polymer project is also\nsubject to an additional IP rights grant found at http://polymer.github.io/PATENTS.txt\n*/\n// From polymer#2.0-preview src/legacy/class.html\nPolymer.Utils = Polymer.Utils || {};\nPolymer.Utils.MixinBehavior = function(behavior, Base) {\n  var utils = Polymer.Utils;\n  var metaProps = {\n    attached: true,\n    detached: true,\n    ready: true,\n    created: true,\n    beforeRegister: true,\n    registered: true,\n    attributeChanged: true,\n    // meta objects\n    behaviors: true,\n    hostAttributes: true,\n    properties: true,\n    observers: true,\n    listeners: true\n  };\n  var config = {\n    properties: behavior.properties,\n    observers: behavior.observers\n  };\n\n  class PolymerGenerated extends Base {\n\n    static get config() {\n      return config;\n    }\n\n    _invokeFunction(fn, args) {\n      if (fn) {\n        fn.apply(this, args);\n      }\n    }\n\n    constructor() {\n      super();\n      // call `registered` only if it was not called for *this* constructor\n      if (!PolymerGenerated.hasOwnProperty('__registered')) {\n        PolymerGenerated.__registered = true;\n        if (behavior.registered) {\n          behavior.registered.call(Object.getPrototypeOf(this));\n        }\n      }\n    }\n\n    created() {\n      super.created();\n      this._invokeFunction(behavior.created);\n    }\n\n    _applyConfigMetaData() {\n      super._applyConfigMetaData();\n      this._applyConfigMetaDataFrom(behavior);\n    }\n\n    _applyListeners() {\n      super._applyListeners();\n      this._applyConfigListeners(behavior);\n    }\n\n    _ensureAttributes() {\n      // ensure before calling super so that subclasses can override defaults\n      this._ensureConfigAttributes(behavior);\n      super._ensureAttributes();\n    }\n\n    ready() {\n      super.ready();\n      this._invokeFunction(behavior.ready);\n    }\n\n    attached() {\n      super.attached();\n      this._invokeFunction(behavior.attached);\n    }\n\n    detached() {\n      super.detached();\n      this._invokeFunction(behavior.detached);\n    }\n\n    attributeChanged(name, old, value) {\n      super.attributeChanged(name, old, value);\n      this._invokeFunction(behavior.attributeChanged, [name, old, value]);\n    }\n  }\n\n  for (var p in behavior) {\n    if (!(p in metaProps))\n      utils.copyOwnProperty(p, behavior, PolymerGenerated.prototype);\n  }\n\n  return PolymerGenerated;\n};\n// Globally expose base elements and mixins\nwindow.BaseElements = window.BaseElements || {};\nwindow.Mixins = window.Mixins || {};\n\n// Localizable mixin\nMixins.Localizable = function (base) {\n\n  return class Localizable extends Polymer.Utils.MixinBehavior(BehaviorsStore._I18nBehavior, base) {\n    constructor () {\n      Localizable.template;\n      super();\n    }\n    static get _rawTemplate() {\n      let id = this.is;\n      let name = this.name ||\n        (typeof this === 'function' ?\n                this.toString().replace(/^[\\S\\s]*?function\\s*/, \"\").replace(/[\\s\\(\\/][\\S\\s]+$/, \"\") :\n                undefined);\n      if (!id && name && name !== 'Localizable' && name != 'class' && !name.match(/^_class/)) {\n        id = this.is = this._uncamelCase(name);\n      }\n      // TODO: template fetching should be flexible to detect super.template\n      let template = Polymer.DomModule.import(id, 'template');\n      if (id && !template) {\n        let current = (!window.HTMLImports || HTMLImports.useNative) ? document.currentScript\n                                            : document._currentScript;\n        template = (current ? current.ownerDocument\n                    .querySelector('template[id=' + id + ']') : null) || \n                   document.querySelector('template[id=' + id + ']');\n        if (!template && id !== 'i18n-dom-bind') {\n          template = document.createElement('template');\n          template.setAttribute('id', id);\n          console.warn('Localizable._rawTemplate: ' + id + ' has no template. Supplying an empty template');\n        }\n        if (template) {\n          let domModule = document.createElement('dom-module');\n          let assetUrl = new URL((current ? current.baseURI : null) ||\n            (window.currentImport ? window.currentImport.baseURI : null) ||\n            (current && current.ownerDocument ? current.ownerDocument.baseURI : null) ||\n            document.baseURI);\n          domModule.appendChild(template);\n          domModule.setAttribute('assetpath', \n                                  template.hasAttribute('basepath') ?\n                                    template.getAttribute('basepath') :\n                                    template.hasAttribute('assetpath') ? \n                                      template.getAttribute('assetpath') : \n                                      assetUrl.pathname);\n          domModule.register(id);\n          this._template = template;\n        }\n      }\n      return template;\n    }\n    static get template() {\n      return this._i18nPreprocess(this._rawTemplate);\n    }\n    static _uncamelCase(name) {\n      return name\n        // insert a hyphen between lower & upper\n        .replace(/([a-z0-9])([A-Z])/g, '$1 $2')\n        // space before last upper in a sequence followed by lower\n        .replace(/\\b([A-Z]+)([A-Z])([a-z0-9])/, '$1 $2$3')\n        // replace spaces with hyphens\n        .replace(/ /g, '-')\n        // lowercase\n        .toLowerCase();\n    }\n    static get _templateLocalizable () {\n      return this.hasOwnProperty('__templateLocalizable');\n    }\n    static set _templateLocalizable (value) {\n      this.__templateLocalizable = value;\n    }\n    static _i18nPreprocess(template) {\n      if (this.is && template && !this._templateLocalizable) {\n        this._templateLocalizable = this.prototype._constructDefaultBundle(template);\n      }\n      return template;\n    }\n    get is () {\n      return this.constructor.is;\n    }\n  };\n}\n\n// Logger mixin\nMixins.Logger = (base) => class extends base {\n  connectedCallback() {\n    super.connectedCallback();\n    console.log('<' + Object.getPrototypeOf(this).constructor.is + '>: ' +\n      'id = ' + this.id + ', ' +\n      'this.text = ' + JSON.stringify(this.text, null, 2));\n    console.log('Preprocessed template = \\n', Object.getPrototypeOf(this).constructor.template);\n  }\n};\n\n// I18N Base Element\nObject.defineProperty(BaseElements, 'I18nElement', {\n  get: function () {\n    return Mixins.Localizable(Polymer.LegacyElement);\n  }\n});\n(function () {\n  function UncamelCase (name) {\n    return name\n      // insert a hyphen between lower & upper\n      .replace(/([a-z0-9])([A-Z])/g, '$1 $2')\n      // space before last upper in a sequence followed by lower\n      .replace(/\\b([A-Z]+)([A-Z])([a-z0-9])/, '$1 $2$3')\n      // replace spaces with hyphens\n      .replace(/ /g, '-')\n      // lowercase\n      .toLowerCase();\n  }\n  function functionName (func) {\n    return typeof func === 'function' ? \n            func.toString().replace(/^[\\S\\s]*?function\\s*/, \"\").replace(/[\\s\\(\\/][\\S\\s]+$/, \"\") :\n            undefined;\n  }\n  var _Define = function (id) {\n    return customElements.get(id);\n  };\n  if (!window.Define) {\n    Object.defineProperty(window, 'Define', {\n      get: function () {\n        return _Define;\n      },\n      set: function (proto) {\n        /*\n        Patterns:\n          a) template id {}\n          b) template id {is}\n          c) document.template id {is}\n          d) template {is}\n          e) {is}\n          f) class Is {template}\n          g) {is,template}\n        */\n        var id;\n        var classId;\n        var obj;\n        var name = proto.name || functionName(proto);\n        var current; // currentScript\n        var template = null;\n        var previous; // previousSibling template\n        var cousin; // dom5.serialize output support\n\n        current = (!window.HTMLImports || HTMLImports.useNative) ? document.currentScript\n                                        : document._currentScript;\n\n        previous = current.previousSibling;\n        while (previous && !previous.tagName) {\n          previous = previous.previousSibling;\n        }\n        if (previous && previous.tagName !== 'template'.toUpperCase()) {\n          previous = null;\n        }\n        if (!previous) {\n          // search for cousin template\n          if (current.parentNode.tagName === 'body'.toUpperCase()) {\n            previous = current.parentNode.previousSibling;\n            while (previous && !previous.tagName) {\n              previous = previous.previousSibling;\n            }\n            if (previous && previous.tagName.toLowerCase() === 'head') {\n              for (var i = 0; i < previous.childNodes.length; i++) {\n                if (previous.childNodes[i].tagName === 'template'.toUpperCase()) {\n                  cousin = previous.childNodes[i];\n                  break;\n                }\n              }\n            }\n          }\n          if (cousin) {\n            previous = cousin;\n          }\n          else {\n            previous = null;\n          }\n        }\n\n        if (!proto.is && (!name || name === 'class' || name === 'Define')) {\n          if (previous) {\n            id = previous.id;\n            if (id) {\n              // Pattern a)\n              template = previous;\n              proto.is = id;\n            }\n          }\n        }\n        else {\n          if (proto.is) {\n            id = proto.is;\n          }\n          else if (typeof proto === 'function' && name) {\n            // ES6 class\n            id = UncamelCase(name);\n            classId = name;\n          }\n          var rawTemplate = proto._rawTemplate || proto.template;\n          if (!template && rawTemplate && !name) {\n            // Pattern g)\n            template = rawTemplate;\n          }\n          if (!rawTemplate && !template) {\n            // Pattern b), c)\n            template = current.ownerDocument\n                        .querySelector('template[id=' + id + ']') || \n                       document.querySelector('template[id=' + id + ']');\n          }\n          if (!rawTemplate && !template && previous && !previous.id) {\n            // Pattern d)\n            template = previous;\n            template.id = id;\n          }\n          else {\n            // Pattern e)\n          }\n        }\n\n        if (!id) {\n          throw 'Custom element name is not defined';\n        }\n\n        // register dom-module\n        if (template) {\n          var domModule = document.createElement('dom-module');\n          let assetUrl = new URL(current.baseURI ||\n            (window.currentImport ? window.currentImport.baseURI : null) ||\n            current.ownerDocument.baseURI);\n          domModule.appendChild(template);\n          domModule.setAttribute('assetpath', \n                                  template.hasAttribute('basepath') ?\n                                    template.getAttribute('basepath') :\n                                    template.hasAttribute('assetpath') ? \n                                      template.getAttribute('assetpath') : \n                                      assetUrl.pathname);\n          domModule.register(id);\n          proto._template = template;\n          proto.finalize();\n        }\n\n        // register Custom Element\n        classId = classId || id.split('-').map(function (word) {\n          return word[0].toUpperCase() + word.substr(1);\n        }).join('');\n        if (customElements.get(id)) {\n          console.warn('Discarding duplicate definition of custom element ' + id);\n        }\n        else {\n          customElements.define(id, proto);\n          _Define[classId] = customElements.get(id);\n        }\n        return customElements.get(id);\n      }\n    });\n  }\n})();\n// i18n-dom-bind based on Polymer/polymer#2.0-preview src/templatizer/dom-bind.html\nclass I18nDomBind extends Mixins.Localizable(Polymer.LegacyElement) {\n  static get is() { return 'i18n-dom-bind'; }\n\n  connectedCallback() {\n    this._fetchStatus = deepcopy({ // per custom element\n      fetchingInstance: null,\n      ajax: null,\n      ajaxLang: null,\n      lastLang: null,\n      fallbackLanguageList: null,\n      targetLang: null,\n      lastResponse: {},\n      rawResponses: {}\n    });\n    this.render();\n  }\n\n  disconnectedCallback() {\n    this._removeChildren();\n  }\n\n  _insertChildren() {\n    if (this._children) {\n      for (var i=0; i<this._children.length; i++) {\n        this.parentNode.insertBefore(this._children[i], this);\n      }\n    }\n  }\n\n  _removeChildren() {\n    if (this._children) {\n      for (var i=0; i<this._children.length; i++) {\n        this.stamped.appendChild(this._children[i]);\n      }\n    }\n  }\n\n  render() {\n    if (!this._children) {\n      var template = this.querySelector('template');\n      if (!template) {\n        throw new Error('i18n-dom-bind requires a <template> child');\n      }\n      this._templateLocalizable = this._constructDefaultBundle(template);\n      this._bindTemplate(template);\n      this.root = this._stampTemplate(template);\n      this.stamped = this.root;\n      this._children = [];\n      for (var n=this.root.firstChild; n; n=n.nextSibling) {\n        this._children[this._children.length] = n;\n      }\n      for (var prop in this.__dataProto) {\n        this[prop] = this.__dataProto[prop];\n      }\n      this._flushProperties(this);\n    }\n    this._insertChildren();\n    this.dispatchEvent(new CustomEvent('dom-change'));\n  }\n\n}\ncustomElements.define(I18nDomBind.is, I18nDomBind);\nswitch (syntax) {\n  default:\n  case 'mixin':\n    {\n      class SimpleTextElement extends Mixins.Localizable(Polymer.LegacyElement) {\n        static get is() { return 'simple-text-element' }\n        static get config () {\n          return {\n            listeners: {\n              'lang-updated': '_langUpdated'\n            }          \n          }\n        }\n\n        _langUpdated (e) {\n          console.log(this.is, 'lang-updated', e.detail);\n          if (e.composedPath()[0] === this) {\n            this.model = deepcopy(this.text.model);\n          }\n        }\n      }\n      customElements.define(SimpleTextElement.is, SimpleTextElement);\n    }\n    break;\n  case 'base-element':\n    {\n      class SimpleTextElement extends BaseElements.I18nElement {\n        static get is() { return 'simple-text-element' }\n        static get config () {\n          return {\n            listeners: {\n              'lang-updated': '_langUpdated'\n            }          \n          }\n        }\n\n        _langUpdated (e) {\n          console.log(this.is, 'lang-updated', e.detail);\n          if (e.composedPath()[0] === this) {\n            this.model = deepcopy(this.text.model);\n          }\n        }\n      }\n      customElements.define(SimpleTextElement.is, SimpleTextElement);\n    }\n    break;\n  case 'thin':\n    {\n      Define = class SimpleTextElement extends BaseElements.I18nElement {\n        static get config () {\n          return {\n            listeners: {\n              'lang-updated': '_langUpdated'\n            }          \n          }\n        }\n\n        _langUpdated (e) {\n          console.log(this.is, 'lang-updated', e.detail);\n          if (e.composedPath()[0] === this) {\n            this.model = deepcopy(this.text.model);\n          }\n        }\n      };\n    }\n    break;\n  case 'legacy':\n    {\n      Polymer({\n        is: 'simple-text-element',\n\n        behaviors: [\n          BehaviorsStore.I18nBehavior\n        ],\n\n        listeners: {\n          'lang-updated': '_langUpdated'\n        },\n\n        ready: function () {\n          //this.observeHtmlLang = false;\n        },\n\n        attached: function () {\n        },\n\n        _langUpdated: function (e) {\n          console.log(this.is, 'lang-updated', e.detail);\n          if (Polymer.dom(e).rootTarget === this) {\n            this.model = deepcopy(this.text.model);\n          }\n        }\n      });\n    }\n    break;\n  };\nswitch (syntax) {\n  default:\n  case 'mixin':\n    {\n      class CommentedSimpleTextElement extends Mixins.Localizable(Polymer.LegacyElement) {\n        static get is() { return 'commented-simple-text-element' }\n        static get config () {\n          return {\n            listeners: {\n              'lang-updated': '_langUpdated'\n            }          \n          }\n        }\n\n        ready() {\n          super.ready();\n        }\n\n        _langUpdated (e) {\n          console.log(this.is, 'lang-updated', e.detail);\n          if (e.composedPath()[0] === this) {\n            this.model = deepcopy(this.text.model);\n          }\n        }\n      }\n      customElements.define(CommentedSimpleTextElement.is, CommentedSimpleTextElement);\n    }\n    break;\n  case 'base-element':\n    {\n      class CommentedSimpleTextElement extends BaseElements.I18nElement {\n        static get is() { return 'commented-simple-text-element' }\n        static get config () {\n          return {\n            listeners: {\n              'lang-updated': '_langUpdated'\n            }          \n          }\n        }\n\n        ready() {\n          super.ready();\n        }\n\n        _langUpdated (e) {\n          console.log(this.is, 'lang-updated', e.detail);\n          if (e.composedPath()[0] === this) {\n            this.model = deepcopy(this.text.model);\n          }\n        }\n      }\n      customElements.define(CommentedSimpleTextElement.is, CommentedSimpleTextElement);\n    }\n    break;\n  case 'thin':\n    {\n      Define = class CommentedSimpleTextElement extends BaseElements.I18nElement {\n        static get config () {\n          return {\n            listeners: {\n              'lang-updated': '_langUpdated'\n            }          \n          }\n        }\n\n        ready() {\n          super.ready();\n        }\n\n        _langUpdated (e) {\n          console.log(this.is, 'lang-updated', e.detail);\n          if (e.composedPath()[0] === this) {\n            this.model = deepcopy(this.text.model);\n          }\n        }\n      };\n    }\n    break;\n  case 'legacy':\n    {\n      Polymer({\n        is: 'commented-simple-text-element',\n\n        behaviors: [\n          BehaviorsStore.I18nBehavior\n        ],\n\n        listeners: {\n          'lang-updated': '_langUpdated'\n        },\n\n        ready: function () {\n          //this.observeHtmlLang = false;\n        },\n\n        attached: function () {\n        },\n\n        _langUpdated: function (e) {\n          console.log(this.is, 'lang-updated', e.detail);\n          if (Polymer.dom(e).rootTarget === this) {\n            this.model = deepcopy(this.text.model);\n          }\n        }\n      });\n    }\n    break;\n  };\nswitch (syntax) {\n  default:\n  case 'mixin':\n    {\n      class PluralGenderElement extends Mixins.Localizable(Polymer.LegacyElement) {\n        static get is() { return 'plural-gender-element' }\n        static get config () {\n          return {\n            properties: {\n              sender: {\n                type: Object\n              },\n              recipients: {\n                type: Array\n              }\n            },\n            listeners: {\n              'lang-updated': '_langUpdated'\n            }          \n          }\n        }\n\n        _langUpdated(e) {\n          console.log('plural-gender-element lang-updated lang = ' + this.lang + ' effectiveLang = ' + this.effectiveLang);\n          if (e.composedPath()[0] === this) {\n            this.model = deepcopy(this.text.model);\n          }\n          if (this.renderedEffectiveLang === this.effectiveLang ||\n              (this.renderedEffectiveLang === '' && this.effectiveLang === 'en')) {\n            this.fire('local-dom-ready');\n          }\n        }\n\n        _rendered() {\n          console.log('plural-gender-element rendered lang = ' + this.lang + ' effectiveLang = ' + this.effectiveLang);\n          if (this.lang === this.effectiveLang) {\n            this.fire('local-dom-ready');\n          }\n          else {\n            this.renderedEffectiveLang = this.effectiveLang;\n          }\n        }\n      }\n      customElements.define(PluralGenderElement.is, PluralGenderElement);\n    }\n    break;\n  case 'base-element':\n    {\n      class PluralGenderElement extends BaseElements.I18nElement {\n        static get is() { return 'plural-gender-element' }\n        static get config () {\n          return {\n            properties: {\n              sender: {\n                type: Object\n              },\n              recipients: {\n                type: Array\n              }\n            },\n            listeners: {\n              'lang-updated': '_langUpdated'\n            }          \n          }\n        }\n\n        _langUpdated(e) {\n          console.log('plural-gender-element lang-updated lang = ' + this.lang + ' effectiveLang = ' + this.effectiveLang);\n          if (e.composedPath()[0] === this) {\n            this.model = deepcopy(this.text.model);\n          }\n          if (this.renderedEffectiveLang === this.effectiveLang ||\n              (this.renderedEffectiveLang === '' && this.effectiveLang === 'en')) {\n            this.fire('local-dom-ready');\n          }\n        }\n\n        _rendered() {\n          console.log('plural-gender-element rendered lang = ' + this.lang + ' effectiveLang = ' + this.effectiveLang);\n          if (this.lang === this.effectiveLang) {\n            this.fire('local-dom-ready');\n          }\n          else {\n            this.renderedEffectiveLang = this.effectiveLang;\n          }\n        }\n      }\n      customElements.define(PluralGenderElement.is, PluralGenderElement);\n    }\n    break;\n  case 'thin':\n    {\n      Define = class PluralGenderElement extends BaseElements.I18nElement {\n        static get config () {\n          return {\n            properties: {\n              sender: {\n                type: Object\n              },\n              recipients: {\n                type: Array\n              }\n            },\n            listeners: {\n              'lang-updated': '_langUpdated'\n            }          \n          }\n        }\n\n        _langUpdated(e) {\n          console.log('plural-gender-element lang-updated lang = ' + this.lang + ' effectiveLang = ' + this.effectiveLang);\n          if (e.composedPath()[0] === this) {\n            this.model = deepcopy(this.text.model);\n          }\n          if (this.renderedEffectiveLang === this.effectiveLang ||\n              (this.renderedEffectiveLang === '' && this.effectiveLang === 'en')) {\n            this.fire('local-dom-ready');\n          }\n        }\n\n        _rendered() {\n          console.log('plural-gender-element rendered lang = ' + this.lang + ' effectiveLang = ' + this.effectiveLang);\n          if (this.lang === this.effectiveLang) {\n            this.fire('local-dom-ready');\n          }\n          else {\n            this.renderedEffectiveLang = this.effectiveLang;\n          }\n        }\n      };\n    }\n    break;\n  case 'legacy':\n    {\n      Polymer({\n        is: 'plural-gender-element',\n\n        behaviors: [\n          BehaviorsStore.I18nBehavior\n        ],\n\n        properties: {\n          sender: {\n            type: Object\n          },\n          recipients: {\n            type: Array\n          }\n        },\n\n        listeners: {\n          'lang-updated': '_langUpdated'\n        },\n\n        _langUpdated: function (e) {\n          console.log('plural-gender-element lang-updated lang = ' + this.lang + ' effectiveLang = ' + this.effectiveLang);\n          if (e.composedPath()[0] === this) {\n            this.model = deepcopy(this.text.model);\n          }\n          if (this.renderedEffectiveLang === this.effectiveLang ||\n              (this.renderedEffectiveLang === '' && this.effectiveLang === 'en')) {\n            this.fire('local-dom-ready');\n          }\n        },\n\n        _rendered: function () {\n          console.log('plural-gender-element rendered lang = ' + this.lang + ' effectiveLang = ' + this.effectiveLang);\n          if (this.lang === this.effectiveLang) {\n            this.fire('local-dom-ready');\n          }\n          else {\n            this.renderedEffectiveLang = this.effectiveLang;\n          }\n        }\n      });\n    }\n    break;\n  };\nswitch (syntax) {\n  default:\n  case 'mixin':\n    {\n      class TextAttributeElement extends Mixins.Localizable(Polymer.LegacyElement) {\n        static get is() { return 'text-attribute-element'; }\n        static get config() {\n          return {\n            properties: {\n              customTextAttr1: {\n                type: String,\n                reflectToAttribute: true\n              },\n              customTextAttr2: {\n                type: String,\n                reflectToAttribute: true\n              },\n              customTextAttr3: {\n                type: String,\n                reflectToAttribute: true\n              },\n              outOfScopeAttr: {\n                type: String,\n                reflectToAttribute: true\n              },\n              i18nTarget: {\n                type: String\n              },\n              i18nTarget2: {\n                type: String\n              }\n            },\n            listeners: {\n              'lang-updated': '_langUpdated'\n            }\n          };\n        }\n        _langUpdated () {\n          this.model = deepcopy(this.text.model);\n        }\n      }\n      customElements.define(TextAttributeElement.is, TextAttributeElement);\n    }\n    break;\n  case 'base-element':\n    {\n      class TextAttributeElement extends BaseElements.I18nElement {\n        static get is() { return 'text-attribute-element'; }\n        static get config() {\n          return {\n            properties: {\n              customTextAttr1: {\n                type: String,\n                reflectToAttribute: true\n              },\n              customTextAttr2: {\n                type: String,\n                reflectToAttribute: true\n              },\n              customTextAttr3: {\n                type: String,\n                reflectToAttribute: true\n              },\n              outOfScopeAttr: {\n                type: String,\n                reflectToAttribute: true\n              },\n              i18nTarget: {\n                type: String\n              },\n              i18nTarget2: {\n                type: String\n              }\n            },\n            listeners: {\n              'lang-updated': '_langUpdated'\n            }\n          };\n        }\n        _langUpdated () {\n          this.model = deepcopy(this.text.model);\n        }\n      }\n      customElements.define(TextAttributeElement.is, TextAttributeElement);\n    }\n    break;\n  case 'thin':\n    {\n      Define = class TextAttributeElement extends BaseElements.I18nElement {\n        static get config() {\n          return {\n            properties: {\n              customTextAttr1: {\n                type: String,\n                reflectToAttribute: true\n              },\n              customTextAttr2: {\n                type: String,\n                reflectToAttribute: true\n              },\n              customTextAttr3: {\n                type: String,\n                reflectToAttribute: true\n              },\n              outOfScopeAttr: {\n                type: String,\n                reflectToAttribute: true\n              },\n              i18nTarget: {\n                type: String\n              },\n              i18nTarget2: {\n                type: String\n              }\n            },\n            listeners: {\n              'lang-updated': '_langUpdated'\n            }\n          };\n        }\n        _langUpdated () {\n          this.model = deepcopy(this.text.model);\n        }\n      };\n    }\n    break;\n  case 'legacy':\n    {\n      Polymer({\n        is: 'text-attribute-element',\n\n        behaviors: [\n          BehaviorsStore.I18nBehavior\n        ],\n\n        properties: {\n          customTextAttr1: {\n            type: String,\n            reflectToAttribute: true\n          },\n          customTextAttr2: {\n            type: String,\n            reflectToAttribute: true\n          },\n          customTextAttr3: {\n            type: String,\n            reflectToAttribute: true\n          },\n          outOfScopeAttr: {\n            type: String,\n            reflectToAttribute: true\n          },\n          i18nTarget: {\n            type: String\n          },\n          i18nTarget2: {\n            type: String\n          }\n        },\n\n        listeners: {\n          'lang-updated': '_langUpdated'\n        },\n\n        ready: function () {\n          //this.observeHtmlLang = false;\n        },\n\n        attached: function () {\n        },\n\n        _langUpdated: function () {\n          this.model = deepcopy(this.text.model);\n        }\n\n      });\n    }\n    break;\n  };\nswitch (syntax) {\n  default:\n  case 'mixin':\n    {\n      class SimpleAttributeElement extends Mixins.Localizable(Polymer.LegacyElement) {\n        static get is() { return 'simple-attribute-element' }\n        static get config() {\n          return {\n            listeners: {\n              'lang-updated': '_langUpdated'\n              //'pie-chart.google-chart-render': '_pieChartRendered',\n              //'column-chart.google-chart-render': '_columnChartRendered'\n            }\n          };\n        }\n\n        connectedCallback() {\n          super.connectedCallback();\n          this._intervalId = window.setInterval(this._checkChartStatus.bind(this), 1000);\n          setTimeout(function () {\n            this.isPieChartRendered = true;\n            this.isColumnChartRendered = true;\n            window.clearInterval(this._intervalId);\n            this.fire('local-dom-ready'); // TODO: this is an ad-hoc solution\n          }.bind(this), 200);\n        }\n\n        disconnectedCallback() {\n          super.disconnectedCallback();\n        }\n\n        _checkChartStatus() {\n          var pieChartInnerHtml = this.$['pie-chart'].$.chartdiv.innerHTML;\n          var columnChartInnerHtml = this.$['column-chart'].$.chartdiv.innerHTML;\n          var notLoaded = false;\n          if (pieChartInnerHtml === 'Undefined chart type') {\n            this.isPieChartRendered = true; // google api to blame; this is not responsible\n          }\n          if (columnChartInnerHtml === 'Undefined chart type') {\n            this.isColumnChartRendered = true; // google api to blame; this is not responsible\n          }\n          if (this.isPieChartRendered && this.isColumnChartRendered) {\n            window.clearInterval(this._intervalId);\n            this.fire('local-dom-ready');\n          }\n        }\n\n        _langUpdated(e) {\n          if (e.composedPath()[0] === this) {\n            this.model = deepcopy(this.text.model);\n          }\n        }\n\n        _pieChartRendered() {\n          this.isPieChartRendered = true;\n          if (this.isPieChartRendered && this.isColumnChartRendered) {\n            window.clearInterval(this._intervalId);\n            this.fire('local-dom-ready');\n          }\n        }\n\n        _columnChartRendered() {\n          this.isColumnChartRendered = true;\n          if (this.isPieChartRendered && this.isColumnChartRendered) {\n            window.clearInterval(this._intervalId);\n            this.fire('local-dom-ready');\n          }\n        }\n      }\n      customElements.define(SimpleAttributeElement.is, SimpleAttributeElement);\n    }\n    break;\n  case 'base-element':\n    {\n      class SimpleAttributeElement extends BaseElements.I18nElement {\n        static get is() { return 'simple-attribute-element' }\n        static get config() {\n          return {\n            listeners: {\n              'lang-updated': '_langUpdated'\n              //'pie-chart.google-chart-render': '_pieChartRendered',\n              //'column-chart.google-chart-render': '_columnChartRendered'\n            }\n          };\n        }\n\n        connectedCallback() {\n          super.connectedCallback();\n          this._intervalId = window.setInterval(this._checkChartStatus.bind(this), 1000);\n          setTimeout(function () {\n            this.isPieChartRendered = true;\n            this.isColumnChartRendered = true;\n            window.clearInterval(this._intervalId);\n            this.fire('local-dom-ready'); // TODO: this is an ad-hoc solution\n          }.bind(this), 200);\n        }\n\n        disconnectedCallback() {\n          super.disconnectedCallback();\n        }\n\n        _checkChartStatus() {\n          var pieChartInnerHtml = this.$['pie-chart'].$.chartdiv.innerHTML;\n          var columnChartInnerHtml = this.$['column-chart'].$.chartdiv.innerHTML;\n          var notLoaded = false;\n          if (pieChartInnerHtml === 'Undefined chart type') {\n            this.isPieChartRendered = true; // google api to blame; this is not responsible\n          }\n          if (columnChartInnerHtml === 'Undefined chart type') {\n            this.isColumnChartRendered = true; // google api to blame; this is not responsible\n          }\n          if (this.isPieChartRendered && this.isColumnChartRendered) {\n            window.clearInterval(this._intervalId);\n            this.fire('local-dom-ready');\n          }\n        }\n\n        _langUpdated(e) {\n          if (e.composedPath()[0] === this) {\n            this.model = deepcopy(this.text.model);\n          }\n        }\n\n        _pieChartRendered() {\n          this.isPieChartRendered = true;\n          if (this.isPieChartRendered && this.isColumnChartRendered) {\n            window.clearInterval(this._intervalId);\n            this.fire('local-dom-ready');\n          }\n        }\n\n        _columnChartRendered() {\n          this.isColumnChartRendered = true;\n          if (this.isPieChartRendered && this.isColumnChartRendered) {\n            window.clearInterval(this._intervalId);\n            this.fire('local-dom-ready');\n          }\n        }\n      }\n      customElements.define(SimpleAttributeElement.is, SimpleAttributeElement);\n    }\n    break;\n  case 'thin':\n    {\n      Define = class SimpleAttributeElement extends BaseElements.I18nElement {\n        static get config() {\n          return {\n            listeners: {\n              'lang-updated': '_langUpdated'\n              //'pie-chart.google-chart-render': '_pieChartRendered',\n              //'column-chart.google-chart-render': '_columnChartRendered'\n            }\n          };\n        }\n\n        connectedCallback() {\n          super.connectedCallback();\n          this._intervalId = window.setInterval(this._checkChartStatus.bind(this), 1000);\n          setTimeout(function () {\n            this.isPieChartRendered = true;\n            this.isColumnChartRendered = true;\n            window.clearInterval(this._intervalId);\n            this.fire('local-dom-ready'); // TODO: this is an ad-hoc solution\n          }.bind(this), 200);\n        }\n\n        disconnectedCallback() {\n          super.disconnectedCallback();\n        }\n\n        _checkChartStatus() {\n          var pieChartInnerHtml = this.$['pie-chart'].$.chartdiv.innerHTML;\n          var columnChartInnerHtml = this.$['column-chart'].$.chartdiv.innerHTML;\n          var notLoaded = false;\n          if (pieChartInnerHtml === 'Undefined chart type') {\n            this.isPieChartRendered = true; // google api to blame; this is not responsible\n          }\n          if (columnChartInnerHtml === 'Undefined chart type') {\n            this.isColumnChartRendered = true; // google api to blame; this is not responsible\n          }\n          if (this.isPieChartRendered && this.isColumnChartRendered) {\n            window.clearInterval(this._intervalId);\n            this.fire('local-dom-ready');\n          }\n        }\n\n        _langUpdated(e) {\n          if (e.composedPath()[0] === this) {\n            this.model = deepcopy(this.text.model);\n          }\n        }\n\n        _pieChartRendered() {\n          this.isPieChartRendered = true;\n          if (this.isPieChartRendered && this.isColumnChartRendered) {\n            window.clearInterval(this._intervalId);\n            this.fire('local-dom-ready');\n          }\n        }\n\n        _columnChartRendered() {\n          this.isColumnChartRendered = true;\n          if (this.isPieChartRendered && this.isColumnChartRendered) {\n            window.clearInterval(this._intervalId);\n            this.fire('local-dom-ready');\n          }\n        }\n      }\n    }\n    break;\n  case 'legacy':\n    {\n      Polymer({\n        is: 'simple-attribute-element',\n\n        behaviors: [\n          BehaviorsStore.I18nBehavior\n        ],\n\n        listeners: {\n          'lang-updated': '_langUpdated',\n          'pie-chart.google-chart-render': '_pieChartRendered',\n          'column-chart.google-chart-render': '_columnChartRendered'\n        },\n\n        ready: function () {\n          //this.observeHtmlLang = false;\n        },\n\n        attached: function () {\n          this._intervalId = window.setInterval(this._checkChartStatus.bind(this), 1000);\n          setTimeout(function () {\n            this.isPieChartRendered = true;\n            this.isColumnChartRendered = true;\n            window.clearInterval(this._intervalId);\n            this.fire('local-dom-ready'); // TODO: this is an ad-hoc solution\n          }.bind(this), 200);\n        },\n\n        _checkChartStatus: function () {\n          var pieChartInnerHtml = this.$['pie-chart'].$.chartdiv.innerHTML;\n          var columnChartInnerHtml = this.$['column-chart'].$.chartdiv.innerHTML;\n          var notLoaded = false;\n          if (pieChartInnerHtml === 'Undefined chart type') {\n            this.isPieChartRendered = true; // google api to blame; this is not responsible\n          }\n          if (columnChartInnerHtml === 'Undefined chart type') {\n            this.isColumnChartRendered = true; // google api to blame; this is not responsible\n          }\n          if (this.isPieChartRendered && this.isColumnChartRendered) {\n            window.clearInterval(this._intervalId);\n            this.fire('local-dom-ready');\n          }\n        },\n\n        _langUpdated: function (e) {\n          if (Polymer.dom(e).rootTarget === this) {\n            this.model = deepcopy(this.text.model);\n          }\n        },\n\n        _pieChartRendered: function () {\n          this.isPieChartRendered = true;\n          if (this.isPieChartRendered && this.isColumnChartRendered) {\n            window.clearInterval(this._intervalId);\n            this.fire('local-dom-ready');\n          }\n        },\n\n        _columnChartRendered: function () {\n          this.isColumnChartRendered = true;\n          if (this.isPieChartRendered && this.isColumnChartRendered) {\n            window.clearInterval(this._intervalId);\n            this.fire('local-dom-ready');\n          }\n        }\n\n      });\n    }\n    break;\n  };\nswitch (syntax) {\n  default:\n  case 'mixin':\n    {\n      class FallbackTextElement extends Mixins.Localizable(Polymer.LegacyElement) {\n        static get is() { return 'fallback-text-element' }\n        static get config () {\n          return {\n            listeners: {\n              'lang-updated': '_langUpdated'\n            }\n          }\n        }\n\n        _langUpdated (e) {\n          console.log(this.is, 'lang-updated', e.detail);\n          if (e.composedPath()[0] === this) {\n            this.model = deepcopy(this.text.model);\n          }\n        }\n      }\n      customElements.define(FallbackTextElement.is, FallbackTextElement);\n    }\n    break;\n  case 'base-element':\n    {\n      class FallbackTextElement extends BaseElements.I18nElement {\n        static get is() { return 'fallback-text-element' }\n        static get config () {\n          return {\n            listeners: {\n              'lang-updated': '_langUpdated'\n            }          \n          }\n        }\n\n        _langUpdated (e) {\n          console.log(this.is, 'lang-updated', e.detail);\n          if (e.composedPath()[0] === this) {\n            this.model = deepcopy(this.text.model);\n          }\n        }\n      }\n      customElements.define(FallbackTextElement.is, FallbackTextElement);\n    }\n    break;\n  case 'thin':\n    {\n      Define = class FallbackTextElement extends BaseElements.I18nElement {\n        static get config () {\n          return {\n            listeners: {\n              'lang-updated': '_langUpdated'\n            }          \n          }\n        }\n\n        _langUpdated (e) {\n          console.log(this.is, 'lang-updated', e.detail);\n          if (e.composedPath()[0] === this) {\n            this.model = deepcopy(this.text.model);\n          }\n        }\n      };\n    }\n    break;\n  case 'legacy':\n    {\n      Polymer({\n        is: 'fallback-text-element',\n\n        behaviors: [\n          BehaviorsStore.I18nBehavior\n        ],\n\n        listeners: {\n          'lang-updated': '_langUpdated'\n        },\n\n        ready: function () {\n          //this.observeHtmlLang = false;\n        },\n\n        attached: function () {\n        },\n\n        _langUpdated: function (e) {\n          console.log(this.is, 'lang-updated', e.detail);\n          if (Polymer.dom(e).rootTarget === this) {\n            this.model = deepcopy(this.text.model);\n          }\n        }\n      });\n    }\n    break;\n  };\nswitch (syntax) {\n  default:\n  case 'mixin':\n    {\n      class CompoundBindingElement extends Mixins.Localizable(Polymer.LegacyElement) {\n        static get is() { return 'compound-binding-element' }\n        static get config () {\n          return {\n            properties: {\n              param1: {\n                type: String,\n                value: 'parameter 1'\n              },\n              param2: {\n                type: String,\n                value: 'parameter 2'\n              }\n            },\n            listeners: {\n              'lang-updated': '_langUpdated'\n            }          \n          }\n        }\n\n        ready() {\n          super.ready();\n        }\n\n        _langUpdated (e) {\n          console.log(this.is, 'lang-updated', e.detail);\n          if (e.composedPath()[0] === this) {\n            this.model = deepcopy(this.text.model);\n          }\n        }\n      }\n      customElements.define(CompoundBindingElement.is, CompoundBindingElement);\n    }\n    break;\n  case 'base-element':\n    {\n      class CompoundBindingElement extends BaseElements.I18nElement {\n        static get is() { return 'compound-binding-element' }\n        static get config () {\n          return {\n            properties: {\n              param1: {\n                type: String,\n                value: 'parameter 1'\n              },\n              param2: {\n                type: String,\n                value: 'parameter 2'\n              }\n            },\n            listeners: {\n              'lang-updated': '_langUpdated'\n            }          \n          }\n        }\n\n        ready() {\n          super.ready();\n        }\n\n        _langUpdated (e) {\n          console.log(this.is, 'lang-updated', e.detail);\n          if (e.composedPath()[0] === this) {\n            this.model = deepcopy(this.text.model);\n          }\n        }\n      }\n      customElements.define(CompoundBindingElement.is, CompoundBindingElement);\n    }\n    break;\n  case 'thin':\n    {\n      Define = class CompoundBindingElement extends BaseElements.I18nElement {\n        static get config () {\n          return {\n            properties: {\n              param1: {\n                type: String,\n                value: 'parameter 1'\n              },\n              param2: {\n                type: String,\n                value: 'parameter 2'\n              }\n            },\n            listeners: {\n              'lang-updated': '_langUpdated'\n            }          \n          }\n        }\n\n        ready() {\n          super.ready();\n        }\n\n        _langUpdated (e) {\n          console.log(this.is, 'lang-updated', e.detail);\n          if (e.composedPath()[0] === this) {\n            this.model = deepcopy(this.text.model);\n          }\n        }\n      };\n    }\n    break;\n  case 'legacy':\n    {\n      Polymer({\n        is: 'compound-binding-element',\n\n        behaviors: [\n          BehaviorsStore.I18nBehavior\n        ],\n\n        properties: {\n          param1: {\n            type: String,\n            value: 'parameter 1'\n          },\n          param2: {\n            type: String,\n            value: 'parameter 2'\n          }\n        },\n\n        listeners: {\n          'lang-updated': '_langUpdated'\n        },\n\n        ready: function () {\n          //this.observeHtmlLang = false;\n        },\n\n        attached: function () {\n        },\n\n        _langUpdated: function (e) {\n          console.log(this.is, 'lang-updated', e.detail);\n          if (Polymer.dom(e).rootTarget === this) {\n            this.model = deepcopy(this.text.model);\n          }\n        }\n      });\n    }\n    break;\n  };\nswitch (syntax) {\n  default:\n  case 'mixin':\n    {\n      class SimpleTextIdElement extends Mixins.Localizable(Polymer.LegacyElement) {\n        static get is() { return 'simple-text-id-element' }\n        static get config () {\n          return {\n            listeners: {\n              'lang-updated': '_langUpdated'\n            }          \n          }\n        }\n\n        ready() {\n          super.ready();\n        }\n\n        _langUpdated (e) {\n          console.log(this.is, 'lang-updated', e.detail);\n          if (e.composedPath()[0] === this) {\n            this.model = deepcopy(this.text.model);\n          }\n        }\n      }\n      customElements.define(SimpleTextIdElement.is, SimpleTextIdElement);\n    }\n    break;\n  case 'base-element':\n    {\n      class SimpleTextIdElement extends BaseElements.I18nElement {\n        static get is() { return 'simple-text-id-element' }\n        static get config () {\n          return {\n            listeners: {\n              'lang-updated': '_langUpdated'\n            }          \n          }\n        }\n\n        ready() {\n          super.ready();\n        }\n\n        _langUpdated (e) {\n          console.log(this.is, 'lang-updated', e.detail);\n          if (e.composedPath()[0] === this) {\n            this.model = deepcopy(this.text.model);\n          }\n        }\n      }\n      customElements.define(SimpleTextIdElement.is, SimpleTextIdElement);\n    }\n    break;\n  case 'thin':\n    {\n      Define = class SimpleTextIdElement extends BaseElements.I18nElement {\n        static get config () {\n          return {\n            listeners: {\n              'lang-updated': '_langUpdated'\n            }          \n          }\n        }\n\n        ready() {\n          super.ready();\n        }\n\n        _langUpdated (e) {\n          console.log(this.is, 'lang-updated', e.detail);\n          if (e.composedPath()[0] === this) {\n            this.model = deepcopy(this.text.model);\n          }\n        }\n      };\n    }\n    break;\n  case 'legacy':\n    {\n      Polymer({\n        is: 'simple-text-id-element',\n\n        behaviors: [\n          BehaviorsStore.I18nBehavior\n        ],\n\n        listeners: {\n          'lang-updated': '_langUpdated'\n        },\n\n        ready: function () {\n          //this.observeHtmlLang = false;\n        },\n\n        attached: function () {\n        },\n\n        _langUpdated: function (e) {\n          console.log(this.is, 'lang-updated', e.detail);\n          if (Polymer.dom(e).rootTarget === this) {\n            this.model = deepcopy(this.text.model);\n          }\n        }\n      });\n    }\n    break;\n  };\nvar bind = document.querySelector('#simple-attribute-dom-bind');\n\n      bind.addEventListener('dom-change', function onDomChangeForBind (event) {\n        if (!bind.done && event.target === bind) {\n          bind._langUpdated = function (e) {\n            if (e.composedPath()[0] === this) {\n              //console.log('bind._langUpdated: ' + this.is + ' ' + this.id + ' ' + e.type + ' ' + this.lang + ' params.lang = ' + (this.params ? this.params.lang : ''));\n              //console.log('bind._langUpdated: deepcopying model for lang ' + this.lang);\n              this.model = deepcopy(this.text.model);\n              this.notifyPath('model', this.model);\n              this.render();\n            }\n          }.bind(bind);\n\n          bind._onDomChangeAfterLangUpdated = function (e) {\n            //console.log('bind._onDomChangeAfterLangUpdated ' + this.is + ' ' + this.id + ' ' + e.type + ' ' + this.lang + ' params.lang = ' + (this.params ? this.params.lang : ''));\n            if (this.params && this.params.lang === this.lang) {\n              //console.log('bind._onDomChangeAfterLangUpdated ' + this.is + ' ' + this.id + ' ' + e.type + ' firing local-dom-ready');\n              this.fire('local-dom-ready');\n            }\n            e.stopPropagation();\n            return false;\n          }.bind(bind);\n\n          bind.addEventListener('lang-updated', bind._langUpdated);\n          bind.addEventListener('dom-change', bind._onDomChangeAfterLangUpdated);\n\n          window.removeEventListener('dom-change', onDomChangeForBind);\n          bind.done = true;\n        }\n      });\nsuite('I18nElement with ' + \n  (window.location.href.indexOf('?dom=Shadow') >= 0 ? 'Shadow DOM' : 'Shady DOM') +\n  (' in ' + syntax + ' syntax'), \n  function () {\n\n  var lang0 = '';\n  var lang1 = 'en';\n  var lang2 = 'fr';\n  var lang3 = 'ja';\n  var lang4 = 'fr-CA';\n  var lang5 = 'zh-Hans-CN';\n  var lang6 = 'ru';\n  var text_simple = {\n    'model': {},\n    'text': ' outermost text at the beginning ',\n    'h1_3': 'outermost header 1',\n    'text_4': ' outermost text in the middle ',\n    'span_5': 'simple text without id',\n    'span_6': 'simple text without id 2',\n    'label-1': 'simple text with id',\n    'label-2': 'simple text with id 2',\n    'div_9:span': 'simple text within div',\n    'div_9:span_1': 'simple text within div 2',\n    'div_9:div_2:div': 'great grandchild text within div',\n    'div_10:text': ' simple text as the first element in div ',\n    'div_10:span_1': 'simple text within div',\n    'div_10:text_2': ' simple text in the middle of div ',\n    'div_10:span_3': 'simple text within div 2',\n    'div_10:div_4:div': 'great grandchild text within div',\n    'div_10:text_5': ' simple text at the last element in div ',\n    'toplevel-div:span': 'simple text within div',\n    'toplevel-div:span_1': 'simple text within div 2',\n    'third-level-div': 'great grandchild text within div',\n    'second-level-div:div_1': 'great grandchild text within div without id',\n    'div_12:ul:li': 'line item without id 1',\n    'div_12:ul:li_1': 'line item without id 2',\n    'div_12:ul:li_2': 'line item without id 3',\n    'line-items:li': 'line item with id 1',\n    'line-items:li_1': 'line item with id 2',\n    'line-items:li_2': 'line item with id 3',\n    'p_13': [\n      'A paragraph with {1} is converted to {2}.',\n      'parameters',\n      '<i18n-format>'\n    ],\n    'paragraph': [\n      'A paragraph with {1} is converted to {2}.',\n      'id',\n      '<i18n-format>'\n    ],\n    'text_15': ' outermost text at the end '\n  };\n  var localDOM_simple = [\n    { select: 'div:not([id])', 'previousTextSibling.data': ' outermost text at the beginning ' },\n    { select: 'h1', textContent: 'outermost header 1' },\n    { select: 'h1', 'nextTextSibling.data': ' outermost text in the middle ' },\n    { select: 'span:not([id])', textContent: [ 'simple text without id', 'simple text without id 2' ] },\n    { select: 'span[id=\"label-1\"]', textContent: 'simple text with id' },\n    { select: 'span[id=\"label-2\"]', textContent: 'simple text with id 2' },\n    { select: 'span[id=\"label-2\"] + div span:not([id])', textContent:  [ 'simple text within div', 'simple text within div 2' ] },\n    { select: 'span[id=\"label-2\"] + div div:not([id]) div:not([id])', textContent: [ 'great grandchild text within div' ] },\n    { select: 'span[id=\"label-2\"] + div + div', 'childNodes.0.data': ' simple text as the first element in div ' },\n    { select: 'span[id=\"label-2\"] + div + div span:not([id])', textContent:  [ 'simple text within div', 'simple text within div 2' ] },\n    { select: 'span[id=\"label-2\"] + div + div span:not([id])', 'nextTextSibling.data': ' simple text in the middle of div ' },\n    { select: 'span[id=\"label-2\"] + div + div div:not([id]) div:not([id])', textContent: 'great grandchild text within div' },\n    { select: 'span[id=\"label-2\"] + div + div div:not([id])', 'nextTextSibling.data': ' simple text at the last element in div ' },\n    { select: '[id=\"toplevel-div\"] span:not([id])', textContent: [ 'simple text within div', 'simple text within div 2' ] },\n    { select: '[id=\"third-level-div\"]', textContent: 'great grandchild text within div' },\n    { select: '[id=\"second-level-div\"] div:not([id])', textContent: 'great grandchild text within div without id' },\n    { select: 'div ul:not([id]) li:not([id])', textContent: [ 'line item without id 1', 'line item without id 2', 'line item without id 3' ] },\n    { select: '[id=\"line-items\"] li:not([id])', textContent: [ 'line item with id 1', 'line item with id 2', 'line item with id 3' ] },\n    { select: 'p:not([id]) i18n-format', \n      'PolymerDom.children.0.textContent': 'A paragraph with {1} is converted to {2}.' },\n    { select: 'p:not([id]) i18n-format',\n      'PolymerDom.children.1.tagName': 'B',\n      'PolymerDom.children.1.textContent': 'parameters',\n      'PolymerDom.children.1.attributes.slot.value': '1' },\n    { select: 'p:not([id]) i18n-format',\n      'PolymerDom.children.2.tagName': 'CODE',\n      'PolymerDom.children.2.textContent': '<i18n-format>',\n      'PolymerDom.children.2.attributes.slot.value': '2' },\n    { select: '[id=\"paragraph\"] i18n-format',\n      'PolymerDom.children.0.textContent': 'A paragraph with {1} is converted to {2}.' },\n    { select: '[id=\"paragraph\"] i18n-format',\n      'PolymerDom.children.1.tagName': 'B',\n      'PolymerDom.children.1.textContent': 'id',\n      'PolymerDom.children.1.attributes.slot.value': '1' },\n    { select: '[id=\"paragraph\"] i18n-format',\n      'PolymerDom.children.2.tagName': 'CODE',\n      'PolymerDom.children.2.textContent': '<i18n-format>',\n      'PolymerDom.children.2.attributes.slot.value': '2' },\n    { select: '[id=\"paragraph\"]', 'nextTextSibling.data': ' outermost text at the end ' }\n  ];\n  var text_simple_text_id = {\n    'model': {},\n    'text': ' outermost text at the beginning ',\n    'h1_3': 'outermost header 1',\n    'text_4': ' outermost text in the middle ',\n    'span_5': 'simple text without id',\n    'span_6': 'simple text without id 2',\n    'label-1': 'simple text with id',\n    'label-2': 'simple text with id 2',\n    'div_9:span': 'simple text within div',\n    'div_9:span_1': 'simple text within div 2',\n    'div_9:div_2:div': 'great grandchild text within div',\n    'div_10:text': ' simple text as the first element in div ',\n    'div_10:span_1': 'simple text within div',\n    'div_10:text_2': ' simple text in the middle of div ',\n    'div_10:span_3': 'simple text within div 2',\n    'div_10:div_4:div': 'great grandchild text within div',\n    'div_10:text_5': ' simple text at the last element in div ',\n    'toplevel-div:span': 'simple text within div',\n    'toplevel-div:span_1': 'simple text within div 2',\n    'second-level-div': [\n      ' {1}\\n        {2} ',\n      'great grandchild text within div',\n      'great grandchild text within div without id'\n    ],\n    'div_12:ul:li': 'line item without id 1',\n    'div_12:ul:li_1': 'line item without id 2',\n    'div_12:ul:li_2': 'line item without id 3',\n    'line-items': [\n      ' {1}\\n        {2}\\n        {3} ',\n      'line item with id 1',\n      'line item with id 2',\n      'line item with id 3'\n    ],\n    'p_13': [\n      'A paragraph with {1} is converted to {2}.',\n      'parameters',\n      '<i18n-format>'\n    ],\n    'paragraph': [\n      'A paragraph with {1} is converted to {2}.',\n      'id',\n      '<i18n-format>'\n    ],\n    'text_15': ' outermost text at the end '\n  };\n  var localDOM_simple_text_id = [\n    { select: 'div:not([text-id])', 'previousTextSibling.data': ' outermost text at the beginning ' },\n    { select: 'h1', textContent: 'outermost header 1' },\n    { select: 'h1', 'nextTextSibling.data': ' outermost text in the middle ' },\n    { select: 'span:not([text-id])', textContent: [ 'simple text without id', 'simple text without id 2' ] },\n    { select: 'span[text-id=\"label-1\"]', textContent: 'simple text with id' },\n    { select: 'span[text-id=\"label-2\"]', textContent: 'simple text with id 2' },\n    { select: 'span[text-id=\"label-2\"] + div span:not([text-id])', textContent:  [ 'simple text within div', 'simple text within div 2' ] },\n    { select: 'span[text-id=\"label-2\"] + div div:not([text-id]) div:not([text-id])', textContent: [ 'great grandchild text within div' ] },\n    { select: 'span[text-id=\"label-2\"] + div + div', 'childNodes.0.data': ' simple text as the first element in div ' },\n    { select: 'span[text-id=\"label-2\"] + div + div span:not([text-id])', textContent:  [ 'simple text within div', 'simple text within div 2' ] },\n    { select: 'span[text-id=\"label-2\"] + div + div span:not([text-id])', 'nextTextSibling.data': ' simple text in the middle of div ' },\n    { select: 'span[text-id=\"label-2\"] + div + div div:not([text-id]) div:not([text-id])', textContent: 'great grandchild text within div' },\n    { select: 'span[text-id=\"label-2\"] + div + div div:not([text-id])', 'nextTextSibling.data': ' simple text at the last element in div ' },\n    { select: '[text-id=\"toplevel-div\"] span:not([text-id])', textContent: [ 'simple text within div', 'simple text within div 2' ] },\n    { select: '[text-id=\"second-level-div\"] i18n-format',\n      'PolymerDom.children.0.textContent': ' {1}\\n        {2} ' },\n    { select: '[text-id=\"second-level-div\"] i18n-format',\n      'PolymerDom.children.1.tagName': 'DIV',\n      'PolymerDom.children.1.textContent': 'great grandchild text within div',\n      'PolymerDom.children.1.attributes.slot.value': '1' },\n    { select: '[text-id=\"second-level-div\"] i18n-format',\n      'PolymerDom.children.2.tagName': 'DIV',\n      'PolymerDom.children.2.textContent': 'great grandchild text within div without id',\n      'PolymerDom.children.2.attributes.slot.value': '2' },\n    { select: 'div ul:not([text-id]) li:not([text-id])', textContent: [ 'line item without id 1', 'line item without id 2', 'line item without id 3' ] },\n    { select: '[text-id=\"line-items\"] i18n-format',\n      'PolymerDom.children.0.textContent': ' {1}\\n        {2}\\n        {3} ' },\n    { select: '[text-id=\"line-items\"] i18n-format',\n      'PolymerDom.children.1.tagName': 'LI',\n      'PolymerDom.children.1.textContent': 'line item with id 1',\n      'PolymerDom.children.1.attributes.slot.value': '1' },\n    { select: '[text-id=\"line-items\"] i18n-format',\n      'PolymerDom.children.2.tagName': 'LI',\n      'PolymerDom.children.2.textContent': 'line item with id 2',\n      'PolymerDom.children.2.attributes.slot.value': '2' },\n    { select: '[text-id=\"line-items\"] i18n-format',\n      'PolymerDom.children.3.tagName': 'LI',\n      'PolymerDom.children.3.textContent': 'line item with id 3',\n      'PolymerDom.children.3.attributes.slot.value': '3' },\n    { select: 'p:not([text-id]) i18n-format', \n      'PolymerDom.children.0.textContent': 'A paragraph with {1} is converted to {2}.' },\n    { select: 'p:not([text-id]) i18n-format',\n      'PolymerDom.children.1.tagName': 'B',\n      'PolymerDom.children.1.textContent': 'parameters',\n      'PolymerDom.children.1.attributes.slot.value': '1' },\n    { select: 'p:not([text-id]) i18n-format',\n      'PolymerDom.children.2.tagName': 'CODE',\n      'PolymerDom.children.2.textContent': '<i18n-format>',\n      'PolymerDom.children.2.attributes.slot.value': '2' },\n    { select: '[text-id=\"paragraph\"] i18n-format',\n      'PolymerDom.children.0.textContent': 'A paragraph with {1} is converted to {2}.' },\n    { select: '[text-id=\"paragraph\"] i18n-format',\n      'PolymerDom.children.1.tagName': 'B',\n      'PolymerDom.children.1.textContent': 'id',\n      'PolymerDom.children.1.attributes.slot.value': '1' },\n    { select: '[text-id=\"paragraph\"] i18n-format',\n      'PolymerDom.children.2.tagName': 'CODE',\n      'PolymerDom.children.2.textContent': '<i18n-format>',\n      'PolymerDom.children.2.attributes.slot.value': '2' },\n    { select: '[text-id=\"paragraph\"]', 'nextTextSibling.data': ' outermost text at the end ' }\n  ];\n  var sender1 = {\n    'name': 'Joe',\n    'gender': 'male'\n  };\n  var recipients1 = [\n    { 'name': 'Alice', 'gender': 'female' },\n    { 'name': 'Bob', 'gender': 'male' },\n    { 'name': 'Yoda', 'gender': 'other' }\n  ];\n  var recipients2 = [\n    { 'name': 'Alice', 'gender': 'female' },\n    { 'name': 'Bob', 'gender': 'male' }\n  ];\n  var recipients3 = [\n    { 'name': 'Bob', 'gender': 'male' }\n  ];\n  var recipients4 = [];\n  var text_plural_gender = {\n    'model': {},\n    'compound-format-text': [\n      {\n        '0': 'You ({3}) gave no gifts.',\n        '1': {\n          'male': 'You ({3}) gave him ({4}) {5}.',\n          'female': 'You ({3}) gave her ({4}) {5}.',\n          'other': 'You ({3}) gave them ({4}) {5}.'\n        },\n        'one': {\n          'male': 'You ({3}) gave him ({4}) and one other person {5}.',\n          'female': 'You ({3}) gave her ({4}) and one other person {5}.',\n          'other': 'You ({3}) gave them ({4}) and one other person {5}.'\n        },\n        'other': 'You ({3}) gave them ({4}) and {1} other people gifts.'\n      },\n      '{{recipients.length - 1}}',\n      '{{recipients.0.gender}}',\n      '{{sender.name}}',\n      '{{recipients.0.name}}',\n      'a gift'\n    ]\n  };\n  var localDOM_plural_gender_1 = [\n    { select: '#compound-format-text', 'root.PolymerDom.textContent': 'You () gave them () and  other people gifts.' },\n    { select: '#compound-format-text', 'PolymerDom.children.1.PolymerDom.childNodes.0.data.raw': '3' },\n    { select: '#compound-format-text', 'PolymerDom.children.2.PolymerDom.childNodes.0.data.raw': 'female' },\n    { select: '#compound-format-text', 'PolymerDom.children.3.PolymerDom.childNodes.0.data.raw': 'Joe' },\n    { select: '#compound-format-text', 'PolymerDom.children.4.PolymerDom.childNodes.0.data.raw': 'Alice' },\n    { select: '#compound-format-text', 'PolymerDom.children.5.PolymerDom.childNodes.0.data': 'a gift' }\n  ];\n  var localDOM_plural_gender_2 = [\n    { select: '#compound-format-text', 'root.PolymerDom.textContent': 'You () gave her () and one other person .' },\n    { select: '#compound-format-text', 'PolymerDom.children.1.PolymerDom.childNodes.0.data.raw': '2' },\n    { select: '#compound-format-text', 'PolymerDom.children.2.PolymerDom.childNodes.0.data.raw': 'female' },\n    { select: '#compound-format-text', 'PolymerDom.children.3.PolymerDom.childNodes.0.data.raw': 'Joe' },\n    { select: '#compound-format-text', 'PolymerDom.children.4.PolymerDom.childNodes.0.data.raw': 'Alice' },\n    { select: '#compound-format-text', 'PolymerDom.children.5.PolymerDom.childNodes.0.data': 'a gift' }\n  ];\n  var localDOM_plural_gender_3 = [\n    { select: '#compound-format-text', 'root.PolymerDom.textContent': 'You () gave him () .' },\n    { select: '#compound-format-text', 'PolymerDom.children.1.PolymerDom.childNodes.0.data.raw': '1' },\n    { select: '#compound-format-text', 'PolymerDom.children.2.PolymerDom.childNodes.0.data.raw': 'male' },\n    { select: '#compound-format-text', 'PolymerDom.children.3.PolymerDom.childNodes.0.data.raw': 'Joe' },\n    { select: '#compound-format-text', 'PolymerDom.children.4.PolymerDom.childNodes.0.data.raw': 'Bob' },\n    { select: '#compound-format-text', 'PolymerDom.children.5.PolymerDom.childNodes.0.data': 'a gift' }\n  ];\n  var localDOM_plural_gender_4 = [\n    { select: '#compound-format-text', 'root.PolymerDom.textContent': 'You () gave no gifts.' },\n    { select: '#compound-format-text', 'PolymerDom.children.1.PolymerDom.childNodes.0.data.raw': '0' },\n    { select: '#compound-format-text', 'PolymerDom.children.2.PolymerDom.childNodes.0.data.raw': '' },\n    { select: '#compound-format-text', 'PolymerDom.children.3.PolymerDom.childNodes.0.data.raw': 'Joe' },\n    { select: '#compound-format-text', 'PolymerDom.children.4.PolymerDom.childNodes.0.data.raw': '' },\n    { select: '#compound-format-text', 'PolymerDom.children.5.PolymerDom.childNodes.0.data': 'a gift' }\n  ];\n  var text_simple_attribute = {\n    'model': {\n      'standard-input': {\n        'placeholder': 'standard HTML5 attribute'\n      },\n      'outer-div:input_2': {\n        'placeholder': 'standard HTML5 attribute without id'\n      },\n      'paper-input-element': {\n        'label': 'paper-input label',\n        'error-message': 'paper-input error message',\n        'placeholder': 'paper-input placeholder'\n      },\n      'outer-div:paper-input_4': {\n        'label': 'paper-input label without id',\n        'error-message': 'paper-input error message without id',\n        'placeholder': 'paper-input placeholder without id'\n      },\n      'pie-chart': {\n        'options': {\n          'title': 'Distribution of days in 2001H1'\n        },\n        'cols': [\n          {\n            'label': 'Month',\n            'type': 'string'\n          },\n          {\n            'label': 'Days',\n            'type': 'number'\n          }\n        ],\n        'rows': [\n          [\n            'Jan',\n            31\n          ],\n          [\n            'Feb',\n            28\n          ],\n          [\n            'Mar',\n            31\n          ],\n          [\n            'Apr',\n            30\n          ],\n          [\n            'May',\n            31\n          ],\n          [\n            'Jun',\n            30\n          ]\n        ]\n      },\n      'column-chart': {\n        'options': {\n          'title': 'Inventory'\n        },\n        'data': [\n          [\n            'Year',\n            'Things',\n            'Stuff'\n          ],\n          [\n            '2004',\n            1000,\n            400\n          ],\n          [\n            '2005',\n            1170,\n            460\n          ],\n          [\n            '2006',\n            660,\n            1120\n          ],\n          [\n            '2007',\n            1030,\n            540\n          ]\n        ]\n      },\n      'custom-attr': {\n        'custom-text-attr1': 'custom text attribute 1',\n        'custom-text-attr2': 'custom text attribute 2',\n        'custom-text-attr3': 'custom text attribute 3'\n      },\n      'selective-attr': {\n        'custom-text-attr4': [\n          '{1} custom-text-attr4 attribute with param {2} and param {3} {4}',\n          '{{text.ordinary-div}}',\n          '{{text.ordinary-div}}',\n          '[[text.ordinary-div]]',\n          '{{text.ordinary-div}}'\n        ],\n        'custom-text-attr5': [\n          '[[text.ordinary-div]]',\n          ' custom-text-attr5 attribute with param ',\n          \"{{or('',text.ordinary-div)}}\",\n          ' and param ',\n          '[[text.ordinary-div]]'\n        ],\n        'i18n-target': [\n          'i18n-target attribute with param {1} and param {2}',\n          '{{text.ordinary-div}}',\n          '[[text.ordinary-div]]'\n        ],\n        'i18n-target2': [\n          'i18n-target2 attribute with param ',\n          \"{{or('',text.ordinary-div)}}\",\n          ' and param ',\n          '[[text.ordinary-div]]'\n        ]\n      },\n      'selective-attr2': {\n        'i18n-target': 'i18n-target attribute 2'\n      },\n      'selective-attr3': {\n        'i18n-target6': 'i18n-target6 attribute 2'\n      },\n      'selective-attr4': {\n        'i18n-target6': 'i18n-target6 attribute 3'\n      },\n      'json-data-id': {\n        'attr1': 'this attr1 is extracted',\n        'i18n-target-attr': 'this attribute is also extracted'\n      },\n      'template_2:json-data_1': {\n        'attr1': 'this attr1 without id is extracted',\n        'i18n-target-attr': 'this attribute without id is also extracted'\n      }\n    },\n    'ordinary-div': 'text 1'\n  };\n  var model_simple_attribute = {\n    'standard-input': {\n      'placeholder': 'standard HTML5 attribute'\n    },\n    'outer-div:input_2': {\n      'placeholder': 'standard HTML5 attribute without id'\n    },\n    'paper-input-element': {\n      'label': 'paper-input label',\n      'error-message': 'paper-input error message',\n      'placeholder': 'paper-input placeholder'\n    },\n    'outer-div:paper-input_4': {\n      'label': 'paper-input label without id',\n      'error-message': 'paper-input error message without id',\n      'placeholder': 'paper-input placeholder without id'\n    },\n    'pie-chart': {\n      'options': {\n        'title': 'Distribution of days in 2001H1'\n      },\n      'cols': [\n        {\n          'label': 'Month',\n          'type': 'string'\n        },\n        {\n          'label': 'Days',\n          'type': 'number'\n        }\n      ],\n      'rows': [\n        [\n          'Jan',\n          31\n        ],\n        [\n          'Feb',\n          28\n        ],\n        [\n          'Mar',\n          31\n        ],\n        [\n          'Apr',\n          30\n        ],\n        [\n          'May',\n          31\n        ],\n        [\n          'Jun',\n          30\n        ]\n      ]\n    },\n    'column-chart': {\n      'options': {\n        'title': 'Inventory'\n      },\n      'data': [\n        [\n          'Year',\n          'Things',\n          'Stuff'\n        ],\n        [\n          '2004',\n          1000,\n          400\n        ],\n        [\n          '2005',\n          1170,\n          460\n        ],\n        [\n          '2006',\n          660,\n          1120\n        ],\n        [\n          '2007',\n          1030,\n          540\n        ]\n      ]\n    },\n    'custom-attr': {\n      'custom-text-attr1': 'custom text attribute 1',\n      'custom-text-attr2': 'custom text attribute 2',\n      'custom-text-attr3': 'custom text attribute 3'\n    },\n    'selective-attr': {\n      'custom-text-attr4': [\n        '{1} custom-text-attr4 attribute with param {2} and param {3} {4}',\n        '{{text.ordinary-div}}',\n        '{{text.ordinary-div}}',\n        '[[text.ordinary-div]]',\n        '{{text.ordinary-div}}'\n      ],\n      'custom-text-attr5': [\n        '[[text.ordinary-div]]',\n        ' custom-text-attr5 attribute with param ',\n        \"{{or('',text.ordinary-div)}}\",\n        ' and param ',\n        '[[text.ordinary-div]]'\n      ],\n      'i18n-target': [\n        'i18n-target attribute with param {1} and param {2}',\n        '{{text.ordinary-div}}',\n        '[[text.ordinary-div]]'\n      ],\n      'i18n-target2': [\n        'i18n-target2 attribute with param ',\n        \"{{or('',text.ordinary-div)}}\",\n        ' and param ',\n        '[[text.ordinary-div]]'\n      ]\n    },\n    'selective-attr2': {\n      'i18n-target': 'i18n-target attribute 2'\n    },\n    'selective-attr3': {\n      'i18n-target6': 'i18n-target6 attribute 2'\n    },\n    'selective-attr4': {\n      'i18n-target6': 'i18n-target6 attribute 3'\n    },\n    'json-data-id': {\n      'attr1': 'this attr1 is extracted',\n      'i18n-target-attr': 'this attribute is also extracted'\n    },\n    'template_2:json-data_1': {\n      'attr1': 'this attr1 without id is extracted',\n      'i18n-target-attr': 'this attribute without id is also extracted'\n    }\n  };\n  var localDOM_simple_attribute = [\n    { select: 'input[id=\"standard-input\"]', 'placeholder.text': 'standard HTML5 attribute' },\n    { select: 'input[id=\"standard-input\"] + input', 'placeholder.text': 'standard HTML5 attribute without id' },\n    { select: 'paper-input[id=\"paper-input-element\"]', 'label.text': 'paper-input label', 'errorMessage.text': 'paper-input error message', 'placeholder.text': 'paper-input placeholder' },\n    { select: 'paper-input[id=\"paper-input-element\"] + paper-input', 'label.text': 'paper-input label without id', 'errorMessage.text': 'paper-input error message without id', 'placeholder.text': 'paper-input placeholder without id' },\n    { select: 'google-chart[id=\"pie-chart\"]', 'options.title.text': 'Distribution of days in 2001H1', 'cols.0.label.text': 'Month', 'cols.1.label.text': 'Days', 'rows.0.0.text': 'Jan', 'rows.1.0.text': 'Feb', 'rows.2.0.text': 'Mar', 'rows.3.0.text': 'Apr', 'rows.4.0.text': 'May', 'rows.5.0.text': 'Jun' },\n    { select: 'google-chart[id=\"column-chart\"]', 'options.title.text': 'Inventory', 'data.0.0.text': 'Year', 'data.0.1.text': 'Things', 'data.0.2.text': 'Stuff' },\n    { select: 'text-attribute-element[id=\"custom-attr\"]', 'customTextAttr1.text': 'custom text attribute 1', 'customTextAttr2.text': 'custom text attribute 2', 'customTextAttr3.text': 'custom text attribute 3' },\n    { select: 'text-attribute-element[id=\"selective-attr\"]', 'i18nTarget.raw': 'i18n-target attribute with param text 1 and param text 1', 'i18nTarget2.raw': 'i18n-target2 attribute with param text 1 and param text 1' },\n    { select: 'span[id=\"test-json-data-1\"]', 'textContent': 'this attr1 is extracted' },\n    { select: 'span[id=\"test-json-data-2\"]', 'textContent': 'this attribute is also extracted' },\n    { select: 'span[id=\"test-json-data-3\"]', 'textContent': 'this attr1 without id is extracted' },\n    { select: 'span[id=\"test-json-data-4\"]', 'textContent': 'this attribute without id is also extracted' },\n  ];\n  var localDOM_simple_attribute_fr = [\n    { select: 'input[id=\"standard-input\"]', 'placeholder.text': 'standard HTML5 attribute' },\n    { select: 'input[id=\"standard-input\"] + input', 'placeholder.text': 'standard HTML5 attribute without id' },\n    { select: 'paper-input[id=\"paper-input-element\"]', 'label.text': 'paper-input label', 'errorMessage.text': 'paper-input error message', 'placeholder.text': 'paper-input placeholder' },\n    { select: 'paper-input[id=\"paper-input-element\"] + paper-input', 'label.text': 'paper-input label without id', 'errorMessage.text': 'paper-input error message without id', 'placeholder.text': 'paper-input placeholder without id' },\n    { select: 'google-chart[id=\"pie-chart\"]', 'options.title.text': 'Distribution of days in 2001H1', 'cols.0.label.text': 'Month', 'cols.1.label.text': 'Days', 'rows.0.0.text': 'Jan', 'rows.1.0.text': 'Feb', 'rows.2.0.text': 'Mar', 'rows.3.0.text': 'Apr', 'rows.4.0.text': 'May', 'rows.5.0.text': 'Jun' },\n    { select: 'google-chart[id=\"column-chart\"]', 'options.title.text': 'Inventory', 'data.0.0.text': 'Year', 'data.0.1.text': 'Things', 'data.0.2.text': 'Stuff' },\n    { select: 'text-attribute-element[id=\"custom-attr\"]', 'customTextAttr1.text': 'custom text attribute 1', 'customTextAttr2.text': 'custom text attribute 2', 'customTextAttr3.text': 'custom text attribute 3' },\n    { select: 'text-attribute-element[id=\"selective-attr\"]', 'i18nTarget.raw': 'fr i18n-target attribute with param fr text 1 and param fr text 1', 'i18nTarget2.raw': 'fr i18n-target2 attribute with param fr text 1 fr and param fr text 1' },\n    { select: 'span[id=\"test-json-data-1\"]', 'textContent': 'this attr1 is extracted' },\n    { select: 'span[id=\"test-json-data-2\"]', 'textContent': 'this attribute is also extracted' },\n    { select: 'span[id=\"test-json-data-3\"]', 'textContent': 'this attr1 without id is extracted' },\n    { select: 'span[id=\"test-json-data-4\"]', 'textContent': 'this attribute without id is also extracted' },\n  ];\n  var text_fallback = {\n    'model': {},\n    'text': 'fr-CA  outermost text at the beginning ',\n    'h1_3': 'fr-CA outermost header 1',\n    'text_4': 'fr-CA  outermost text in the middle ',\n    'span_5': 'fr-CA simple text without id',\n    'span_6': 'fr-CA simple text without id 2',\n    'label-1': 'fr-CA simple text with id',\n    'label-2': 'fr-CA simple text with id 2',\n    'div_9:span': 'simple text within div',\n    'div_9:span_1': 'simple text within div 2',\n    'div_9:div_2:div': 'great grandchild text within div',\n    'div_10:text': ' simple text as the first element in div ',\n    'div_10:span_1': 'fr-CA simple text within div',\n    'div_10:text_2': ' simple text in the middle of div ',\n    'div_10:span_3': 'simple text within div 2',\n    'div_10:div_4:div': 'great grandchild text within div',\n    'div_10:text_5': ' simple text at the last element in div ',\n    'toplevel-div:span': 'fr-CA simple text within div',\n    'toplevel-div:span_1': 'fr-CA simple text within div 2',\n    'third-level-div': 'fr-CA great grandchild text within div',\n    'second-level-div:div_1': 'fr-CA great grandchild text within div without id',\n    'div_12:ul:li': 'fr line item without id 1',\n    'div_12:ul:li_1': 'fr line item without id 2',\n    'div_12:ul:li_2': 'fr line item without id 3',\n    'line-items:li': 'fr line item with id 1',\n    'line-items:li_1': 'fr line item with id 2',\n    'line-items:li_2': 'fr line item with id 3',\n    'p_13': [\n      'fr-CA A paragraph with {1} is converted to {2}.',\n      'fr-CA parameters',\n      'fr-CA <i18n-format>'\n    ],\n    'paragraph': [\n      'fr-CA A paragraph with {1} is converted to {2}.',\n      'fr-CA id',\n      'fr-CA <i18n-format>'\n    ],\n    'text_15': 'fr-CA  outermost text at the end '\n  };\n  var localDOM_fallback = [\n    { select: 'div:not([id])', 'previousTextSibling.data': 'fr-CA  outermost text at the beginning ' },\n    { select: 'h1', textContent: 'fr-CA outermost header 1' },\n    { select: 'h1', 'nextTextSibling.data': 'fr-CA  outermost text in the middle ' },\n    { select: 'span:not([id])', textContent: [ 'fr-CA simple text without id', 'fr-CA simple text without id 2' ] },\n    { select: 'span[id=\"label-1\"]', textContent: 'fr-CA simple text with id' },\n    { select: 'span[id=\"label-2\"]', textContent: 'fr-CA simple text with id 2' },\n    { select: 'span[id=\"label-2\"] + div span:not([id])', textContent:  [ 'simple text within div', 'simple text within div 2' ] },\n    { select: 'span[id=\"label-2\"] + div div:not([id]) div:not([id])', textContent: [ 'great grandchild text within div' ] },\n    { select: 'span[id=\"label-2\"] + div + div', 'childNodes.0.data': ' simple text as the first element in div ' },\n    { select: 'span[id=\"label-2\"] + div + div span:not([id])', textContent:  [ 'fr-CA simple text within div', 'simple text within div 2' ] },\n    { select: 'span[id=\"label-2\"] + div + div span:not([id])', 'nextTextSibling.data': ' simple text in the middle of div ' },\n    { select: 'span[id=\"label-2\"] + div + div div:not([id]) div:not([id])', textContent: 'great grandchild text within div' },\n    { select: 'span[id=\"label-2\"] + div + div div:not([id])', 'nextTextSibling.data': ' simple text at the last element in div ' },\n    { select: '[id=\"toplevel-div\"] span:not([id])', textContent: [ 'fr-CA simple text within div', 'fr-CA simple text within div 2' ] },\n    { select: '[id=\"third-level-div\"]', textContent: 'fr-CA great grandchild text within div' },\n    { select: '[id=\"second-level-div\"] div:not([id])', textContent: 'fr-CA great grandchild text within div without id' },\n    { select: 'div ul:not([id]) li:not([id])', textContent: [ 'fr line item without id 1', 'fr line item without id 2', 'fr line item without id 3' ] },\n    { select: '[id=\"line-items\"] li:not([id])', textContent: [ 'fr line item with id 1', 'fr line item with id 2', 'fr line item with id 3' ] },\n    { select: 'p:not([id]) i18n-format', \n      'PolymerDom.children.0.textContent': 'fr-CA A paragraph with {1} is converted to {2}.' },\n    { select: 'p:not([id]) i18n-format',\n      'PolymerDom.children.1.tagName': 'B',\n      'PolymerDom.children.1.textContent': 'fr-CA parameters',\n      'PolymerDom.children.1.attributes.slot.value': '1' },\n    { select: 'p:not([id]) i18n-format',\n      'PolymerDom.children.2.tagName': 'CODE',\n      'PolymerDom.children.2.textContent': 'fr-CA <i18n-format>',\n      'PolymerDom.children.2.attributes.slot.value': '2' },\n    { select: '[id=\"paragraph\"] i18n-format',\n      'PolymerDom.children.0.textContent': 'fr-CA A paragraph with {1} is converted to {2}.' },\n    { select: '[id=\"paragraph\"] i18n-format',\n      'PolymerDom.children.1.tagName': 'B',\n      'PolymerDom.children.1.textContent': 'fr-CA id',\n      'PolymerDom.children.1.attributes.slot.value': '1' },\n    { select: '[id=\"paragraph\"] i18n-format',\n      'PolymerDom.children.2.tagName': 'CODE',\n      'PolymerDom.children.2.textContent': 'fr-CA <i18n-format>',\n      'PolymerDom.children.2.attributes.slot.value': '2' },\n    { select: '[id=\"paragraph\"]', 'nextTextSibling.data': 'fr-CA  outermost text at the end ' }\n  ];\n  var param1 = '1st compound parameter';\n  var param2 = '2nd compound parameter';\n  var text_compound = {\n    'model': {},\n    'text': [\n      ' outermost text at the beginning with compound {1} and {2} variables ',\n      '{{param1}}',\n      '{{param2}}'\n    ],\n    'h1_3': [\n      'outermost header 1 with {1} and {2} variables',\n      '{{param1}}',\n      '{{param2}}'\n    ],\n    'text_4': [\n      ' outermost text in the middle with {1} and {2} variables ',\n      '{{param1}}',\n      '{{param2}}'\n    ],\n    'span_5': [\n      'simple text without id with {1} and {2} variables',\n      '{{param1}}',\n      '{{param2}}'\n    ],\n    'span_6': [\n      'simple text without id 2 with {1} and {2} variables',\n      '{{param1}}',\n      '{{param2}}'\n    ],\n    'label-1': [\n      'simple text with id and {1} and {2} variables',\n      '{{param1}}',\n      '{{param2}}'\n    ],\n    'label-2': [\n      'simple text with id and {1} and {2} variables 2',\n      '{{param1}}',\n      '{{param2}}'\n    ],\n    'div_9:span': [\n      'simple text within div with {1} and {2} variables',\n      '{{param1}}',\n      '{{param2}}'\n    ],\n    'div_9:span_1': [\n      'simple text within div with {1} and {2} variables 2',\n      '{{param1}}',\n      '{{param2}}'\n    ],\n    'div_9:div_2:div': [\n      'great grandchild text within div with {1} and {2} variables',\n      '{{param1}}',\n      '{{param2}}'\n    ],\n    'div_10:text': [\n      ' simple text as the first element in div with {1} and {2} variables ',\n      '{{param1}}',\n      '{{param2}}'\n    ],\n    'div_10:span_1': [\n      'simple text within div with {1} and {2} variables',\n      '{{param1}}',\n      '{{param2}}'\n    ],\n    'div_10:text_2': [\n      ' simple text in the middle of div with {1} and {2} variables ',\n      '{{param1}}',\n      '{{param2}}'\n    ],\n    'div_10:span_3': [\n      'simple text within div with {1} and {2} variables 2',\n      '{{param1}}',\n      '{{param2}}'\n    ],\n    'div_10:div_4:div': [\n      'great grandchild text within div with {1} and {2} variables',\n      '{{param1}}',\n      '{{param2}}'\n    ],\n    'div_10:text_5': [\n      ' simple text at the last element in div with {1} and {2} variables ',\n      '{{param1}}',\n      '{{param2}}'\n    ],\n    'toplevel-div:span': [\n      'simple text within div with {1} and {2} variables',\n      '{{param1}}',\n      '{{param2}}'\n    ],\n    'toplevel-div:span_1': [\n      'simple text within div 2 with {1} and {2} variables',\n      '{{param1}}',\n      '{{param2}}'\n    ],\n    'third-level-div': [\n      'great grandchild text within div with {1} and {2} variables',\n      '{{param1}}',\n      '{{param2}}'\n    ],\n    'second-level-div:div_1': [\n      'great grandchild text within div without id with {1} and {2} variables',\n      '{{param1}}',\n      '{{param2}}'\n    ],\n    'div_12:ul:li': [\n      'line item without id 1 with {1} and {2} variables',\n      '{{param1}}',\n      '{{param2}}'\n    ],\n    'div_12:ul:li_1': [\n      'line item without id 2 with {1} and {2} variables',\n      '{{param1}}',\n      '{{param2}}'\n    ],\n    'div_12:ul:li_2': [\n      'line item without id 3 with {1} and {2} variables',\n      '{{param1}}',\n      '{{param2}}'\n    ],\n    'line-items:li': [\n      'line item with id 1 with {1} and {2} variables',\n      '{{param1}}',\n      '{{param2}}'\n    ],\n    'line-items:li_1': [\n      'line item with id 2 with {1} and {2} variables',\n      '{{param1}}',\n      '{{param2}}'\n    ],\n    'line-items:li_2': [\n      'line item with id 3 with {1} and {2} variables',\n      '{{param1}}',\n      '{{param2}}'\n    ],\n    'p_13': [\n      'A paragraph with {1} is converted to {2}.',\n      '{{param1}}',\n      '{{param2}}'\n    ],\n    'paragraph': [\n      'A paragraph with {1}, {2}, and {3} is converted to {4}.',\n      'id',\n      '{{param1}}',\n      '{{param2}}',\n      '<i18n-format>'\n    ],\n    'text_15': [\n      ' outermost text at the end with {1} and {2} variables ',\n      '{{param1}}',\n      '{{param2}}'\n    ]\n  };\n  var localDOM_compound = [\n    { select: 'i18n-format', \n      'PolymerDom.children.0.textContent': [\n        ' outermost text at the beginning with compound {1} and {2} variables ',\n        'outermost header 1 with {1} and {2} variables',\n        ' outermost text in the middle with {1} and {2} variables ',\n        'simple text without id with {1} and {2} variables',\n        'simple text without id 2 with {1} and {2} variables',\n        'simple text with id and {1} and {2} variables',\n        'simple text with id and {1} and {2} variables 2',\n        'simple text within div with {1} and {2} variables',\n        'simple text within div with {1} and {2} variables 2',\n        'great grandchild text within div with {1} and {2} variables',\n        ' simple text as the first element in div with {1} and {2} variables ',\n        'simple text within div with {1} and {2} variables',\n        ' simple text in the middle of div with {1} and {2} variables ',\n        'simple text within div with {1} and {2} variables 2',\n        'great grandchild text within div with {1} and {2} variables',\n        ' simple text at the last element in div with {1} and {2} variables ',\n        'simple text within div with {1} and {2} variables',\n        'simple text within div 2 with {1} and {2} variables',\n        'great grandchild text within div with {1} and {2} variables',\n        'great grandchild text within div without id with {1} and {2} variables',\n        'line item without id 1 with {1} and {2} variables',\n        'line item without id 2 with {1} and {2} variables',\n        'line item without id 3 with {1} and {2} variables',\n        'line item with id 1 with {1} and {2} variables',\n        'line item with id 2 with {1} and {2} variables',\n        'line item with id 3 with {1} and {2} variables',\n        'A paragraph with {1} is converted to {2}.',\n        'A paragraph with {1}, {2}, and {3} is converted to {4}.',\n        ' outermost text at the end with {1} and {2} variables '\n      ],\n      'PolymerDom.children.1.textContent.raw': [\n        '1st compound parameter',\n        '1st compound parameter',\n        '1st compound parameter',\n        '1st compound parameter',\n        '1st compound parameter',\n        '1st compound parameter',\n        '1st compound parameter',\n        '1st compound parameter',\n        '1st compound parameter',\n        '1st compound parameter',\n        '1st compound parameter',\n        '1st compound parameter',\n        '1st compound parameter',\n        '1st compound parameter',\n        '1st compound parameter',\n        '1st compound parameter',\n        '1st compound parameter',\n        '1st compound parameter',\n        '1st compound parameter',\n        '1st compound parameter',\n        '1st compound parameter',\n        '1st compound parameter',\n        '1st compound parameter',\n        '1st compound parameter',\n        '1st compound parameter',\n        '1st compound parameter',\n        '1st compound parameter'\n      ],\n      'PolymerDom.children.2.textContent.raw': [\n        '2nd compound parameter',\n        '2nd compound parameter',\n        '2nd compound parameter',\n        '2nd compound parameter',\n        '2nd compound parameter',\n        '2nd compound parameter',\n        '2nd compound parameter',\n        '2nd compound parameter',\n        '2nd compound parameter',\n        '2nd compound parameter',\n        '2nd compound parameter',\n        '2nd compound parameter',\n        '2nd compound parameter',\n        '2nd compound parameter',\n        '2nd compound parameter',\n        '2nd compound parameter',\n        '2nd compound parameter',\n        '2nd compound parameter',\n        '2nd compound parameter',\n        '2nd compound parameter',\n        '2nd compound parameter',\n        '2nd compound parameter',\n        '2nd compound parameter',\n        '2nd compound parameter',\n        '2nd compound parameter',\n        '2nd compound parameter',\n        '2nd compound parameter',\n        '1st compound parameter',\n        '2nd compound parameter'\n      ]\n    },\n    { select: '[id=\"paragraph\"] i18n-format',\n      'PolymerDom.children.1.tagName': 'B',\n      'PolymerDom.children.1.textContent': 'id',\n      'PolymerDom.children.1.attributes.slot.value.raw': '1',\n      'PolymerDom.children.3.tagName': 'SPAN',\n      'PolymerDom.children.3.textContent.raw': '2nd compound parameter',\n      'PolymerDom.children.3.attributes.slot.value.raw': '3'\n    },\n    { select: '[id=\"paragraph\"] +i18n-format', \n      'PolymerDom.children.1.textContent.raw': '1st compound parameter'\n    }\n  ];\n\n  var suites = [\n    s('simple text default', null, { \n      fixture: 'simple-text-element-default-fixture', \n      fixtureModel: undefined, \n      assign: undefined,\n      lang: lang1,\n      effectiveLang: lang1,\n      templateDefaultLang: lang1,\n      observeHtmlLang: true,\n      text: text_simple,\n      model: {},\n      localDOM: localDOM_simple,\n      lightDOM: undefined\n    }),\n    s('commented simple text default', 'simple text default', {\n      fixture: 'commented-simple-text-element-default-fixture'\n    }),\n    s('simple text default null lang', 'simple text default', {\n      assign: { lang: lang0 },\n      lang: lang0,\n      effectiveLang: lang0\n    }),\n    s('commented simple text default null lang', 'commented simple text default', { \n      assign: { lang: lang0 },\n      lang: lang0,\n      effectiveLang: lang0\n    }),\n    s(lang2 + ' simple text default', 'simple text default', {\n      assign: { lang: lang2 },\n      lang: lang2,\n      effectiveLang: lang2\n    }),\n    s(lang2 + ' commented simple text default', 'commented simple text default', {\n      assign: { lang: lang2 },\n      lang: lang2,\n      effectiveLang: lang2\n    }),\n    s('simple text null lang', 'simple text default', {\n      fixture: 'simple-text-element-fixture',\n      fixtureModel: { observeHtmlLang: false, lang: lang0 }, \n      assign: { lang: lang0 },\n      lang: lang0,\n      effectiveLang: lang0,\n      observeHtmlLang: false\n    }),\n    s('simple text', 'simple text null lang', {\n      assign: { lang: lang1 },\n      lang: lang1,\n      effectiveLang: lang1\n    }),\n    s(lang2 + ' simple text', 'simple text', {\n      assign: { lang: lang2 },\n      lang: lang2,\n      effectiveLang: lang2\n    }),\n    s(lang6 + ' simple text', 'simple text', {\n      assign: { lang: lang6 },\n      lang: lang6,\n      effectiveLang: lang6\n    }),\n    s('commented simple text', 'simple text', {\n      fixture: 'commented-simple-text-element-fixture'\n    }),\n    s('commented simple text null lang', 'commented simple text', {\n      assign: { lang: lang0 },\n      lang: lang0,\n      effectiveLang: lang0\n    }),\n    s(lang2 + ' commented simple text', 'commented simple text', {\n      fixtureModel: { observeHtmlLang: false, lang: lang0 }, \n      assign: { lang: lang2 },\n      lang: lang2,\n      effectiveLang: lang2\n    }),\n    s(lang2 + ' static commented simple text', 'commented simple text', {\n      fixtureModel: { observeHtmlLang: false, lang: lang2 }, \n      assign: undefined,\n      lang: lang2,\n      effectiveLang: lang2\n    }),\n    s('simple text id', 'simple text', {\n      fixture: 'simple-text-id-element-fixture',\n      text: text_simple_text_id,\n      localDOM: localDOM_simple_text_id\n    }),\n    s(lang2 + ' simple text id', 'simple text id', {\n      assign: { lang: lang2 },\n      lang: lang2,\n      effectiveLang: lang2\n    }),\n    s('plural gender', 'simple text default', {\n      fixture: 'plural-gender-element-fixture', \n      fixtureModel: {\n        observeHtmlLang: false,\n        lang: lang0\n      }, \n      assign: {\n        lang: lang1,\n        sender: sender1,\n        recipients: recipients1\n      },\n      observeHtmlLang: false,\n      event: 'local-dom-ready',\n      text: text_plural_gender,\n      localDOM: localDOM_plural_gender_1\n    }),\n    s('plural gender 2', 'plural gender', {\n      assign: {\n        lang: lang1,\n        sender: sender1,\n        recipients: recipients2\n      },\n      localDOM: localDOM_plural_gender_2\n    }),\n    s('plural gender 3', 'plural gender', {\n      assign: {\n        lang: lang1,\n        sender: sender1,\n        recipients: recipients3\n      },\n      localDOM: localDOM_plural_gender_3\n    }),\n    s('plural gender 4', 'plural gender', {\n      assign: {\n        lang: lang1,\n        sender: sender1,\n        recipients: recipients4\n      },\n      localDOM: localDOM_plural_gender_4\n    }),\n    s(lang2 + ' plural gender', 'plural gender', {\n      assign: {\n        lang: lang2,\n        sender: sender1,\n        recipients: recipients1\n      },\n      lang: lang2,\n      effectiveLang: lang2\n    }),\n    s(lang2 + ' plural gender 2', 'plural gender 2', {\n      assign: {\n        lang: lang2,\n        sender: sender1,\n        recipients: recipients2\n      },\n      lang: lang2,\n      effectiveLang: lang2,\n      localDOM: localDOM_plural_gender_2\n    }),\n    s(lang2 + ' plural gender 3', 'plural gender 3', {\n      assign: {\n        lang: lang2,\n        sender: sender1,\n        recipients: recipients3\n      },\n      lang: lang2,\n      effectiveLang: lang2,\n      localDOM: localDOM_plural_gender_3\n    }),\n    s(lang2 + ' plural gender 4', 'plural gender 4', {\n      assign: {\n        lang: lang2,\n        sender: sender1,\n        recipients: recipients4\n      },\n      lang: lang2,\n      effectiveLang: lang2,\n      localDOM: localDOM_plural_gender_4\n    }),\n    s('simple attribute', 'simple text default', {\n      fixture: 'simple-attribute-element-fixture', \n      fixtureModel: {\n        observeHtmlLang: false,\n        lang: lang0\n      }, \n      assign: { lang: lang1 },\n      observeHtmlLang: false,\n      text: text_simple_attribute,\n      model: model_simple_attribute,\n      localDOM: localDOM_simple_attribute\n    }),\n    s(lang2 + ' simple attribute', 'simple attribute', {\n      assign: { lang: lang2 },\n      lang: lang2,\n      effectiveLang: lang2,\n      localDOM: localDOM_simple_attribute_fr\n    }),\n    s(lang4 + ' simple text default with fallback to ' + lang2, 'simple text default', {\n      timeout: 60000,\n      assign: { lang: lang4 },\n      lang: lang2,\n      effectiveLang: lang2\n    }),\n    s(lang4 + ' simple text with fallback to ' + lang2, 'simple text', {\n      timeout: 60000,\n      assign: { lang: lang4 },\n      lang: lang2,\n      effectiveLang: lang2\n    }),\n    s(lang5 + ' simple text with fallback to default', 'simple text', {\n      timeout: 60000,\n      assign: { lang: lang5 },\n      lang: lang0,\n      effectiveLang: lang0\n    }),\n    s(lang3 + ' simple text with fallback to default', 'simple text', {\n      timeout: 60000,\n      assign: { lang: lang3 },\n      lang: lang0,\n      effectiveLang: lang0\n    }),\n    s(lang4 + ' fallback text', 'simple text', {\n      timeout: 60000,\n      fixture: 'fallback-text-element-fixture', \n      assign: { lang: lang4 },\n      lang: lang4,\n      effectiveLang: lang4,\n      rawText: true,\n      text: text_fallback,\n      localDOM: localDOM_fallback\n    }),\n    s('compound binding', 'simple text', {\n      fixture: 'compound-binding-element-fixture',\n      fixtureModel: {\n        observeHtmlLang: false,\n        lang: lang0,\n        param1: param1,\n        param2: param2\n      },\n      text: text_compound,\n      localDOM: localDOM_compound\n    }),\n    s(lang2 + ' compound binding', 'compound binding', {\n      fixtureModel: {\n        observeHtmlLang: false,\n        lang: lang0,\n        param1: param1,\n        param2: param2\n      },\n      assign: { lang: lang2 },\n      lang: lang2,\n      effectiveLang: lang2\n    }),\n    s('simple attribute dom bind', 'simple attribute', {\n      fixture: 'simple-attribute-dom-bind', \n      fixtureModel: {\n        observeHtmlLang: false,\n        lang: lang0\n      }, \n      assign: { lang: lang1 },\n      event: 'local-dom-ready',\n      text: text_simple_attribute,\n      model: model_simple_attribute,\n      localDOM: localDOM_simple_attribute\n    }),\n    s(lang2 + ' simple attribute dom bind', 'simple attribute dom bind', {\n      fixtureModel: {\n        observeHtmlLang: false,\n        lang: lang0\n      },\n      assign: { lang: lang2 },\n      lang: lang2,\n      effectiveLang: lang2,\n      localDOM: localDOM_simple_attribute_fr\n    }),\n    s('compound binding dom bind', 'compound binding', {\n      fixture: 'compound-binding-dom-bind'\n    }),\n    s(lang2 + ' compound binding dom bind', 'compound binding dom bind', {\n      assign: { lang: lang2 },\n      lang: lang2,\n      effectiveLang: lang2\n    }),\n    s(lang2 + ' default observeHtmlLang simple text dom bind', 'simple text', {\n      fixture: 'simple-text-dom-bind',\n      fixtureModel: {\n        'html.lang': lang5\n      },\n      assign: { 'html.lang': lang2 },\n      lang: lang2,\n      effectiveLang: lang2,\n      text: text_simple,\n      model: undefined,\n      localDOM: localDOM_simple,\n      observeHtmlLang: true\n    }),\n    s('simple text dom bind', 'simple text', {\n      fixture: 'simple-text-dom-bind',\n      fixtureModel: {\n        observeHtmlLang: false,\n        lang: lang0\n      },\n      text: text_simple,\n      localDOM: localDOM_simple\n    }),\n    s(lang2 + ' simple text dom bind', 'simple text dom bind', {\n      assign: { lang: lang2 },\n      lang: lang2,\n      effectiveLang: lang2\n    }),\n    s('html.lang simple text dom bind', 'simple text dom bind', {\n      fixtureModel: {\n        observeHtmlLang: true,\n        lang: lang0,\n        'html.lang': lang0\n      },\n      assign: { 'html.lang': lang1 },\n      observeHtmlLang: true\n    }),\n    s(lang2 + ' html.lang simple text dom bind', 'html.lang simple text dom bind', {\n      assign: { 'html.lang': lang2 },\n      lang: lang2,\n      effectiveLang: lang2\n    }),\n    s('observeHtmlLang default simple text', 'simple text null lang', {\n      fixtureModel: {\n        observeHtmlLang: true\n      },\n      assign: { 'html.lang': lang1 },\n      lang: lang1,\n      effectiveLang: lang1,\n      observeHtmlLang: true\n    })\n  ];\n\n  suitesRunner(suites);\n});"]}